var $g=Object.defineProperty,Bg=Object.defineProperties;var Hg=Object.getOwnPropertyDescriptors;var ou=Object.getOwnPropertySymbols;var zg=Object.prototype.hasOwnProperty,Wg=Object.prototype.propertyIsEnumerable;var iu=(t,r,e)=>r in t?$g(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,y=(t,r)=>{for(var e in r||={})zg.call(r,e)&&iu(t,e,r[e]);if(ou)for(var e of ou(r))Wg.call(r,e)&&iu(t,e,r[e]);return t},W=(t,r)=>Bg(t,Hg(r));var sr=(t,r,e)=>new Promise((n,o)=>{var i=c=>{try{a(e.next(c))}catch(l){o(l)}},s=c=>{try{a(e.throw(c))}catch(l){o(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,s);a((e=e.apply(t,r)).next())});function js(t,r){return Object.is(t,r)}var fe=null,ho=!1,Us=1,Pe=Symbol("SIGNAL");function H(t){let r=fe;return fe=t,r}function su(){return fe}var cr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function go(t){if(ho)throw new Error("");if(fe===null)return;fe.consumerOnSignalRead(t);let r=fe.nextProducerIndex++;if(yo(fe),r<fe.producerNode.length&&fe.producerNode[r]!==t&&ar(fe)){let e=fe.producerNode[r];vo(e,fe.producerIndexOfThis[r])}fe.producerNode[r]!==t&&(fe.producerNode[r]=t,fe.producerIndexOfThis[r]=ar(fe)?lu(t,fe,r):0),fe.producerLastReadVersion[r]=t.version}function qg(){Us++}function Vs(t){if(!(ar(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Us)){if(!t.producerMustRecompute(t)&&!Bs(t)){Ls(t);return}t.producerRecomputeValue(t),Ls(t)}}function au(t){if(t.liveConsumerNode===void 0)return;let r=ho;ho=!0;try{for(let e of t.liveConsumerNode)e.dirty||Gg(e)}finally{ho=r}}function cu(){return fe?.consumerAllowSignalWrites!==!1}function Gg(t){t.dirty=!0,au(t),t.consumerMarkedDirty?.(t)}function Ls(t){t.dirty=!1,t.lastCleanEpoch=Us}function mo(t){return t&&(t.nextProducerIndex=0),H(t)}function $s(t,r){if(H(r),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ar(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)vo(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bs(t){yo(t);for(let r=0;r<t.producerNode.length;r++){let e=t.producerNode[r],n=t.producerLastReadVersion[r];if(n!==e.version||(Vs(e),n!==e.version))return!0}return!1}function Hs(t){if(yo(t),ar(t))for(let r=0;r<t.producerNode.length;r++)vo(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lu(t,r,e){if(uu(t),t.liveConsumerNode.length===0&&du(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=lu(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(r)-1}function vo(t,r){if(uu(t),t.liveConsumerNode.length===1&&du(t))for(let n=0;n<t.producerNode.length;n++)vo(t.producerNode[n],t.producerIndexOfThis[n]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[r],o=t.liveConsumerNode[r];yo(o),o.producerIndexOfThis[n]=r}}function ar(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function yo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uu(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function du(t){return t.producerNode!==void 0}function fu(t){let r=Object.create(Kg);r.computation=t;let e=()=>{if(Vs(r),go(r),r.value===po)throw r.error;return r.value};return e[Pe]=r,e}var Ps=Symbol("UNSET"),Fs=Symbol("COMPUTING"),po=Symbol("ERRORED"),Kg=W(y({},cr),{value:Ps,dirty:!0,error:null,equal:js,producerMustRecompute(t){return t.value===Ps||t.value===Fs},producerRecomputeValue(t){if(t.value===Fs)throw new Error("Detected cycle in computations.");let r=t.value;t.value=Fs;let e=mo(t),n;try{n=t.computation()}catch(o){n=po,t.error=o}finally{$s(t,e)}if(r!==Ps&&r!==po&&n!==po&&t.equal(r,n)){t.value=r;return}t.value=n,t.version++}});function Zg(){throw new Error}var hu=Zg;function pu(){hu()}function gu(t){hu=t}var Yg=null;function mu(t){let r=Object.create(zs);r.value=t;let e=()=>(go(r),r.value);return e[Pe]=r,e}function wo(t,r){cu()||pu(),t.equal(t.value,r)||(t.value=r,Qg(t))}function vu(t,r){cu()||pu(),wo(t,r(t.value))}var zs=W(y({},cr),{equal:js,value:void 0});function Qg(t){t.version++,qg(),au(t),Yg?.()}function A(t){return typeof t=="function"}function Ct(t){let e=t(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Do=Ct(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,o)=>`${o+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Bt(t,r){if(t){let e=t.indexOf(r);0<=e&&t.splice(e,1)}}var ie=class t{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(A(n))try{n()}catch(i){r=i instanceof Do?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{yu(i)}catch(s){r=r??[],s instanceof Do?r=[...r,...s.errors]:r.push(s)}}if(r)throw new Do(r)}}add(r){var e;if(r&&r!==this)if(this.closed)yu(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}}_hasParent(r){let{_parentage:e}=this;return e===r||Array.isArray(e)&&e.includes(r)}_addParent(r){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r}_removeParent(r){let{_parentage:e}=this;e===r?this._parentage=null:Array.isArray(e)&&Bt(e,r)}remove(r){let{_finalizers:e}=this;e&&Bt(e,r),r instanceof t&&r._removeParent(this)}};ie.EMPTY=(()=>{let t=new ie;return t.closed=!0,t})();var Ws=ie.EMPTY;function So(t){return t instanceof ie||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function yu(t){A(t)?t():t.unsubscribe()}var Be={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hn={setTimeout(t,r,...e){let{delegate:n}=hn;return n?.setTimeout?n.setTimeout(t,r,...e):setTimeout(t,r,...e)},clearTimeout(t){let{delegate:r}=hn;return(r?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Io(t){hn.setTimeout(()=>{let{onUnhandledError:r}=Be;if(r)r(t);else throw t})}function lr(){}var wu=qs("C",void 0,void 0);function Du(t){return qs("E",void 0,t)}function Su(t){return qs("N",t,void 0)}function qs(t,r,e){return{kind:t,value:r,error:e}}var Ht=null;function pn(t){if(Be.useDeprecatedSynchronousErrorHandling){let r=!Ht;if(r&&(Ht={errorThrown:!1,error:null}),t(),r){let{errorThrown:e,error:n}=Ht;if(Ht=null,e)throw n}}else t()}function Iu(t){Be.useDeprecatedSynchronousErrorHandling&&Ht&&(Ht.errorThrown=!0,Ht.error=t)}var zt=class extends ie{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,So(r)&&r.add(this)):this.destination=em}static create(r,e,n){return new gn(r,e,n)}next(r){this.isStopped?Ks(Su(r),this):this._next(r)}error(r){this.isStopped?Ks(Du(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Ks(wu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Jg=Function.prototype.bind;function Gs(t,r){return Jg.call(t,r)}var Zs=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:e}=this;if(e.next)try{e.next(r)}catch(n){Eo(n)}}error(r){let{partialObserver:e}=this;if(e.error)try{e.error(r)}catch(n){Eo(n)}else Eo(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(e){Eo(e)}}},gn=class extends zt{constructor(r,e,n){super();let o;if(A(r)||!r)o={next:r??void 0,error:e??void 0,complete:n??void 0};else{let i;this&&Be.useDeprecatedNextContext?(i=Object.create(r),i.unsubscribe=()=>this.unsubscribe(),o={next:r.next&&Gs(r.next,i),error:r.error&&Gs(r.error,i),complete:r.complete&&Gs(r.complete,i)}):o=r}this.destination=new Zs(o)}};function Eo(t){Be.useDeprecatedSynchronousErrorHandling?Iu(t):Io(t)}function Xg(t){throw t}function Ks(t,r){let{onStoppedNotification:e}=Be;e&&hn.setTimeout(()=>e(t,r))}var em={closed:!0,next:lr,error:Xg,complete:lr};var mn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function he(t){return t}function Ys(...t){return Qs(t)}function Qs(t){return t.length===0?he:t.length===1?t[0]:function(e){return t.reduce((n,o)=>o(n),e)}}var k=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,o){let i=nm(e)?e:new gn(e,n,o);return pn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=Eu(n),new n((o,i)=>{let s=new gn({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[mn](){return this}pipe(...e){return Qs(e)(this)}toPromise(e){return e=Eu(e),new e((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return t.create=r=>new t(r),t})();function Eu(t){var r;return(r=t??Be.Promise)!==null&&r!==void 0?r:Promise}function tm(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function nm(t){return t&&t instanceof zt||tm(t)&&So(t)}function Js(t){return A(t?.lift)}function x(t){return r=>{if(Js(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function R(t,r,e,n,o){return new Xs(t,r,e,n,o)}var Xs=class extends zt{constructor(r,e,n,o,i,s){super(r),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){r.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){r.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function vn(){return x((t,r)=>{let e=null;t._refCount++;let n=R(r,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),r.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}var yn=class extends k{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Js(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new ie;let e=this.getSubject();r.add(this.source.subscribe(R(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),r.closed&&(this._connection=null,r=ie.EMPTY)}return r}refCount(){return vn()(this)}};var Cu=Ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=(()=>{class t extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new Co(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new Cu}next(e){pn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){pn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){pn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:o,observers:i}=this;return n||o?Ws:(this.currentObservers=null,i.push(e),new ie(()=>{this.currentObservers=null,Bt(i,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:o,isStopped:i}=this;n?e.error(o):i&&e.complete()}asObservable(){let e=new k;return e.source=this,e}}return t.create=(r,e)=>new Co(r,e),t})(),Co=class extends J{constructor(r,e){super(),this.destination=r,this.source=e}next(r){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,r)}error(r){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,r)}complete(){var r,e;(e=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||e===void 0||e.call(r)}_subscribe(r){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(r))!==null&&n!==void 0?n:Ws}};var ae=class extends J{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){let{hasError:r,thrownError:e,_value:n}=this;if(r)throw e;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}};var ur={now(){return(ur.delegate||Date).now()},delegate:void 0};var dr=class extends J{constructor(r=1/0,e=1/0,n=ur){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){let{isStopped:e,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(n.push(r),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!r.closed;s+=n?1:2)r.next(i[s]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){let{_bufferSize:r,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*r;if(r<1/0&&i<n.length&&n.splice(0,n.length-i),!o){let s=e.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var bo=class extends ie{constructor(r,e){super()}schedule(r,e=0){return this}};var fr={setInterval(t,r,...e){let{delegate:n}=fr;return n?.setInterval?n.setInterval(t,r,...e):setInterval(t,r,...e)},clearInterval(t){let{delegate:r}=fr;return(r?.clearInterval||clearInterval)(t)},delegate:void 0};var To=class extends bo{constructor(r,e){super(r,e),this.scheduler=r,this.work=e,this.pending=!1}schedule(r,e=0){var n;if(this.closed)return this;this.state=r;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(i,this.id,e),this}requestAsyncId(r,e,n=0){return fr.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&fr.clearInterval(e)}execute(r,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(r,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,e){let n=!1,o;try{this.work(r)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:r,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Bt(n,this),r!=null&&(this.id=this.recycleAsyncId(e,r,null)),this.delay=null,super.unsubscribe()}}};var wn=class t{constructor(r,e=t.now){this.schedulerActionCtor=r,this.now=e}schedule(r,e=0,n){return new this.schedulerActionCtor(this,r).schedule(n,e)}};wn.now=ur.now;var Mo=class extends wn{constructor(r,e=wn.now){super(r,e),this.actions=[],this._active=!1}flush(r){let{actions:e}=this;if(this._active){e.push(r);return}let n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=e.shift());if(this._active=!1,n){for(;r=e.shift();)r.unsubscribe();throw n}}};var ea=new Mo(To),bu=ea;var Me=new k(t=>t.complete());function Ro(t){return t&&A(t.schedule)}function Tu(t){return t[t.length-1]}function Ao(t){return A(Tu(t))?t.pop():void 0}function bt(t){return Ro(Tu(t))?t.pop():void 0}function Ru(t,r,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(d){try{l(n.next(d))}catch(f){s(f)}}function c(d){try{l(n.throw(d))}catch(f){s(f)}}function l(d){d.done?i(d.value):o(d.value).then(a,c)}l((n=n.apply(t,r||[])).next())})}function Mu(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wt(t){return this instanceof Wt?(this.v=t,this):new Wt(t)}function Au(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(v){return Promise.resolve(v).then(h,f)}}function a(h,v){n[h]&&(o[h]=function(D){return new Promise(function(S,_){i.push([h,D,S,_])>1||c(h,D)})},v&&(o[h]=v(o[h])))}function c(h,v){try{l(n[h](v))}catch(D){p(i[0][3],D)}}function l(h){h.value instanceof Wt?Promise.resolve(h.value.v).then(d,f):p(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function p(h,v){h(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function _u(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof Mu=="function"?Mu(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var _o=t=>t&&typeof t.length=="number"&&typeof t!="function";function xo(t){return A(t?.then)}function ko(t){return A(t[mn])}function No(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function Oo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function rm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Po=rm();function Fo(t){return A(t?.[Po])}function Lo(t){return Au(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:n,done:o}=yield Wt(e.read());if(o)return yield Wt(void 0);yield yield Wt(n)}}finally{e.releaseLock()}})}function jo(t){return A(t?.getReader)}function X(t){if(t instanceof k)return t;if(t!=null){if(ko(t))return om(t);if(_o(t))return im(t);if(xo(t))return sm(t);if(No(t))return xu(t);if(Fo(t))return am(t);if(jo(t))return cm(t)}throw Oo(t)}function om(t){return new k(r=>{let e=t[mn]();if(A(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function im(t){return new k(r=>{for(let e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}function sm(t){return new k(r=>{t.then(e=>{r.closed||(r.next(e),r.complete())},e=>r.error(e)).then(null,Io)})}function am(t){return new k(r=>{for(let e of t)if(r.next(e),r.closed)return;r.complete()})}function xu(t){return new k(r=>{lm(t,r).catch(e=>r.error(e))})}function cm(t){return xu(Lo(t))}function lm(t,r){var e,n,o,i;return Ru(this,void 0,void 0,function*(){try{for(e=_u(t);n=yield e.next(),!n.done;){let s=n.value;if(r.next(s),r.closed)return}}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}r.complete()})}function me(t,r,e,n=0,o=!1){let i=r.schedule(function(){e(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!o)return i}function Uo(t,r=0){return x((e,n)=>{e.subscribe(R(n,o=>me(n,t,()=>n.next(o),r),()=>me(n,t,()=>n.complete(),r),o=>me(n,t,()=>n.error(o),r)))})}function Vo(t,r=0){return x((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),r))})}function ku(t,r){return X(t).pipe(Vo(r),Uo(r))}function Nu(t,r){return X(t).pipe(Vo(r),Uo(r))}function Ou(t,r){return new k(e=>{let n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}function Pu(t,r){return new k(e=>{let n;return me(e,r,()=>{n=t[Po](),me(e,r,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>A(n?.return)&&n.return()})}function $o(t,r){if(!t)throw new Error("Iterable cannot be null");return new k(e=>{me(e,r,()=>{let n=t[Symbol.asyncIterator]();me(e,r,()=>{n.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Fu(t,r){return $o(Lo(t),r)}function Lu(t,r){if(t!=null){if(ko(t))return ku(t,r);if(_o(t))return Ou(t,r);if(xo(t))return Nu(t,r);if(No(t))return $o(t,r);if(Fo(t))return Pu(t,r);if(jo(t))return Fu(t,r)}throw Oo(t)}function ee(t,r){return r?Lu(t,r):X(t)}function m(...t){let r=bt(t);return ee(t,r)}function E(t,r){let e=A(t)?t:()=>t,n=o=>o.error(e());return new k(r?o=>r.schedule(n,0,o):n)}function ta(t){return!!t&&(t instanceof k||A(t.lift)&&A(t.subscribe))}var ct=Ct(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Bo(t){return t instanceof Date&&!isNaN(t)}var Ho=Ct(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function na(t,r){let{first:e,each:n,with:o=um,scheduler:i=r??ea,meta:s=null}=Bo(t)?{first:t}:typeof t=="number"?{each:t}:t;if(e==null&&n==null)throw new TypeError("No timeout provided.");return x((a,c)=>{let l,d,f=null,p=0,h=v=>{d=me(c,i,()=>{try{l.unsubscribe(),X(o({meta:s,lastValue:f,seen:p})).subscribe(c)}catch(D){c.error(D)}},v)};l=a.subscribe(R(c,v=>{d?.unsubscribe(),p++,c.next(f=v),n>0&&h(n)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!p&&h(e!=null?typeof e=="number"?e:+e-i.now():n)})}function um(t){throw new Ho(t)}function w(t,r){return x((e,n)=>{let o=0;e.subscribe(R(n,i=>{n.next(t.call(r,i,o++))}))})}var{isArray:dm}=Array;function fm(t,r){return dm(r)?t(...r):t(r)}function zo(t){return w(r=>fm(t,r))}var{isArray:hm}=Array,{getPrototypeOf:pm,prototype:gm,keys:mm}=Object;function Wo(t){if(t.length===1){let r=t[0];if(hm(r))return{args:r,keys:null};if(vm(r)){let e=mm(r);return{args:e.map(n=>r[n]),keys:e}}}return{args:t,keys:null}}function vm(t){return t&&typeof t=="object"&&pm(t)===gm}function qo(t,r){return t.reduce((e,n,o)=>(e[n]=r[o],e),{})}function hr(...t){let r=bt(t),e=Ao(t),{args:n,keys:o}=Wo(t);if(n.length===0)return ee([],r);let i=new k(ym(n,r,o?s=>qo(o,s):he));return e?i.pipe(zo(e)):i}function ym(t,r,e=he){return n=>{ju(r,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ju(r,()=>{let l=ee(t[c],r),d=!1;l.subscribe(R(n,f=>{i[c]=f,d||(d=!0,a--),a||n.next(e(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}function ju(t,r,e){t?me(e,t,r):r()}function Uu(t,r,e,n,o,i,s,a){let c=[],l=0,d=0,f=!1,p=()=>{f&&!c.length&&!l&&r.complete()},h=D=>l<n?v(D):c.push(D),v=D=>{i&&r.next(D),l++;let S=!1;X(e(D,d++)).subscribe(R(r,_=>{o?.(_),i?h(_):r.next(_)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<n;){let _=c.shift();s?me(r,s,()=>v(_)):v(_)}p()}catch(_){r.error(_)}}))};return t.subscribe(R(r,h,()=>{f=!0,p()})),()=>{a?.()}}function te(t,r,e=1/0){return A(r)?te((n,o)=>w((i,s)=>r(n,i,o,s))(X(t(n,o))),e):(typeof r=="number"&&(e=r),x((n,o)=>Uu(n,o,t,e)))}function Dn(t=1/0){return te(he,t)}function Vu(){return Dn(1)}function Sn(...t){return Vu()(ee(t,bt(t)))}function Go(t){return new k(r=>{X(t()).subscribe(r)})}function qt(...t){let r=Ao(t),{args:e,keys:n}=Wo(t),o=new k(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;X(e[d]).subscribe(R(i,p=>{f||(f=!0,l--),a[d]=p},()=>c--,void 0,()=>{(!c||!f)&&(l||i.next(n?qo(n,a):a),i.complete())}))}});return r?o.pipe(zo(r)):o}function Gt(t=0,r,e=bu){let n=-1;return r!=null&&(Ro(r)?e=r:n=r),new k(o=>{let i=Bo(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function Re(t,r){return x((e,n)=>{let o=0;e.subscribe(R(n,i=>t.call(r,i,o++)&&n.next(i)))})}function K(t){return x((r,e)=>{let n=null,o=!1,i;n=r.subscribe(R(e,void 0,void 0,s=>{i=X(t(s,K(t)(r))),n?(n.unsubscribe(),n=null,i.subscribe(e)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(e))})}function $u(t,r,e,n,o){return(i,s)=>{let a=e,c=r,l=0;i.subscribe(R(s,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),n&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function U(t,r){return A(r)?te(t,r,1):te(t,1)}function Tt(t){return x((r,e)=>{let n=!1;r.subscribe(R(e,o=>{n=!0,e.next(o)},()=>{n||e.next(t),e.complete()}))})}function Se(t){return t<=0?()=>Me:x((r,e)=>{let n=0;r.subscribe(R(e,o=>{++n<=t&&(e.next(o),t<=n&&e.complete())}))})}function ra(t){return w(()=>t)}function oa(t,r=he){return t=t??wm,x((e,n)=>{let o,i=!0;e.subscribe(R(n,s=>{let a=r(s);(i||!t(o,a))&&(i=!1,o=a,n.next(s))}))})}function wm(t,r){return t===r}function Ko(t=Dm){return x((r,e)=>{let n=!1;r.subscribe(R(e,o=>{n=!0,e.next(o)},()=>n?e.complete():e.error(t())))})}function Dm(){return new ct}function Ge(t){return x((r,e)=>{try{r.subscribe(e)}finally{e.add(t)}})}function lt(t,r){let e=arguments.length>=2;return n=>n.pipe(t?Re((o,i)=>t(o,i,n)):he,Se(1),e?Tt(r):Ko(()=>new ct))}function In(t){return t<=0?()=>Me:x((r,e)=>{let n=[];r.subscribe(R(e,o=>{n.push(o),t<n.length&&n.shift()},()=>{for(let o of n)e.next(o);e.complete()},void 0,()=>{n=null}))})}function ia(t,r){let e=arguments.length>=2;return n=>n.pipe(t?Re((o,i)=>t(o,i,n)):he,In(1),e?Tt(r):Ko(()=>new ct))}function Kt(t=1/0){let r;t&&typeof t=="object"?r=t:r={count:t};let{count:e=1/0,delay:n,resetOnSuccess:o=!1}=r;return e<=0?he:x((i,s)=>{let a=0,c,l=()=>{let d=!1;c=i.subscribe(R(s,f=>{o&&(a=0),s.next(f)},void 0,f=>{if(a++<e){let p=()=>{c?(c.unsubscribe(),c=null,l()):d=!0};if(n!=null){let h=typeof n=="number"?Gt(n):X(n(f,a)),v=R(s,()=>{v.unsubscribe(),p()},()=>{s.complete()});h.subscribe(v)}else p()}else s.error(f)})),d&&(c.unsubscribe(),c=null,l())};l()})}function pr(t){return x((r,e)=>{let n,o=!1,i,s=()=>{n=r.subscribe(R(e,void 0,void 0,a=>{i||(i=new J,X(t(i)).subscribe(R(e,()=>n?s():o=!0))),i&&i.next(a)})),o&&(n.unsubscribe(),n=null,o=!1,s())};s()})}function sa(t,r){return x($u(t,r,arguments.length>=2,!0))}function aa(...t){let r=bt(t);return x((e,n)=>{(r?Sn(t,e,r):Sn(t,e)).subscribe(n)})}function $(t,r){return x((e,n)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&n.complete();e.subscribe(R(n,c=>{o?.unsubscribe();let l=0,d=i++;X(t(c,d)).subscribe(o=R(n,f=>n.next(r?r(c,f,d,l++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ca(t){return x((r,e)=>{X(t).subscribe(R(e,()=>e.complete(),lr)),!e.closed&&r.subscribe(e)})}function q(t,r,e){let n=A(t)||r||e?{next:t,error:r,complete:e}:t;return n?x((o,i)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;o.subscribe(R(i,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),i.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),i.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):he}var Td="https://g.co/ng/security#xss",C=class extends Error{code;constructor(r,e){super(Ii(r,e)),this.code=r}};function Ii(t,r){return`${`NG0${Math.abs(t)}`}${r?": "+r:""}`}var Md=Symbol("InputSignalNode#UNSET"),Sm=W(y({},zs),{transformFn:void 0,applyValueToInputSignal(t,r){wo(t,r)}});function Rd(t,r){let e=Object.create(Sm);e.value=t,e.transformFn=r?.transform;function n(){if(go(e),e.value===Md)throw new C(-950,!1);return e.value}return n[Pe]=e,n}function ic(t){return{toString:t}.toString()}var ma=globalThis;function Z(t){for(let r in t)if(t[r]===Z)return r;throw Error("Could not find renamed property on target object.")}function Ae(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ae).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let r=t.toString();if(r==null)return""+r;let e=r.indexOf(`
`);return e===-1?r:r.substring(0,e)}function Bu(t,r){return t==null||t===""?r===null?"":r:r==null||r===""?t:t+" "+r}var Im=Z({__forward_ref__:Z});function Ad(t){return t.__forward_ref__=Ad,t.toString=function(){return Ae(this())},t}function Le(t){return _d(t)?t():t}function _d(t){return typeof t=="function"&&t.hasOwnProperty(Im)&&t.__forward_ref__===Ad}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ei(t){return Hu(t,kd)||Hu(t,Nd)}function xd(t){return Ei(t)!==null}function Hu(t,r){return t.hasOwnProperty(r)?t[r]:null}function Em(t){let r=t&&(t[kd]||t[Nd]);return r||null}function zu(t){return t&&(t.hasOwnProperty(Wu)||t.hasOwnProperty(Cm))?t[Wu]:null}var kd=Z({\u0275prov:Z}),Wu=Z({\u0275inj:Z}),Nd=Z({ngInjectableDef:Z}),Cm=Z({ngInjectorDef:Z}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(r,e){this._desc=r,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Od(t){return t&&!!t.\u0275providers}var bm=Z({\u0275cmp:Z}),Tm=Z({\u0275dir:Z}),Mm=Z({\u0275pipe:Z}),Rm=Z({\u0275mod:Z}),ni=Z({\u0275fac:Z}),yr=Z({__NG_ELEMENT_ID__:Z}),qu=Z({__NG_ENV_ID__:Z});function Ci(t){return typeof t=="string"?t:t==null?"":String(t)}function Am(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ci(t)}function _m(t,r){let e=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new C(-200,t)}function sc(t,r){throw new C(-201,!1)}var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(P||{}),va;function Pd(){return va}function Fe(t){let r=va;return va=t,r}function Fd(t,r,e){let n=Ei(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&P.Optional)return null;if(r!==void 0)return r;sc(t,"Injector")}var xm={},wr=xm,km="__NG_DI_FLAG__",ri="ngTempTokenPath",Nm="ngTokenPath",Om=/\n/gm,Pm="\u0275",Gu="__source",Tn;function Fm(){return Tn}function Mt(t){let r=Tn;return Tn=t,r}function Lm(t,r=P.Default){if(Tn===void 0)throw new C(-203,!1);return Tn===null?Fd(t,void 0,r):Tn.get(t,r&P.Optional?null:void 0,r)}function M(t,r=P.Default){return(Pd()||Lm)(Le(t),r)}function u(t,r=P.Default){return M(t,bi(r))}function bi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ya(t){let r=[];for(let e=0;e<t.length;e++){let n=Le(t[e]);if(Array.isArray(n)){if(n.length===0)throw new C(900,!1);let o,i=P.Default;for(let s=0;s<n.length;s++){let a=n[s],c=jm(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}r.push(M(o,i))}else r.push(M(n))}return r}function jm(t){return t[km]}function Um(t,r,e,n){let o=t[ri];throw r[Gu]&&o.unshift(r[Gu]),t.message=Vm(`
`+t.message,o,e,n),t[Nm]=o,t[ri]=null,t}function Vm(t,r,e,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Pm?t.slice(2):t;let o=Ae(r);if(Array.isArray(r))o=r.map(Ae).join(" -> ");else if(typeof r=="object"){let i=[];for(let s in r)if(r.hasOwnProperty(s)){let a=r[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ae(a)))}o=`{${i.join(", ")}}`}return`${e}${n?"("+n+")":""}[${o}]: ${t.replace(Om,`
  `)}`}function Rn(t,r){let e=t.hasOwnProperty(ni);return e?t[ni]:null}function $m(t,r,e){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){let o=t[n],i=r[n];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}function Bm(t){return t.flat(Number.POSITIVE_INFINITY)}function ac(t,r){t.forEach(e=>Array.isArray(e)?ac(e,r):r(e))}function Ld(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function oi(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}var Dr={},An=[],_n=new b(""),jd=new b("",-1),Ud=new b(""),ii=class{get(r,e=wr){if(e===wr){let n=new Error(`NullInjectorError: No provider for ${Ae(r)}!`);throw n.name="NullInjectorError",n}return e}};function Vd(t,r){let e=t[Rm]||null;if(!e&&r===!0)throw new Error(`Type ${Ae(t)} does not have '\u0275mod' property.`);return e}function _t(t){return t[bm]||null}function $d(t){return t[Tm]||null}function Bd(t){return t[Mm]||null}function Hd(t){let r=_t(t)||$d(t)||Bd(t);return r!==null?r.standalone:!1}function Pt(t){return{\u0275providers:t}}function Hm(...t){return{\u0275providers:zd(!0,t),\u0275fromNgModule:!0}}function zd(t,...r){let e=[],n=new Set,o,i=s=>{e.push(s)};return ac(r,s=>{let a=s;wa(a,i,[],n)&&(o||=[],o.push(a))}),o!==void 0&&Wd(o,i),e}function Wd(t,r){for(let e=0;e<t.length;e++){let{ngModule:n,providers:o}=t[e];cc(o,i=>{r(i,n)})}}function wa(t,r,e,n){if(t=Le(t),!t)return!1;let o=null,i=zu(t),s=!i&&_t(t);if(!i&&!s){let c=t.ngModule;if(i=zu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)wa(l,r,e,n)}}else if(i){if(i.imports!=null&&!a){n.add(o);let l;try{ac(i.imports,d=>{wa(d,r,e,n)&&(l||=[],l.push(d))})}finally{}l!==void 0&&Wd(l,r)}if(!a){let l=Rn(o)||(()=>new o);r({provide:o,useFactory:l,deps:An},o),r({provide:Ud,useValue:o,multi:!0},o),r({provide:_n,useValue:()=>M(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;cc(c,d=>{r(d,l)})}}else return!1;return o!==t&&t.providers!==void 0}function cc(t,r){for(let e of t)Od(e)&&(e=e.\u0275providers),Array.isArray(e)?cc(e,r):r(e)}var zm=Z({provide:String,useValue:Z});function qd(t){return t!==null&&typeof t=="object"&&zm in t}function Wm(t){return!!(t&&t.useExisting)}function qm(t){return!!(t&&t.useFactory)}function Da(t){return typeof t=="function"}var Ti=new b(""),Yo={},Gm={},la;function lc(){return la===void 0&&(la=new ii),la}var Ee=class{},Sr=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(r,e,n,o){super(),this.parent=e,this.source=n,this.scopes=o,Ia(r,s=>this.processProvider(s)),this.records.set(jd,En(void 0,this)),o.has("environment")&&this.records.set(Ee,En(void 0,this));let i=this.records.get(Ti);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ud,An,P.Self))}destroy(){mr(this),this._destroyed=!0;let r=H(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(r)}}onDestroy(r){return mr(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){mr(this);let e=Mt(this),n=Fe(void 0),o;try{return r()}finally{Mt(e),Fe(n)}}get(r,e=wr,n=P.Default){if(mr(this),r.hasOwnProperty(qu))return r[qu](this);n=bi(n);let o,i=Mt(this),s=Fe(void 0);try{if(!(n&P.SkipSelf)){let c=this.records.get(r);if(c===void 0){let l=Xm(r)&&Ei(r);l&&this.injectableDefInScope(l)?c=En(Sa(r),Yo):c=null,this.records.set(r,c)}if(c!=null)return this.hydrate(r,c)}let a=n&P.Self?lc():this.parent;return e=n&P.Optional&&e===wr?null:e,a.get(r,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ri]=a[ri]||[]).unshift(Ae(r)),i)throw a;return Um(a,r,"R3InjectorError",this.source)}else throw a}finally{Fe(s),Mt(i)}}resolveInjectorInitializers(){let r=H(null),e=Mt(this),n=Fe(void 0),o;try{let i=this.get(_n,An,P.Self);for(let s of i)s()}finally{Mt(e),Fe(n),H(r)}}toString(){let r=[],e=this.records;for(let n of e.keys())r.push(Ae(n));return`R3Injector[${r.join(", ")}]`}processProvider(r){r=Le(r);let e=Da(r)?r:Le(r&&r.provide),n=Zm(r);if(!Da(r)&&r.multi===!0){let o=this.records.get(e);o||(o=En(void 0,Yo,!0),o.factory=()=>ya(o.multi),this.records.set(e,o)),e=r,o.multi.push(r)}this.records.set(e,n)}hydrate(r,e){let n=H(null);try{return e.value===Yo&&(e.value=Gm,e.value=e.factory()),typeof e.value=="object"&&e.value&&Jm(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{H(n)}}injectableDefInScope(r){if(!r.providedIn)return!1;let e=Le(r.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(r){let e=this._onDestroyHooks.indexOf(r);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Sa(t){let r=Ei(t),e=r!==null?r.factory:Rn(t);if(e!==null)return e;if(t instanceof b)throw new C(204,!1);if(t instanceof Function)return Km(t);throw new C(204,!1)}function Km(t){if(t.length>0)throw new C(204,!1);let e=Em(t);return e!==null?()=>e.factory(t):()=>new t}function Zm(t){if(qd(t))return En(void 0,t.useValue);{let r=Ym(t);return En(r,Yo)}}function Ym(t,r,e){let n;if(Da(t)){let o=Le(t);return Rn(o)||Sa(o)}else if(qd(t))n=()=>Le(t.useValue);else if(qm(t))n=()=>t.useFactory(...ya(t.deps||[]));else if(Wm(t))n=()=>M(Le(t.useExisting));else{let o=Le(t&&(t.useClass||t.provide));if(Qm(t))n=()=>new o(...ya(t.deps));else return Rn(o)||Sa(o)}return n}function mr(t){if(t.destroyed)throw new C(205,!1)}function En(t,r,e=!1){return{factory:t,value:r,multi:e?[]:void 0}}function Qm(t){return!!t.deps}function Jm(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Xm(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function Ia(t,r){for(let e of t)Array.isArray(e)?Ia(e,r):e&&Od(e)?Ia(e.\u0275providers,r):r(e)}function ke(t,r){t instanceof Sr&&mr(t);let e,n=Mt(t),o=Fe(void 0);try{return r()}finally{Mt(n),Fe(o)}}function Gd(){return Pd()!==void 0||Fm()!=null}function Kd(t){if(!Gd())throw new C(-203,!1)}function ev(t){return typeof t=="function"}var gt=0,F=1,T=2,ve=3,ze=4,We=5,si=6,ai=7,ut=8,xn=9,dt=10,ye=11,Ir=12,Ku=13,Mr=14,Ye=15,Yt=16,Cn=17,ft=18,Mi=19,Zd=20,Rt=21,ua=22,ci=23,_e=24,Qt=25,Yd=1;var Jt=7,li=8,kn=9,xe=10,ui=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ui||{});function At(t){return Array.isArray(t)&&typeof t[Yd]=="object"}function mt(t){return Array.isArray(t)&&t[Yd]===!0}function Qd(t){return(t.flags&4)!==0}function Ri(t){return t.componentOffset>-1}function Jd(t){return(t.flags&1)===1}function Rr(t){return!!t.template}function Ea(t){return(t[T]&512)!==0}var Ca=class{previousValue;currentValue;firstChange;constructor(r,e,n){this.previousValue=r,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function Xd(t,r,e,n){r!==null?r.applyValueToInputSignal(r,n):t[e]=n}var Ar=(()=>{let t=()=>ef;return t.ngInherit=!0,t})();function ef(t){return t.type.prototype.ngOnChanges&&(t.setInput=nv),tv}function tv(){let t=nf(this),r=t?.current;if(r){let e=t.previous;if(e===Dr)t.previous=r;else for(let n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function nv(t,r,e,n,o){let i=this.declaredInputs[n],s=nf(t)||rv(t,{previous:Dr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Ca(l&&l.currentValue,e,c===Dr),Xd(t,r,o,e)}var tf="__ngSimpleChanges__";function nf(t){return t[tf]||null}function rv(t,r){return t[tf]=r}var Zu=null;var Ke=function(t,r,e){Zu?.(t,r,e)},ov="svg",iv="math";function Qe(t){for(;Array.isArray(t);)t=t[gt];return t}function sv(t,r){return Qe(r[t])}function je(t,r){return Qe(r[t.index])}function rf(t,r){return t.data[r]}function Ft(t,r){let e=r[t];return At(e)?e:e[gt]}function av(t){return(t[T]&4)===4}function uc(t){return(t[T]&128)===128}function cv(t){return mt(t[ve])}function Yu(t,r){return r==null?null:t[r]}function of(t){t[Cn]=0}function dc(t){t[T]&1024||(t[T]|=1024,uc(t)&&_i(t))}function Ai(t){return!!(t[T]&9216||t[_e]?.dirty)}function ba(t){t[dt].changeDetectionScheduler?.notify(9),t[T]&64&&(t[T]|=1024),Ai(t)&&_i(t)}function _i(t){t[dt].changeDetectionScheduler?.notify(0);let r=Xt(t);for(;r!==null&&!(r[T]&8192||(r[T]|=8192,!uc(r)));)r=Xt(r)}function sf(t,r){if((t[T]&256)===256)throw new C(911,!1);t[Rt]===null&&(t[Rt]=[]),t[Rt].push(r)}function lv(t,r){if(t[Rt]===null)return;let e=t[Rt].indexOf(r);e!==-1&&t[Rt].splice(e,1)}function Xt(t){let r=t[ve];return mt(r)?r[ve]:r}var B={lFrame:pf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ta=!1;function uv(){return B.lFrame.elementDepthCount}function dv(){B.lFrame.elementDepthCount++}function fv(){B.lFrame.elementDepthCount--}function af(){return B.bindingsEnabled}function hv(){return B.skipHydrationRootTNode!==null}function pv(t){return B.skipHydrationRootTNode===t}function gv(){B.skipHydrationRootTNode=null}function re(){return B.lFrame.lView}function vt(){return B.lFrame.tView}function Ce(){let t=cf();for(;t!==null&&t.type===64;)t=t.parent;return t}function cf(){return B.lFrame.currentTNode}function mv(){let t=B.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function xi(t,r){let e=B.lFrame;e.currentTNode=t,e.isParent=r}function lf(){return B.lFrame.isParent}function vv(){B.lFrame.isParent=!1}function uf(){return Ta}function Qu(t){let r=Ta;return Ta=t,r}function yv(){let t=B.lFrame,r=t.bindingRootIndex;return r===-1&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function wv(t){return B.lFrame.bindingIndex=t}function fc(){return B.lFrame.bindingIndex++}function Dv(){return B.lFrame.inI18n}function Sv(t,r){let e=B.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ma(r)}function Iv(){return B.lFrame.currentDirectiveIndex}function Ma(t){B.lFrame.currentDirectiveIndex=t}function df(){return B.lFrame.currentQueryIndex}function hc(t){B.lFrame.currentQueryIndex=t}function Ev(t){let r=t[F];return r.type===2?r.declTNode:r.type===1?t[We]:null}function ff(t,r,e){if(e&P.SkipSelf){let o=r,i=t;for(;o=o.parent,o===null&&!(e&P.Host);)if(o=Ev(i),o===null||(i=i[Mr],o.type&10))break;if(o===null)return!1;r=o,t=i}let n=B.lFrame=hf();return n.currentTNode=r,n.lView=t,!0}function pc(t){let r=hf(),e=t[F];B.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function hf(){let t=B.lFrame,r=t===null?null:t.child;return r===null?pf(t):r}function pf(t){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=r),r}function gf(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mf=gf;function gc(){let t=gf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mc(){return B.lFrame.selectedIndex}function en(t){B.lFrame.selectedIndex=t}function vf(){let t=B.lFrame;return rf(t.tView,t.selectedIndex)}function Cv(){return B.lFrame.currentNamespace}var yf=!0;function wf(){return yf}function Df(t){yf=t}function bv(t,r,e){let{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=r.type.prototype;if(n){let s=ef(r);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}function Sf(t,r){for(let e=r.directiveStart,n=r.directiveEnd;e<n;e++){let i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),d!=null&&(t.destroyHooks??=[]).push(e,d)}}function Qo(t,r,e){If(t,r,3,e)}function Jo(t,r,e,n){(t[T]&3)===e&&If(t,r,e,n)}function da(t,r){let e=t[T];(e&3)===r&&(e&=16383,e+=1,t[T]=e)}function If(t,r,e,n){let o=n!==void 0?t[Cn]&65535:0,i=n??-1,s=r.length-1,a=0;for(let c=o;c<s;c++)if(typeof r[c+1]=="number"){if(a=r[c],n!=null&&a>=n)break}else r[c]<0&&(t[Cn]+=65536),(a<i||i==-1)&&(Tv(t,e,r,c),t[Cn]=(t[Cn]&4294901760)+c+2),c++}function Ju(t,r){Ke(4,t,r);let e=H(null);try{r.call(t)}finally{H(e),Ke(5,t,r)}}function Tv(t,r,e,n){let o=e[n]<0,i=e[n+1],s=o?-e[n]:e[n],a=t[s];o?t[T]>>14<t[Cn]>>16&&(t[T]&3)===r&&(t[T]+=16384,Ju(a,i)):Ju(a,i)}var Mn=-1,Er=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,e,n){this.factory=r,this.canSeeViewProviders=e,this.injectImpl=n}};function Mv(t){return t instanceof Er}function Rv(t){return(t.flags&8)!==0}function Av(t){return(t.flags&16)!==0}function Ra(t,r,e){let n=0;for(;n<e.length;){let o=e[n];if(typeof o=="number"){if(o!==0)break;n++;let i=e[n++],s=e[n++],a=e[n++];t.setAttribute(r,s,a,i)}else{let i=o,s=e[++n];_v(i)?t.setProperty(r,i,s):t.setAttribute(r,i,s),n++}}return n}function Ef(t){return t===3||t===4||t===6}function _v(t){return t.charCodeAt(0)===64}function vc(t,r){if(!(r===null||r.length===0))if(t===null||t.length===0)t=r.slice();else{let e=-1;for(let n=0;n<r.length;n++){let o=r[n];typeof o=="number"?e=o:e===0||(e===-1||e===2?Xu(t,e,o,null,r[++n]):Xu(t,e,o,null,null))}}return t}function Xu(t,r,e,n,o){let i=0,s=t.length;if(r===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===r){s=-1;break}else if(a>r){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===e){if(n===null){o!==null&&(t[i+1]=o);return}else if(n===t[i+1]){t[i+2]=o;return}}i++,n!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,r),i=s+1),t.splice(i++,0,e),n!==null&&t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}var fa={},Aa=class{injector;parentInjector;constructor(r,e){this.injector=r,this.parentInjector=e}get(r,e,n){n=bi(n);let o=this.injector.get(r,fa,n);return o!==fa||e===fa?o:this.parentInjector.get(r,e,n)}};function Cf(t){return t!==Mn}function di(t){return t&32767}function xv(t){return t>>16}function fi(t,r){let e=xv(t),n=r;for(;e>0;)n=n[Mr],e--;return n}var _a=!0;function ed(t){let r=_a;return _a=t,r}var kv=256,bf=kv-1,Tf=5,Nv=0,Ze={};function Ov(t,r,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(yr)&&(n=e[yr]),n==null&&(n=e[yr]=Nv++);let o=n&bf,i=1<<o;r.data[t+(o>>Tf)]|=i}function Mf(t,r){let e=Rf(t,r);if(e!==-1)return e;let n=r[F];n.firstCreatePass&&(t.injectorIndex=r.length,ha(n.data,t),ha(r,null),ha(n.blueprint,null));let o=yc(t,r),i=t.injectorIndex;if(Cf(o)){let s=di(o),a=fi(o,r),c=a[F].data;for(let l=0;l<8;l++)r[i+l]=a[s+l]|c[s+l]}return r[i+8]=o,i}function ha(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Rf(t,r){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||r[t.injectorIndex+8]===null?-1:t.injectorIndex}function yc(t,r){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,n=null,o=r;for(;o!==null;){if(n=Nf(o),n===null)return Mn;if(e++,o=o[Mr],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return Mn}function Pv(t,r,e){Ov(t,r,e)}function Fv(t,r){if(r==="class")return t.classes;if(r==="style")return t.styles;let e=t.attrs;if(e){let n=e.length,o=0;for(;o<n;){let i=e[o];if(Ef(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<n&&typeof e[o]=="string";)o++;else{if(i===r)return e[o+1];o=o+2}}}return null}function Af(t,r,e){if(e&P.Optional||t!==void 0)return t;sc(r,"NodeInjector")}function _f(t,r,e,n){if(e&P.Optional&&n===void 0&&(n=null),!(e&(P.Self|P.Host))){let o=t[xn],i=Fe(void 0);try{return o?o.get(r,n,e&P.Optional):Fd(r,n,e&P.Optional)}finally{Fe(i)}}return Af(n,r,e)}function xf(t,r,e,n=P.Default,o){if(t!==null){if(r[T]&2048&&!(n&P.Self)){let s=Vv(t,r,e,n,Ze);if(s!==Ze)return s}let i=kf(t,r,e,n,Ze);if(i!==Ze)return i}return _f(r,e,n,o)}function kf(t,r,e,n,o){let i=jv(e);if(typeof i=="function"){if(!ff(r,t,n))return n&P.Host?Af(o,e,n):_f(r,e,n,o);try{let s;if(s=i(n),s==null&&!(n&P.Optional))sc(e);else return s}finally{mf()}}else if(typeof i=="number"){let s=null,a=Rf(t,r),c=Mn,l=n&P.Host?r[Ye][We]:null;for((a===-1||n&P.SkipSelf)&&(c=a===-1?yc(t,r):r[a+8],c===Mn||!nd(n,!1)?a=-1:(s=r[F],a=di(c),r=fi(c,r)));a!==-1;){let d=r[F];if(td(i,a,d.data)){let f=Lv(a,r,e,s,n,l);if(f!==Ze)return f}c=r[a+8],c!==Mn&&nd(n,r[F].data[a+8]===l)&&td(i,a,r)?(s=d,a=di(c),r=fi(c,r)):a=-1}}return o}function Lv(t,r,e,n,o,i){let s=r[F],a=s.data[t+8],c=n==null?Ri(a)&&_a:n!=s&&(a.type&3)!==0,l=o&P.Host&&i===a,d=Xo(a,s,e,c,l);return d!==null?Nn(r,s,d,a):Ze}function Xo(t,r,e,n,o){let i=t.providerIndexes,s=r.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,d=i>>20,f=n?a:a+d,p=o?a+d:l;for(let h=f;h<p;h++){let v=s[h];if(h<c&&e===v||h>=c&&v.type===e)return h}if(o){let h=s[c];if(h&&Rr(h)&&h.type===e)return c}return null}function Nn(t,r,e,n){let o=t[e],i=r.data;if(Mv(o)){let s=o;s.resolving&&_m(Am(i[e]));let a=ed(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fe(s.injectImpl):null,d=ff(t,n,P.Default);try{o=t[e]=s.factory(void 0,i,t,n),r.firstCreatePass&&e>=n.directiveStart&&bv(e,i[e],r)}finally{l!==null&&Fe(l),ed(a),s.resolving=!1,mf()}}return o}function jv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let r=t.hasOwnProperty(yr)?t[yr]:void 0;return typeof r=="number"?r>=0?r&bf:Uv:r}function td(t,r,e){let n=1<<t;return!!(e[r+(t>>Tf)]&n)}function nd(t,r){return!(t&P.Self)&&!(t&P.Host&&r)}var Zt=class{_tNode;_lView;constructor(r,e){this._tNode=r,this._lView=e}get(r,e,n){return xf(this._tNode,this._lView,r,bi(n),e)}};function Uv(){return new Zt(Ce(),re())}function wc(t){return ic(()=>{let r=t.prototype.constructor,e=r[ni]||xa(r),n=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==n;){let i=o[ni]||xa(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function xa(t){return _d(t)?()=>{let r=xa(Le(t));return r&&r()}:Rn(t)}function Vv(t,r,e,n,o){let i=t,s=r;for(;i!==null&&s!==null&&s[T]&2048&&!(s[T]&512);){let a=kf(i,s,e,n|P.Self,Ze);if(a!==Ze)return a;let c=i.parent;if(!c){let l=s[Zd];if(l){let d=l.get(e,Ze,n);if(d!==Ze)return d}c=Nf(s),s=s[Mr]}i=c}return o}function Nf(t){let r=t[F],e=r.type;return e===2?r.declTNode:e===1?t[We]:null}function Dc(t){return Fv(Ce(),t)}function rd(t,r=null,e=null,n){let o=Of(t,r,e,n);return o.resolveInjectorInitializers(),o}function Of(t,r=null,e=null,n,o=new Set){let i=[e||An,Hm(t)];return n=n||(typeof t=="object"?void 0:Ae(t)),new Sr(i,r||lc(),n||null,o)}var ht=class t{static THROW_IF_NOT_FOUND=wr;static NULL=new ii;static create(r,e){if(Array.isArray(r))return rd({name:""},e,r,"");{let n=r.name??"";return rd({name:n},r.parent,r.providers,n)}}static \u0275prov=g({token:t,providedIn:"any",factory:()=>M(jd)});static __NG_ELEMENT_ID__=-1};var $v=new b("");$v.__NG_ELEMENT_ID__=t=>{let r=Ce();if(r===null)throw new C(204,!1);if(r.type&2)return r.value;if(t&P.Optional)return null;throw new C(204,!1)};var Pf=!1,_r=(()=>{class t{static __NG_ELEMENT_ID__=Bv;static __NG_ENV_ID__=e=>e}return t})(),ka=class extends _r{_lView;constructor(r){super(),this._lView=r}onDestroy(r){return sf(this._lView,r),()=>lv(this._lView,r)}};function Bv(){return new ka(re())}var Cr=class{},ki=new b("",{providedIn:"root",factory:()=>!1});var Ff=new b(""),Lf=new b(""),yt=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ae(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=g({token:t,providedIn:"root",factory:()=>new t})}return t})();var Na=class extends J{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,Gd()&&(this.destroyRef=u(_r,{optional:!0})??void 0,this.pendingTasks=u(yt,{optional:!0})??void 0)}emit(r){let e=H(null);try{super.next(r)}finally{H(e)}}subscribe(r,e,n){let o=r,i=e||(()=>null),s=n;if(r&&typeof r=="object"){let c=r;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return r instanceof ie&&r.add(a),a}wrapInTimeout(r){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{r(e),n!==void 0&&this.pendingTasks?.remove(n)})}}},Ie=Na;function hi(...t){}function jf(t){let r,e;function n(){t=hi;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),n()})),()=>n()}function od(t){return queueMicrotask(()=>t()),()=>{t=hi}}var Sc="isAngularZone",pi=Sc+"_ID",Hv=0,ne=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ie(!1);onMicrotaskEmpty=new Ie(!1);onStable=new Ie(!1);onError=new Ie(!1);constructor(r){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Pf}=r;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&n,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,qv(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Sc)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(r,e,n){return this._inner.run(r,e,n)}runTask(r,e,n,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,r,zv,hi,hi);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(r,e,n){return this._inner.runGuarded(r,e,n)}runOutsideAngular(r){return this._outer.run(r)}},zv={};function Ic(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function r(){jf(()=>{t.callbackScheduled=!1,Oa(t),t.isCheckStableRunning=!0,Ic(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{r()}):t._outer.run(()=>{r()}),Oa(t)}function qv(t){let r=()=>{Wv(t)},e=Hv++;t._inner=t._inner.fork({name:"angular",properties:{[Sc]:!0,[pi]:e,[pi+e]:!0},onInvokeTask:(n,o,i,s,a,c)=>{if(Gv(c))return n.invokeTask(i,s,a,c);try{return id(t),n.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&r(),sd(t)}},onInvoke:(n,o,i,s,a,c,l)=>{try{return id(t),n.invoke(i,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Kv(c)&&r(),sd(t)}},onHasTask:(n,o,i,s)=>{n.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Oa(t),Ic(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,o,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Oa(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function id(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sd(t){t._nesting--,Ic(t)}var Pa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ie;onMicrotaskEmpty=new Ie;onStable=new Ie;onError=new Ie;run(r,e,n){return r.apply(e,n)}runGuarded(r,e,n){return r.apply(e,n)}runOutsideAngular(r){return r()}runTask(r,e,n,o){return r.apply(e,n)}};function Gv(t){return Uf(t,"__ignore_ng_zone__")}function Kv(t){return Uf(t,"__scheduler_tick__")}function Uf(t,r){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[r]===!0}var xt=class{_console=console;handleError(r){this._console.error("ERROR",r)}},Zv=new b("",{providedIn:"root",factory:()=>{let t=u(ne),r=u(xt);return e=>t.runOutsideAngular(()=>r.handleError(e))}});function ad(t,r){return Rd(t,r)}function Yv(t){return Rd(Md,t)}var Vf=(ad.required=Yv,ad);function Qv(){return Ln(Ce(),re())}function Ln(t,r){return new wt(je(t,r))}var wt=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Qv}return t})();function Jv(t){return t instanceof wt?t.nativeElement:t}function Xv(){return this._results[Symbol.iterator]()}var Fa=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new J}constructor(r=!1){this._emitDistinctChangesOnly=r}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,e){return this._results.reduce(r,e)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,e){this.dirty=!1;let n=Bm(r);(this._changesDetected=!$m(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Xv};function $f(t){return(t.flags&128)===128}var Bf=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bf||{}),Hf=new Map,ey=0;function ty(){return ey++}function ny(t){Hf.set(t[Mi],t)}function La(t){Hf.delete(t[Mi])}var cd="__ngContext__";function On(t,r){At(r)?(t[cd]=r[Mi],ny(r)):t[cd]=r}function zf(t){return qf(t[Ir])}function Wf(t){return qf(t[ze])}function qf(t){for(;t!==null&&!mt(t);)t=t[ze];return t}var ja;function Gf(t){ja=t}function ry(){if(ja!==void 0)return ja;if(typeof document<"u")return document;throw new C(210,!1)}var Ec=new b("",{providedIn:"root",factory:()=>oy}),oy="ng",Cc=new b(""),Xe=new b("",{providedIn:"platform",factory:()=>"unknown"});var bc=new b("",{providedIn:"root",factory:()=>ry().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var iy="h",sy="b";var Kf=!1,ay=new b("",{providedIn:"root",factory:()=>Kf});var Zf=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Zf||{}),Yf=new b(""),ld=new Set;function jn(t){ld.has(t)||(ld.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var cy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=g({token:t,providedIn:"root",factory:()=>new t})}return t})();var ly=()=>null;function Tc(t,r,e=!1){return ly(t,r,e)}var Je=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Je||{});var Zo;function uy(){if(Zo===void 0&&(Zo=null,ma.trustedTypes))try{Zo=ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zo}function ud(t){return uy()?.createScriptURL(t)||t}var gi=class{changingThisBreaksApplicationSecurity;constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Td})`}};function Ni(t){return t instanceof gi?t.changingThisBreaksApplicationSecurity:t}function Mc(t,r){let e=dy(t);if(e!=null&&e!==r){if(e==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${e} (see ${Td})`)}return e===r}function dy(t){return t instanceof gi&&t.getTypeName()||null}var fy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qf(t){return t=String(t),t.match(fy)?t:"unsafe:"+t}var Oi=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Oi||{});function Rc(t){let r=Xf();return r?r.sanitize(Oi.URL,t)||"":Mc(t,"URL")?Ni(t):Qf(Ci(t))}function hy(t){let r=Xf();if(r)return ud(r.sanitize(Oi.RESOURCE_URL,t)||"");if(Mc(t,"ResourceURL"))return ud(Ni(t));throw new C(904,!1)}function py(t,r){return r==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||r==="href"&&(t==="base"||t==="link")?hy:Rc}function Jf(t,r,e){return py(r,e)(t)}function Xf(){let t=re();return t&&t[dt].sanitizer}function eh(t){return t instanceof Function?t():t}var kt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(kt||{}),nn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(nn||{}),gy;function Ac(t,r){return gy(t,r)}function bn(t,r,e,n,o){if(n!=null){let i,s=!1;mt(n)?i=n:At(n)&&(s=!0,n=n[gt]);let a=Qe(n);t===0&&e!==null?o==null?ih(r,e,a):mi(r,e,a,o||null,!0):t===1&&e!==null?mi(r,e,a,o||null,!0):t===2?_y(r,a,s):t===3&&r.destroyNode(a),i!=null&&ky(r,t,i,e,o)}}function my(t,r){return t.createText(r)}function vy(t,r,e){t.setValue(r,e)}function th(t,r,e){return t.createElement(r,e)}function yy(t,r){nh(t,r),r[gt]=null,r[We]=null}function wy(t,r,e,n,o,i){n[gt]=o,n[We]=r,Pi(t,n,e,1,o,i)}function nh(t,r){r[dt].changeDetectionScheduler?.notify(10),Pi(t,r,r[ye],2,null,null)}function Dy(t){let r=t[Ir];if(!r)return pa(t[F],t);for(;r;){let e=null;if(At(r))e=r[Ir];else{let n=r[xe];n&&(e=n)}if(!e){for(;r&&!r[ze]&&r!==t;)At(r)&&pa(r[F],r),r=r[ve];r===null&&(r=t),At(r)&&pa(r[F],r),e=r&&r[ze]}r=e}}function Sy(t,r,e,n){let o=xe+n,i=e.length;n>0&&(e[o-1][ze]=r),n<i-xe?(r[ze]=e[o],Ld(e,xe+n,r)):(e.push(r),r[ze]=null),r[ve]=e;let s=r[Yt];s!==null&&e!==s&&rh(s,r);let a=r[ft];a!==null&&a.insertView(t),ba(r),r[T]|=128}function rh(t,r){let e=t[kn],n=r[ve];if(At(n))t[T]|=ui.HasTransplantedViews;else{let o=n[ve][Ye];r[Ye]!==o&&(t[T]|=ui.HasTransplantedViews)}e===null?t[kn]=[r]:e.push(r)}function _c(t,r){let e=t[kn],n=e.indexOf(r);e.splice(n,1)}function Ua(t,r){if(t.length<=xe)return;let e=xe+r,n=t[e];if(n){let o=n[Yt];o!==null&&o!==t&&_c(o,n),r>0&&(t[e-1][ze]=n[ze]);let i=oi(t,xe+r);yy(n[F],n);let s=i[ft];s!==null&&s.detachView(i[F]),n[ve]=null,n[ze]=null,n[T]&=-129}return n}function oh(t,r){if(!(r[T]&256)){let e=r[ye];e.destroyNode&&Pi(t,r,e,3,null,null),Dy(r)}}function pa(t,r){if(r[T]&256)return;let e=H(null);try{r[T]&=-129,r[T]|=256,r[_e]&&Hs(r[_e]),Ey(t,r),Iy(t,r),r[F].type===1&&r[ye].destroy();let n=r[Yt];if(n!==null&&mt(r[ve])){n!==r[ve]&&_c(n,r);let o=r[ft];o!==null&&o.detachView(t)}La(r)}finally{H(e)}}function Iy(t,r){let e=t.cleanup,n=r[ai];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?n[a]():n[-a].unsubscribe(),s+=2}else{let a=n[e[s+1]];e[s].call(a)}n!==null&&(r[ai]=null);let o=r[Rt];if(o!==null){r[Rt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=r[ci];if(i!==null){r[ci]=null;for(let s of i)s.destroy()}}function Ey(t,r){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let o=r[e[n]];if(!(o instanceof Er)){let i=e[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Ke(4,a,c);try{c.call(a)}finally{Ke(5,a,c)}}else{Ke(4,o,i);try{i.call(o)}finally{Ke(5,o,i)}}}}}function Cy(t,r,e){return by(t,r.parent,e)}function by(t,r,e){let n=r;for(;n!==null&&n.type&168;)r=n,n=r.parent;if(n===null)return e[gt];{let{componentOffset:o}=n;if(o>-1){let{encapsulation:i}=t.data[n.directiveStart+o];if(i===Je.None||i===Je.Emulated)return null}return je(n,e)}}function mi(t,r,e,n,o){t.insertBefore(r,e,n,o)}function ih(t,r,e){t.appendChild(r,e)}function dd(t,r,e,n,o){n!==null?mi(t,r,e,n,o):ih(t,r,e)}function sh(t,r){return t.parentNode(r)}function Ty(t,r){return t.nextSibling(r)}function My(t,r,e){return Ay(t,r,e)}function Ry(t,r,e){return t.type&40?je(t,e):null}var Ay=Ry,fd;function ah(t,r,e,n){let o=Cy(t,n,r),i=r[ye],s=n.parent||r[We],a=My(s,n,r);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)dd(i,o,e[c],a,!1);else dd(i,o,e,a,!1);fd!==void 0&&fd(i,n,r,e,o)}function vr(t,r){if(r!==null){let e=r.type;if(e&3)return je(r,t);if(e&4)return Va(-1,t[r.index]);if(e&8){let n=r.child;if(n!==null)return vr(t,n);{let o=t[r.index];return mt(o)?Va(-1,o):Qe(o)}}else{if(e&128)return vr(t,r.next);if(e&32)return Ac(r,t)()||Qe(t[r.index]);{let n=ch(t,r);if(n!==null){if(Array.isArray(n))return n[0];let o=Xt(t[Ye]);return vr(o,n)}else return vr(t,r.next)}}}return null}function ch(t,r){if(r!==null){let n=t[Ye][We],o=r.projection;return n.projection[o]}return null}function Va(t,r){let e=xe+t+1;if(e<r.length){let n=r[e],o=n[F].firstChild;if(o!==null)return vr(n,o)}return r[Jt]}function _y(t,r,e){t.removeChild(null,r,e)}function xc(t,r,e,n,o,i,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=n[e.index],c=e.type;if(s&&r===0&&(a&&On(Qe(a),n),e.flags|=2),(e.flags&32)!==32)if(c&8)xc(t,r,e.child,n,o,i,!1),bn(r,t,o,a,i);else if(c&32){let l=Ac(e,n),d;for(;d=l();)bn(r,t,o,d,i);bn(r,t,o,a,i)}else c&16?xy(t,r,n,e,o,i):bn(r,t,o,a,i);e=s?e.projectionNext:e.next}}function Pi(t,r,e,n,o,i){xc(e,n,t.firstChild,r,o,i,!1)}function xy(t,r,e,n,o,i){let s=e[Ye],c=s[We].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];bn(r,t,o,d,i)}else{let l=c,d=s[ve];$f(n)&&(l.flags|=128),xc(t,r,l,d,o,i,!0)}}function ky(t,r,e,n,o){let i=e[Jt],s=Qe(e);i!==s&&bn(r,t,n,i,o);for(let a=xe;a<e.length;a++){let c=e[a];Pi(c[F],c,t,r,n,i)}}function Ny(t,r,e){t.setAttribute(r,"style",e)}function lh(t,r,e){e===""?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e)}function uh(t,r,e){let{mergedAttrs:n,classes:o,styles:i}=e;n!==null&&Ra(t,r,n),o!==null&&lh(t,r,o),i!==null&&Ny(t,r,i)}function Oy(t,r,e){let n=t.length;for(;;){let o=t.indexOf(r,e);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=r.length;if(o+i===n||t.charCodeAt(o+i)<=32)return o}e=o+1}}var dh="ng-template";function Py(t,r,e,n){let o=0;if(n){for(;o<r.length&&typeof r[o]=="string";o+=2)if(r[o]==="class"&&Oy(r[o+1].toLowerCase(),e,0)!==-1)return!0}else if(kc(t))return!1;if(o=r.indexOf(1,o),o>-1){let i;for(;++o<r.length&&typeof(i=r[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function kc(t){return t.type===4&&t.value!==dh}function Fy(t,r,e){let n=t.type===4&&!e?dh:t.value;return r===n}function Ly(t,r,e){let n=4,o=t.attrs,i=o!==null?Vy(o):0,s=!1;for(let a=0;a<r.length;a++){let c=r[a];if(typeof c=="number"){if(!s&&!He(n)&&!He(c))return!1;if(s&&He(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!Fy(t,c,e)||c===""&&r.length===1){if(He(n))return!1;s=!0}}else if(n&8){if(o===null||!Py(t,o,c,e)){if(He(n))return!1;s=!0}}else{let l=r[++a],d=jy(c,o,kc(t),e);if(d===-1){if(He(n))return!1;s=!0;continue}if(l!==""){let f;if(d>i?f="":f=o[d+1].toLowerCase(),n&2&&l!==f){if(He(n))return!1;s=!0}}}}return He(n)||s}function He(t){return(t&1)===0}function jy(t,r,e,n){if(r===null)return-1;let o=0;if(n||!e){let i=!1;for(;o<r.length;){let s=r[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=r[++o];for(;typeof a=="string";)a=r[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return $y(r,t)}function Uy(t,r,e=!1){for(let n=0;n<r.length;n++)if(Ly(t,r[n],e))return!0;return!1}function Vy(t){for(let r=0;r<t.length;r++){let e=t[r];if(Ef(e))return r}return t.length}function $y(t,r){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let n=t[e];if(typeof n=="number")return-1;if(n===r)return e;e++}return-1}function hd(t,r){return t?":not("+r.trim()+")":r}function By(t){let r=t[0],e=1,n=2,o="",i=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(n&2){let a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?o+="."+s:n&4&&(o+=" "+s);else o!==""&&!He(s)&&(r+=hd(i,o),o=""),n=s,i=i||!He(n);e++}return o!==""&&(r+=hd(i,o)),r}function Hy(t){return t.map(By).join(",")}function zy(t){let r=[],e=[],n=1,o=2;for(;n<t.length;){let i=t[n];if(typeof i=="string")o===2?i!==""&&r.push(i,t[++n]):o===8&&e.push(i);else{if(!He(o))break;o=i}n++}return{attrs:r,classes:e}}var xr={};function et(t=1){fh(vt(),re(),mc()+t,!1)}function fh(t,r,e,n){if(!n)if((r[T]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Qo(r,i,e)}else{let i=t.preOrderHooks;i!==null&&Jo(r,i,0,e)}en(e)}function ce(t,r=P.Default){let e=re();if(e===null)return M(t,r);let n=Ce();return xf(n,e,Le(t),r)}function hh(t,r,e,n,o,i){let s=H(null);try{let a=null;o&kt.SignalBased&&(a=r[n][Pe]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&kt.HasDecoratorInputTransform&&(i=t.inputTransforms[n].call(r,i)),t.setInput!==null?t.setInput(r,a,i,e,n):Xd(r,a,n,i)}finally{H(s)}}function Wy(t,r){let e=t.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let o=e[n];if(o<0)en(~o);else{let i=o,s=e[++n],a=e[++n];Sv(s,i);let c=r[i];a(2,c)}}}finally{en(-1)}}function Fi(t,r,e,n,o,i,s,a,c,l,d){let f=r.blueprint.slice();return f[gt]=o,f[T]=n|4|128|8|64|1024,(l!==null||t&&t[T]&2048)&&(f[T]|=2048),of(f),f[ve]=f[Mr]=t,f[ut]=e,f[dt]=s||t&&t[dt],f[ye]=a||t&&t[ye],f[xn]=c||t&&t[xn]||null,f[We]=i,f[Mi]=ty(),f[si]=d,f[Zd]=l,f[Ye]=r.type==2?t[Ye]:f,f}function Nc(t,r,e,n,o){let i=t.data[r];if(i===null)i=qy(t,r,e,n,o),Dv()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=n,i.attrs=o;let s=mv();i.injectorIndex=s===null?-1:s.injectorIndex}return xi(i,!0),i}function qy(t,r,e,n,o){let i=cf(),s=lf(),a=s?i:i&&i.parent,c=t.data[r]=ew(t,a,e,r,n,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function ph(t,r,e,n){if(e===0)return-1;let o=r.length;for(let i=0;i<e;i++)r.push(n),t.blueprint.push(n),t.data.push(null);return o}function gh(t,r,e,n,o){let i=mc(),s=n&2;try{en(-1),s&&r.length>Qt&&fh(t,r,Qt,!1),Ke(s?2:0,o),e(n,o)}finally{en(i),Ke(s?3:1,o)}}function mh(t,r,e){if(Qd(r)){let n=H(null);try{let o=r.directiveStart,i=r.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{H(n)}}}function Gy(t,r,e){af()&&(cw(t,r,e,je(e,r)),(e.flags&64)===64&&Dh(t,r,e))}function Ky(t,r,e=je){let n=r.localNames;if(n!==null){let o=r.index+1;for(let i=0;i<n.length;i+=2){let s=n[i+1],a=s===-1?e(r,t):t[s];t[o++]=a}}}function vh(t){let r=t.tView;return r===null||r.incompleteFirstPass?t.tView=yh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function yh(t,r,e,n,o,i,s,a,c,l,d){let f=Qt+n,p=f+o,h=Zy(f,p),v=typeof l=="function"?l():l;return h[F]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:r,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function Zy(t,r){let e=[];for(let n=0;n<r;n++)e.push(n<t?null:xr);return e}function Yy(t,r,e,n){let i=n.get(ay,Kf)||e===Je.ShadowDom,s=t.selectRootElement(r,i);return Qy(s),s}function Qy(t){Jy(t)}var Jy=()=>null;function Xy(t,r,e,n){let o=Eh(r);o.push(e),t.firstCreatePass&&Ch(t).push(n,o.length-1)}function ew(t,r,e,n,o,i){let s=r?r.injectorIndex:-1,a=0;return hv()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pd(t,r,e,n,o){for(let i in r){if(!r.hasOwnProperty(i))continue;let s=r[i];if(s===void 0)continue;n??={};let a,c=kt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}t===0?gd(n,e,l,a,c):gd(n,e,l,a)}return n}function gd(t,r,e,n,o){let i;t.hasOwnProperty(e)?(i=t[e]).push(r,n):i=t[e]=[r,n],o!==void 0&&i.push(o)}function tw(t,r,e){let n=r.directiveStart,o=r.directiveEnd,i=t.data,s=r.attrs,a=[],c=null,l=null;for(let d=n;d<o;d++){let f=i[d],p=e?e.get(f):null,h=p?p.inputs:null,v=p?p.outputs:null;c=pd(0,f.inputs,d,c,h),l=pd(1,f.outputs,d,l,v);let D=c!==null&&s!==null&&!kc(r)?ww(c,d,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(r.flags|=8),c.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=a,r.inputs=c,r.outputs=l}function nw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function rw(t,r,e,n,o,i,s,a){let c=je(r,e),l=r.inputs,d;!a&&l!=null&&(d=l[n])?(Pc(t,e,d,n,o),Ri(r)&&ow(e,r.index)):r.type&3?(n=nw(n),o=s!=null?s(o,r.value||"",n):o,i.setProperty(c,n,o)):r.type&12}function ow(t,r){let e=Ft(r,t);e[T]&16||(e[T]|=64)}function iw(t,r,e,n){if(af()){let o=n===null?null:{"":-1},i=uw(t,e),s,a;i===null?s=a=null:[s,a]=i,s!==null&&wh(t,r,e,s,o,a),o&&dw(e,n,o)}e.mergedAttrs=vc(e.mergedAttrs,e.attrs)}function wh(t,r,e,n,o,i){for(let l=0;l<n.length;l++)Pv(Mf(e,r),t,n[l].type);hw(e,t.data.length,n.length);for(let l=0;l<n.length;l++){let d=n[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=ph(t,r,n.length,null);for(let l=0;l<n.length;l++){let d=n[l];e.mergedAttrs=vc(e.mergedAttrs,d.hostAttrs),pw(t,e,r,c,d),fw(c,d,o),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}tw(t,e,i)}function sw(t,r,e,n,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~r.index;aw(s)!=a&&s.push(a),s.push(e,n,i)}}function aw(t){let r=t.length;for(;r>0;){let e=t[--r];if(typeof e=="number"&&e<0)return e}return 0}function cw(t,r,e,n){let o=e.directiveStart,i=e.directiveEnd;Ri(e)&&gw(r,e,t.data[o+e.componentOffset]),t.firstCreatePass||Mf(e,r),On(n,r);let s=e.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],l=Nn(r,t,a,e);if(On(l,r),s!==null&&yw(r,a-o,l,c,e,s),Rr(c)){let d=Ft(e.index,r);d[ut]=Nn(r,t,a,e)}}}function Dh(t,r,e){let n=e.directiveStart,o=e.directiveEnd,i=e.index,s=Iv();try{en(i);for(let a=n;a<o;a++){let c=t.data[a],l=r[a];Ma(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&lw(c,l)}}finally{en(-1),Ma(s)}}function lw(t,r){t.hostBindings!==null&&t.hostBindings(1,r)}function uw(t,r){let e=t.directiveRegistry,n=null,o=null;if(e)for(let i=0;i<e.length;i++){let s=e[i];if(Uy(r,s.selectors,!1))if(n||(n=[]),Rr(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s);let c=a.length;$a(t,r,c)}else n.unshift(s),$a(t,r,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return n===null?null:[n,o]}function $a(t,r,e){r.componentOffset=e,(t.components??=[]).push(r.index)}function dw(t,r,e){if(r){let n=t.localNames=[];for(let o=0;o<r.length;o+=2){let i=e[r[o+1]];if(i==null)throw new C(-301,!1);n.push(r[o],i)}}}function fw(t,r,e){if(e){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;Rr(r)&&(e[""]=t)}}function hw(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function pw(t,r,e,n,o){t.data[n]=o;let i=o.factory||(o.factory=Rn(o.type,!0)),s=new Er(i,Rr(o),ce);t.blueprint[n]=s,e[n]=s,sw(t,r,n,ph(t,e,o.hostVars,xr),o)}function Sh(t){let r=16;return t.signals?r=4096:t.onPush&&(r=64),r}function gw(t,r,e){let n=je(r,t),o=vh(e),i=t[dt].rendererFactory,s=Oc(t,Fi(t,o,null,Sh(e),n,r,null,i.createRenderer(n,e),null,null,null));t[r.index]=s}function mw(t,r,e,n,o,i){let s=je(t,r);vw(r[ye],s,i,t.value,e,n,o)}function vw(t,r,e,n,o,i,s){if(i==null)t.removeAttribute(r,o,e);else{let a=s==null?Ci(i):s(i,n||"",o);t.setAttribute(r,o,a,e)}}function yw(t,r,e,n,o,i){let s=i[r];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],f=s[a++];hh(n,e,c,l,d,f)}}function ww(t,r,e){let n=null,o=0;for(;o<e.length;){let i=e[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){n===null&&(n=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===r){n.push(i,s[a+1],s[a+2],e[o+1]);break}}o+=2}return n}function Dw(t,r,e,n){return[t,!0,0,r,null,n,null,e,null,null]}function Ih(t,r){let e=t.contentQueries;if(e!==null){let n=H(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=t.data[s];hc(i),a.contentQueries(2,r[s],s)}}}finally{H(n)}}}function Oc(t,r){return t[Ir]?t[Ku][ze]=r:t[Ir]=r,t[Ku]=r,r}function Ba(t,r,e){hc(0);let n=H(null);try{r(t,e)}finally{H(n)}}function Eh(t){return t[ai]??=[]}function Ch(t){return t.cleanup??=[]}function bh(t,r){let e=t[xn],n=e?e.get(xt,null):null;n&&n.handleError(r)}function Pc(t,r,e,n,o){for(let i=0;i<e.length;){let s=e[i++],a=e[i++],c=e[i++],l=r[s],d=t.data[s];hh(d,l,n,a,c,o)}}function Sw(t,r,e){let n=sv(r,t);vy(t[ye],n,e)}function Iw(t,r){let e=Ft(r,t),n=e[F];Ew(n,e);let o=e[gt];o!==null&&e[si]===null&&(e[si]=Tc(o,e[xn])),Fc(n,e,e[ut])}function Ew(t,r){for(let e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])}function Fc(t,r,e){pc(r);try{let n=t.viewQuery;n!==null&&Ba(1,n,e);let o=t.template;o!==null&&gh(t,r,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),r[ft]?.finishViewCreation(t),t.staticContentQueries&&Ih(t,r),t.staticViewQueries&&Ba(2,t.viewQuery,e);let i=t.components;i!==null&&Cw(r,i)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{r[T]&=-5,gc()}}function Cw(t,r){for(let e=0;e<r.length;e++)Iw(t,r[e])}function bw(t,r,e,n){let o=H(null);try{let i=r.tView,a=t[T]&4096?4096:16,c=Fi(t,i,e,a,null,r,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=t[r.index];c[Yt]=l;let d=t[ft];return d!==null&&(c[ft]=d.createEmbeddedView(i)),Fc(i,c,e),c}finally{H(o)}}function md(t,r){return!r||r.firstChild===null||$f(t)}function Tw(t,r,e,n=!0){let o=r[F];if(Sy(o,r,t,e),n){let s=Va(e,t),a=r[ye],c=sh(a,t[Jt]);c!==null&&wy(o,t[We],a,r,c,s)}let i=r[si];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function vi(t,r,e,n,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=r[e.index];i!==null&&n.push(Qe(i)),mt(i)&&Mw(i,n);let s=e.type;if(s&8)vi(t,r,e.child,n);else if(s&32){let a=Ac(e,r),c;for(;c=a();)n.push(c)}else if(s&16){let a=ch(r,e);if(Array.isArray(a))n.push(...a);else{let c=Xt(r[Ye]);vi(c[F],c,a,n,!0)}}e=o?e.projectionNext:e.next}return n}function Mw(t,r){for(let e=xe;e<t.length;e++){let n=t[e],o=n[F].firstChild;o!==null&&vi(n[F],n,o,r)}t[Jt]!==t[gt]&&r.push(t[Jt])}var Th=[];function Rw(t){return t[_e]??Aw(t)}function Aw(t){let r=Th.pop()??Object.create(xw);return r.lView=t,r}function _w(t){t.lView[_e]!==t&&(t.lView=null,Th.push(t))}var xw=W(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_i(t.lView)},consumerOnSignalRead(){this.lView[_e]=this}});function kw(t){let r=t[_e]??Object.create(Nw);return r.lView=t,r}var Nw=W(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=Xt(t.lView);for(;r&&!Mh(r[F]);)r=Xt(r);r&&dc(r)},consumerOnSignalRead(){this.lView[_e]=this}});function Mh(t){return t.type!==2}function Rh(t){if(t[ci]===null)return;let r=!0;for(;r;){let e=!1;for(let n of t[ci])n.dirty&&(e=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));r=e&&!!(t[T]&8192)}}var Ow=100;function Ah(t,r=!0,e=0){let o=t[dt].rendererFactory,i=!1;i||o.begin?.();try{Pw(t,e)}catch(s){throw r&&bh(t,s),s}finally{i||o.end?.()}}function Pw(t,r){let e=uf();try{Qu(!0),Ha(t,r);let n=0;for(;Ai(t);){if(n===Ow)throw new C(103,!1);n++,Ha(t,1)}}finally{Qu(e)}}function Fw(t,r,e,n){let o=r[T];if((o&256)===256)return;let i=!1,s=!1;pc(r);let a=!0,c=null,l=null;i||(Mh(t)?(l=Rw(r),c=mo(l)):su()===null?(a=!1,l=kw(r),c=mo(l)):r[_e]&&(Hs(r[_e]),r[_e]=null));try{of(r),wv(t.bindingStartIndex),e!==null&&gh(t,r,e,2,n);let d=(o&3)===3;if(!i)if(d){let h=t.preOrderCheckHooks;h!==null&&Qo(r,h,null)}else{let h=t.preOrderHooks;h!==null&&Jo(r,h,0,null),da(r,0)}if(s||Lw(r),Rh(r),_h(r,0),t.contentQueries!==null&&Ih(t,r),!i)if(d){let h=t.contentCheckHooks;h!==null&&Qo(r,h)}else{let h=t.contentHooks;h!==null&&Jo(r,h,1),da(r,1)}Wy(t,r);let f=t.components;f!==null&&kh(r,f,0);let p=t.viewQuery;if(p!==null&&Ba(2,p,n),!i)if(d){let h=t.viewCheckHooks;h!==null&&Qo(r,h)}else{let h=t.viewHooks;h!==null&&Jo(r,h,2),da(r,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),r[ua]){for(let h of r[ua])h();r[ua]=null}i||(r[T]&=-73)}catch(d){throw i||_i(r),d}finally{l!==null&&($s(l,c),a&&_w(l)),gc()}}function _h(t,r){for(let e=zf(t);e!==null;e=Wf(e))for(let n=xe;n<e.length;n++){let o=e[n];xh(o,r)}}function Lw(t){for(let r=zf(t);r!==null;r=Wf(r)){if(!(r[T]&ui.HasTransplantedViews))continue;let e=r[kn];for(let n=0;n<e.length;n++){let o=e[n];dc(o)}}}function jw(t,r,e){let n=Ft(r,t);xh(n,e)}function xh(t,r){uc(t)&&Ha(t,r)}function Ha(t,r){let n=t[F],o=t[T],i=t[_e],s=!!(r===0&&o&16);if(s||=!!(o&64&&r===0),s||=!!(o&1024),s||=!!(i?.dirty&&Bs(i)),s||=!1,i&&(i.dirty=!1),t[T]&=-9217,s)Fw(n,t,n.template,t[ut]);else if(o&8192){Rh(t),_h(t,1);let a=n.components;a!==null&&kh(t,a,1)}}function kh(t,r,e){for(let n=0;n<r.length;n++)jw(t,r[n],e)}function Lc(t,r){let e=uf()?64:1088;for(t[dt].changeDetectionScheduler?.notify(r);t;){t[T]|=e;let n=Xt(t);if(Ea(t)&&!n)return t;t=n}return null}var tn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let r=this._lView,e=r[F];return vi(e,r,e.firstChild,[])}constructor(r,e,n=!0){this._lView=r,this._cdRefInjectingView=e,this.notifyErrorHandler=n}get context(){return this._lView[ut]}get dirty(){return!!(this._lView[T]&9280)||!!this._lView[_e]?.dirty}set context(r){this._lView[ut]=r}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[ve];if(mt(r)){let e=r[li],n=e?e.indexOf(this):-1;n>-1&&(Ua(r,n),oi(e,n))}this._attachedToViewContainer=!1}oh(this._lView[F],this._lView)}onDestroy(r){sf(this._lView,r)}markForCheck(){Lc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){dc(this._cdRefInjectingView||this._lView)}detach(){this._lView[T]&=-129}reattach(){ba(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,Ah(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=Ea(this._lView),e=this._lView[Yt];e!==null&&!r&&_c(e,this._lView),nh(this._lView[F],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=r;let e=Ea(this._lView),n=this._lView[Yt];n!==null&&!e&&rh(n,this._lView),ba(this._lView)}},br=(()=>{class t{static __NG_ELEMENT_ID__=$w}return t})(),Uw=br,Vw=class extends Uw{_declarationLView;_declarationTContainer;elementRef;constructor(r,e,n){super(),this._declarationLView=r,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,e){return this.createEmbeddedViewImpl(r,e)}createEmbeddedViewImpl(r,e,n){let o=bw(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:e,dehydratedView:n});return new tn(o)}};function $w(){return jc(Ce(),re())}function jc(t,r){return t.type&4?new Vw(r,t,Ln(t,r)):null}var B_=new RegExp(`^(\\d+)*(${sy}|${iy})*(.*)`);var Bw=()=>null;function vd(t,r){return Bw(t,r)}var za=class{},yi=class{},Wa=class{resolveComponentFactory(r){throw Error(`No component factory found for ${Ae(r)}.`)}},Pn=class{static NULL=new Wa},Nt=class{},kr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Hw()}return t})();function Hw(){let t=re(),r=Ce(),e=Ft(r.index,t);return(At(e)?e:t)[ye]}var zw=(()=>{class t{static \u0275prov=g({token:t,providedIn:"root",factory:()=>null})}return t})();function qa(t,r,e){let n=e?t.styles:null,o=e?t.classes:null,i=0;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];if(typeof a=="number")i=a;else if(i==1)o=Bu(o,a);else if(i==2){let c=a,l=r[++s];n=Bu(n,c+": "+l+";")}}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=o:t.classesWithoutHost=o}var wi=class extends Pn{ngModule;constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let e=_t(r);return new Fn(e,this.ngModule)}};function yd(t,r){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let o=t[n];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:kt.None;r?e.push({propName:s,templateName:n,isSignal:(a&kt.SignalBased)!==0}):e.push({propName:s,templateName:n})}return e}function Ww(t){let r=t.toLowerCase();return r==="svg"?ov:r==="math"?iv:null}var Fn=class extends yi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let r=this.componentDef,e=r.inputTransforms,n=yd(r.inputs,!0);if(e!==null)for(let o of n)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return n}get outputs(){return yd(this.componentDef.outputs,!1)}constructor(r,e){super(),this.componentDef=r,this.ngModule=e,this.componentType=r.type,this.selector=Hy(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!e}create(r,e,n,o){let i=H(null);try{o=o||this.ngModule;let s=o instanceof Ee?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Aa(r,s):r,c=a.get(Nt,null);if(c===null)throw new C(407,!1);let l=a.get(zw,null),d=a.get(Cr,null),f={rendererFactory:c,sanitizer:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",v=n?Yy(p,n,this.componentDef.encapsulation,a):th(p,h,Ww(h)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let S=null;v!==null&&(S=Tc(v,a,!0));let _=yh(0,null,null,1,0,null,null,null,null,null,null),G=Fi(null,_,null,D,null,null,f,p,a,null,S);pc(G);let I,le,De=null;try{let de=this.componentDef,at,Os=null;de.findHostDirectiveDefs?(at=[],Os=new Map,de.findHostDirectiveDefs(de,at,Os),at.push(de)):at=[de];let Vg=qw(G,v);De=Gw(Vg,v,de,at,G,f,p),le=rf(_,Qt),v&&Yw(p,de,v,n),e!==void 0&&Qw(le,this.ngContentSelectors,e),I=Zw(De,de,at,Os,G,[Jw]),Fc(_,G,null)}catch(de){throw De!==null&&La(De),La(G),de}finally{gc()}return new Ga(this.componentType,I,Ln(le,G),G,le)}finally{H(i)}}},Ga=class extends za{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(r,e,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new tn(o,void 0,!1),this.componentType=r}setInput(r,e){let n=this._tNode.inputs,o;if(n!==null&&(o=n[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),e))return;let i=this._rootLView;Pc(i[F],i,o,r,e),this.previousInputValues.set(r,e);let s=Ft(this._tNode.index,i);Lc(s,1)}}get injector(){return new Zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function qw(t,r){let e=t[F],n=Qt;return t[n]=r,Nc(e,n,2,"#host",null)}function Gw(t,r,e,n,o,i,s){let a=o[F];Kw(n,t,r,s);let c=null;r!==null&&(c=Tc(r,o[xn]));let l=i.rendererFactory.createRenderer(r,e),d=Fi(o,vh(e),null,Sh(e),o[t.index],t,i,l,null,null,c);return a.firstCreatePass&&$a(a,t,n.length-1),Oc(o,d),o[t.index]=d}function Kw(t,r,e,n){for(let o of t)r.mergedAttrs=vc(r.mergedAttrs,o.hostAttrs);r.mergedAttrs!==null&&(qa(r,r.mergedAttrs,!0),e!==null&&uh(n,e,r))}function Zw(t,r,e,n,o,i){let s=Ce(),a=o[F],c=je(s,o);wh(a,o,s,e,null,n);for(let d=0;d<e.length;d++){let f=s.directiveStart+d,p=Nn(o,a,f,s);On(p,o)}Dh(a,o,s),c&&On(c,o);let l=Nn(o,a,s.directiveStart+s.componentOffset,s);if(t[ut]=o[ut]=l,i!==null)for(let d of i)d(l,r);return mh(a,s,o),l}function Yw(t,r,e,n){if(n)Ra(t,e,["ng-version","19.0.5"]);else{let{attrs:o,classes:i}=zy(r.selectors[0]);o&&Ra(t,e,o),i&&i.length>0&&lh(t,e,i.join(" "))}}function Qw(t,r,e){let n=t.projection=[];for(let o=0;o<r.length;o++){let i=e[o];n.push(i!=null&&i.length?Array.from(i):null)}}function Jw(){let t=Ce();Sf(re()[F],t)}var Un=(()=>{class t{static __NG_ELEMENT_ID__=Xw}return t})();function Xw(){let t=Ce();return Oh(t,re())}var eD=Un,Nh=class extends eD{_lContainer;_hostTNode;_hostLView;constructor(r,e,n){super(),this._lContainer=r,this._hostTNode=e,this._hostLView=n}get element(){return Ln(this._hostTNode,this._hostLView)}get injector(){return new Zt(this._hostTNode,this._hostLView)}get parentInjector(){let r=yc(this._hostTNode,this._hostLView);if(Cf(r)){let e=fi(r,this._hostLView),n=di(r),o=e[F].data[n+8];return new Zt(o,e)}else return new Zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let e=wd(this._lContainer);return e!==null&&e[r]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(r,e,n){let o,i;typeof n=="number"?o=n:n!=null&&(o=n.index,i=n.injector);let s=vd(this._lContainer,r.ssrId),a=r.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,md(this._hostTNode,s)),a}createComponent(r,e,n,o,i){let s=r&&!ev(r),a;if(s)a=e;else{let v=e||{};a=v.index,n=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}let c=s?r:new Fn(_t(r)),l=n||this.parentInjector;if(!i&&c.ngModule==null){let D=(s?l:this.parentInjector).get(Ee,null);D&&(i=D)}let d=_t(c.componentType??{}),f=vd(this._lContainer,d?.id??null),p=f?.firstChild??null,h=c.create(l,o,p,i);return this.insertImpl(h.hostView,a,md(this._hostTNode,f)),h}insert(r,e){return this.insertImpl(r,e,!0)}insertImpl(r,e,n){let o=r._lView;if(cv(o)){let a=this.indexOf(r);if(a!==-1)this.detach(a);else{let c=o[ve],l=new Nh(c,c[We],c[ve]);l.detach(l.indexOf(r))}}let i=this._adjustIndex(e),s=this._lContainer;return Tw(s,o,i,n),r.attachToViewContainerRef(),Ld(ga(s),i,r),r}move(r,e){return this.insert(r,e)}indexOf(r){let e=wd(this._lContainer);return e!==null?e.indexOf(r):-1}remove(r){let e=this._adjustIndex(r,-1),n=Ua(this._lContainer,e);n&&(oi(ga(this._lContainer),e),oh(n[F],n))}detach(r){let e=this._adjustIndex(r,-1),n=Ua(this._lContainer,e);return n&&oi(ga(this._lContainer),e)!=null?new tn(n):null}_adjustIndex(r,e=0){return r??this.length+e}};function wd(t){return t[li]}function ga(t){return t[li]||(t[li]=[])}function Oh(t,r){let e,n=r[t.index];return mt(n)?e=n:(e=Dw(n,r,null,t),r[t.index]=e,Oc(r,e)),nD(e,r,t,n),new Nh(e,t,r)}function tD(t,r){let e=t[ye],n=e.createComment(""),o=je(r,t),i=sh(e,o);return mi(e,i,n,Ty(e,o),!1),n}var nD=rD;function rD(t,r,e,n){if(t[Jt])return;let o;e.type&8?o=Qe(n):o=tD(r,e),t[Jt]=o}var Ka=class t{queryList;matches=null;constructor(r){this.queryList=r}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Za=class t{queries;constructor(r=[]){this.queries=r}createEmbeddedView(r){let e=r.queries;if(e!==null){let n=r.contentQueries!==null?r.contentQueries[0]:e.length,o=[];for(let i=0;i<n;i++){let s=e.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new t(o)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let e=0;e<this.queries.length;e++)Uc(r,e).matches!==null&&this.queries[e].setDirty()}},Ya=class{flags;read;predicate;constructor(r,e,n=null){this.flags=e,this.read=n,typeof r=="string"?this.predicate=dD(r):this.predicate=r}},Qa=class t{queries;constructor(r=[]){this.queries=r}elementStart(r,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,e)}elementEnd(r){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(r)}embeddedTView(r){let e=null;for(let n=0;n<this.length;n++){let o=e!==null?e.length:0,i=this.getByIndex(n).embeddedTView(r,o);i&&(i.indexInDeclarationView=n,e!==null?e.push(i):e=[i])}return e!==null?new t(e):null}template(r,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(r,e)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},Ja=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(r,e=-1){this.metadata=r,this._declarationNodeIndex=e}elementStart(r,e){this.isApplyingToNode(e)&&this.matchTNode(r,e)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,e){this.elementStart(r,e)}embeddedTView(r,e){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,e),new t(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=r.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(r,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){let i=n[o];this.matchTNodeWithReadOption(r,e,oD(e,i)),this.matchTNodeWithReadOption(r,e,Xo(e,r,i,!1,!1))}else n===br?e.type&4&&this.matchTNodeWithReadOption(r,e,-1):this.matchTNodeWithReadOption(r,e,Xo(e,r,n,!1,!1))}matchTNodeWithReadOption(r,e,n){if(n!==null){let o=this.metadata.read;if(o!==null)if(o===wt||o===Un||o===br&&e.type&4)this.addMatch(e.index,-2);else{let i=Xo(e,r,o,!1,!1);i!==null&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}addMatch(r,e){this.matches===null?this.matches=[r,e]:this.matches.push(r,e)}};function oD(t,r){let e=t.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===r)return e[n+1]}return null}function iD(t,r){return t.type&11?Ln(t,r):t.type&4?jc(t,r):null}function sD(t,r,e,n){return e===-1?iD(r,t):e===-2?aD(t,r,n):Nn(t,t[F],e,r)}function aD(t,r,e){if(e===wt)return Ln(r,t);if(e===br)return jc(r,t);if(e===Un)return Oh(r,t)}function Ph(t,r,e,n){let o=r[ft].queries[n];if(o.matches===null){let i=t.data,s=e.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=i[l];a.push(sD(r,d,s[c+1],e.metadata.read))}}o.matches=a}return o.matches}function Xa(t,r,e,n){let o=t.queries.getByIndex(e),i=o.matches;if(i!==null){let s=Ph(t,r,o,e);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)n.push(s[a/2]);else{let l=i[a+1],d=r[-c];for(let f=xe;f<d.length;f++){let p=d[f];p[Yt]===p[ve]&&Xa(p[F],p,l,n)}if(d[kn]!==null){let f=d[kn];for(let p=0;p<f.length;p++){let h=f[p];Xa(h[F],h,l,n)}}}}}return n}function cD(t,r){return t[ft].queries[r].queryList}function lD(t,r,e){let n=new Fa((e&4)===4);return Xy(t,r,n,n.destroy),(r[ft]??=new Za).queries.push(new Ka(n))-1}function uD(t,r,e,n){let o=vt();if(o.firstCreatePass){let i=Ce();fD(o,new Ya(r,e,n),i.index),hD(o,t),(e&2)===2&&(o.staticContentQueries=!0)}return lD(o,re(),e)}function dD(t){return t.split(",").map(r=>r.trim())}function fD(t,r,e){t.queries===null&&(t.queries=new Qa),t.queries.track(new Ja(r,e))}function hD(t,r){let e=t.contentQueries||(t.contentQueries=[]),n=e.length?e[e.length-1]:-1;r!==n&&e.push(t.queries.length-1,r)}function Uc(t,r){return t.queries.getByIndex(r)}function pD(t,r){let e=t[F],n=Uc(e,r);return n.crossesNgTemplate?Xa(e,t,r,[]):Ph(e,t,n,r)}function Vc(t,r){jn("NgSignals");let e=mu(t),n=e[Pe];return r?.equal&&(n.equal=r.equal),e.set=o=>wo(n,o),e.update=o=>vu(n,o),e.asReadonly=gD.bind(e),e}function gD(){let t=this[Pe];if(t.readonlyFn===void 0){let r=()=>this();r[Pe]=t,t.readonlyFn=r}return t.readonlyFn}var Ot=class{},Tr=class{};var ec=class extends Ot{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new wi(this);constructor(r,e,n,o=!0){super(),this.ngModuleType=r,this._parent=e;let i=Vd(r);this._bootstrapComponents=eh(i.bootstrap),this._r3Injector=Of(r,e,[{provide:Ot,useValue:this},{provide:Pn,useValue:this.componentFactoryResolver},...n],Ae(r),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},tc=class extends Tr{moduleType;constructor(r){super(),this.moduleType=r}create(r){return new ec(this.moduleType,r,[])}};var Di=class extends Ot{injector;componentFactoryResolver=new wi(this);instance=null;constructor(r){super();let e=new Sr([...r.providers,{provide:Ot,useValue:this},{provide:Pn,useValue:this.componentFactoryResolver}],r.parent||lc(),r.debugName,new Set(["environment"]));this.injector=e,r.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function $c(t,r,e=null){return new Di({providers:t,parent:r,debugName:e,runEnvironmentInitializers:!0}).injector}var mD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=zd(!1,e.type),o=n.length>0?$c([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=g({token:t,providedIn:"environment",factory:()=>new t(M(Ee))})}return t})();function se(t){return ic(()=>{let r=Fh(t),e=W(y({},r),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:r.standalone?o=>o.get(mD).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Je.Emulated,styles:t.styles||An,_:null,schemas:t.schemas||null,tView:null,id:""});r.standalone&&jn("NgStandalone"),Lh(e);let n=t.dependencies;return e.directiveDefs=Sd(n,!1),e.pipeDefs=Sd(n,!0),e.id=wD(e),e})}function vD(t){return _t(t)||$d(t)}function yD(t){return t!==null}function Dd(t,r){if(t==null)return Dr;let e={};for(let n in t)if(t.hasOwnProperty(n)){let o=t[n],i,s,a=kt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),r?(e[i]=a!==kt.None?[n,a]:n,r[i]=s):e[i]=n}return e}function Nr(t){return ic(()=>{let r=Fh(t);return Lh(r),r})}function Fh(t){let r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Dr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||An,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dd(t.inputs,r),outputs:Dd(t.outputs),debugInfo:null}}function Lh(t){t.features?.forEach(r=>r(t))}function Sd(t,r){if(!t)return null;let e=r?Bd:vD;return()=>(typeof t=="function"?t():t).map(n=>e(n)).filter(yD)}function wD(t){let r=0,e=typeof t.consts=="function"?"":t.consts,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of n.join("|"))r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function Or(t){let r=t.inputConfig,e={};for(let n in r)if(r.hasOwnProperty(n)){let o=r[n];Array.isArray(o)&&o[3]&&(e[n]=o[3])}t.inputTransforms=e}function DD(t,r,e){return t[r]=e}function SD(t,r){return t[r]}function Bc(t,r,e){let n=t[r];return Object.is(n,e)?!1:(t[r]=e,!0)}function ID(t){return(t.flags&32)===32}var Li=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var jh=new b("");function Pr(t){return!!t&&typeof t.then=="function"}function Uh(t){return!!t&&typeof t.subscribe=="function"}var Hc=new b("");var Vh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n});appInits=u(Hc,{optional:!0})??[];injector=u(ht);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=ke(this.injector,o);if(Pr(i))e.push(i);else if(Uh(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(o=>{this.reject(o)}),e.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ED=(()=>{class t{static \u0275prov=g({token:t,providedIn:"root",factory:()=>new nc})}return t})(),nc=class{queuedEffectCount=0;queues=new Map;schedule(r){this.enqueue(r)}enqueue(r){let e=r.zone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(r)||(this.queuedEffectCount++,n.add(r))}flush(){for(;this.queuedEffectCount>0;)for(let[r,e]of this.queues)r===null?this.flushQueue(e):r.run(()=>this.flushQueue(e))}flushQueue(r){for(let e of r)r.delete(e),this.queuedEffectCount--,e.run()}},ji=new b("");function CD(){gu(()=>{throw new C(600,!1)})}function bD(t){return t.isBoundToModule}var TD=10;function MD(t,r,e){try{let n=e();return Pr(n)?n.catch(o=>{throw r.runOutsideAngular(()=>t.handleError(o)),o}):n}catch(n){throw r.runOutsideAngular(()=>t.handleError(n)),n}}var pt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=u(Zv);afterRenderManager=u(cy);zonelessEnabled=u(ki);rootEffectScheduler=u(ED);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new J;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=u(yt).hasPendingTasks.pipe(w(e=>!e));constructor(){u(Yf,{optional:!0})}whenStable(){let e;return new Promise(n=>{e=this.isStable.subscribe({next:o=>{o&&n()}})}).finally(()=>{e.unsubscribe()})}_injector=u(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,n){let o=e instanceof yi;if(!this._injector.get(Vh).done){let p=!o&&Hd(e),h=!1;throw new C(405,h)}let s;o?s=e:s=this._injector.get(Pn).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=bD(s)?void 0:this._injector.get(Ot),c=n||s.selector,l=s.create(ht.NULL,[],c,a),d=l.location.nativeElement,f=l.injector.get(jh,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ei(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let n=this.tracingSnapshot;this.tracingSnapshot=null,n.run(Zf.CHANGE_DETECTION,this._tick),n.dispose();return}if(this._runningTick)throw new C(101,!1);let e=H(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,H(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Nt,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<TD;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n,notifyErrorHandler:o}of this.allViews)RD(n,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>Ai(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;ei(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ji,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>ei(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new C(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ei(t,r){let e=t.indexOf(r);e>-1&&t.splice(e,1)}function RD(t,r,e,n){if(!e&&!Ai(t))return;Ah(t,r,e&&!n?0:1)}function zc(t,r,e,n){let o=re(),i=fc();if(Bc(o,i,r)){let s=vt(),a=vf();mw(a,o,t,r,e,n)}return zc}function AD(t,r,e,n){return Bc(t,fc(),e)?r+Ci(e)+n:xr}function Fr(t,r,e){let n=re(),o=fc();if(Bc(n,o,r)){let i=vt(),s=vf();rw(i,s,n,t,r,n[ye],e,!1)}return Fr}function Id(t,r,e,n,o){let i=r.inputs,s=o?"class":"style";Pc(t,e,i[s],s,n)}function _D(t,r,e,n,o,i){let s=r.consts,a=Yu(s,o),c=Nc(r,t,2,n,a);return iw(r,e,c,Yu(s,i)),c.attrs!==null&&qa(c,c.attrs,!1),c.mergedAttrs!==null&&qa(c,c.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,c),c}function N(t,r,e,n){let o=re(),i=vt(),s=Qt+t,a=o[ye],c=i.firstCreatePass?_D(s,i,o,r,e,n):i.data[s],l=xD(i,o,c,a,r,t);o[s]=l;let d=Jd(c);return xi(c,!0),uh(a,l,c),!ID(c)&&wf()&&ah(i,o,l,c),uv()===0&&On(l,o),dv(),d&&(Gy(i,o,c),mh(i,c,o)),n!==null&&Ky(o,c),N}function L(){let t=Ce();lf()?vv():(t=t.parent,xi(t,!1));let r=t;pv(r)&&gv(),fv();let e=vt();return e.firstCreatePass&&(Sf(e,t),Qd(t)&&e.queries.elementEnd(t)),r.classesWithoutHost!=null&&Rv(r)&&Id(e,r,re(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&Av(r)&&Id(e,r,re(),r.stylesWithoutHost,!1),L}function j(t,r,e,n){return N(t,r,e,n),L(),j}var xD=(t,r,e,n,o,i)=>(Df(!0),th(n,o,Cv()));var Si="en-US";var kD=Si;function ND(t){typeof t=="string"&&(kD=t.toLowerCase().replace(/_/g,"-"))}var OD=(t,r,e)=>{};function Vn(t,r,e,n){let o=re(),i=vt(),s=Ce();return FD(i,o,o[ye],s,t,r,n),Vn}function PD(t,r,e,n){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===n){let a=r[ai],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function FD(t,r,e,n,o,i,s){let a=Jd(n),l=t.firstCreatePass&&Ch(t),d=r[ut],f=Eh(r),p=!0;if(n.type&3||s){let D=je(n,r),S=s?s(D):D,_=f.length,G=s?le=>s(Qe(le[n.index])):n.index,I=null;if(!s&&a&&(I=PD(t,r,o,n.index)),I!==null){let le=I.__ngLastListenerFn__||I;le.__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,p=!1}else{i=Cd(n,r,d,i),OD(D,o,i);let le=e.listen(S,o,i);f.push(i,le),l&&l.push(o,G,_,_+1)}}else i=Cd(n,r,d,i);let h=n.outputs,v;if(p&&h!==null&&(v=h[o])){let D=v.length;if(D)for(let S=0;S<D;S+=2){let _=v[S],G=v[S+1],De=r[_][G].subscribe(i),de=f.length;f.push(i,De),l&&l.push(o,n.index,de,-(de+1))}}}function Ed(t,r,e,n){let o=H(null);try{return Ke(6,r,e),e(n)!==!1}catch(i){return bh(t,i),!1}finally{Ke(7,r,e),H(o)}}function Cd(t,r,e,n){return function o(i){if(i===Function)return n;let s=t.componentOffset>-1?Ft(t.index,r):r;Lc(s,5);let a=Ed(r,e,n,i),c=o.__ngNextListenerFn__;for(;c;)a=Ed(r,e,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function $h(t,r,e,n){uD(t,r,e,n)}function Bh(t){let r=re(),e=vt(),n=df();hc(n+1);let o=Uc(e,n);if(t.dirty&&av(r)===((o.metadata.flags&2)===2)){if(o.matches===null)t.reset([]);else{let i=pD(r,n);t.reset(i,Jv),t.notifyOnChanges()}return!0}return!1}function Hh(){return cD(re(),df())}function Y(t,r=""){let e=re(),n=vt(),o=t+Qt,i=n.firstCreatePass?Nc(n,o,1,r,null):n.data[o],s=LD(n,e,i,r,t);e[o]=s,wf()&&ah(n,e,s,i),xi(i,!1)}var LD=(t,r,e,n,o)=>(Df(!0),my(r[ye],n));function Ui(t){return $n("",t,""),Ui}function $n(t,r,e){let n=re(),o=AD(n,t,r,e);return o!==xr&&Sw(n,mc(),o),$n}function zh(t,r,e){let n=yv()+t,o=re();return o[n]===xr?DD(o,n,e?r.call(e):r()):SD(o,n)}var rc=class{ngModuleFactory;componentFactories;constructor(r,e){this.ngModuleFactory=r,this.componentFactories=e}},Wc=(()=>{class t{compileModuleSync(e){return new tc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let n=this.compileModuleSync(e),o=Vd(e),i=eh(o.declarations).reduce((s,a)=>{let c=_t(a);return c&&s.push(new Fn(c)),s},[]);return new rc(n,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jD=(()=>{class t{zone=u(ne);changeDetectionScheduler=u(Cr);applicationRef=u(pt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UD=new b("",{factory:()=>!1});function Wh({ngZoneFactory:t,ignoreChangesOutsideZone:r,scheduleInRootZone:e}){return t??=()=>new ne(W(y({},Gh()),{scheduleInRootZone:e})),[{provide:ne,useFactory:t},{provide:_n,multi:!0,useFactory:()=>{let n=u(jD,{optional:!0});return()=>n.initialize()}},{provide:_n,multi:!0,useFactory:()=>{let n=u(VD);return()=>{n.initialize()}}},r===!0?{provide:Ff,useValue:!0}:[],{provide:Lf,useValue:e??Pf}]}function qh(t){let r=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,n=Wh({ngZoneFactory:()=>{let o=Gh(t);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&jn("NgZone_CoalesceEvent"),new ne(o)},ignoreChangesOutsideZone:r,scheduleInRootZone:e});return Pt([{provide:UD,useValue:!0},{provide:ki,useValue:!1},n])}function Gh(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VD=(()=>{class t{subscription=new ie;initialized=!1;zone=u(ne);pendingTasks=u(yt);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $D=(()=>{class t{appRef=u(pt);taskService=u(yt);ngZone=u(ne);zonelessEnabled=u(ki);tracing=u(Yf,{optional:!0});disableScheduling=u(Ff,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(u(Lf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pa||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let n=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 13:{this.appRef.dirtyFlags|=16,n=!0;break}case 14:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{n=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(n))return;let o=this.useMicrotaskScheduler?od:jf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(e),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,od(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function BD(){return typeof $localize<"u"&&$localize.locale||Si}var qc=new b("",{providedIn:"root",factory:()=>u(qc,P.Optional|P.SkipSelf)||BD()});var oc=new b(""),HD=new b("");function gr(t){return!t.moduleRef}function zD(t){let r=gr(t)?t.r3Injector:t.moduleRef.injector,e=r.get(ne);return e.run(()=>{gr(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let n=r.get(xt,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i=>{n.handleError(i)}})}),gr(t)){let i=()=>r.destroy(),s=t.platformInjector.get(oc);s.add(i),r.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(oc);s.add(i),t.moduleRef.onDestroy(()=>{ei(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return MD(n,e,()=>{let i=r.get(Vh);return i.runInitializers(),i.donePromise.then(()=>{let s=r.get(qc,Si);if(ND(s||Si),!r.get(HD,!0))return gr(t)?r.get(pt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(gr(t)){let c=r.get(pt);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return WD(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function WD(t,r){let e=t.injector.get(pt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new C(-403,!1);r.push(t)}var ti=null;function qD(t=[],r){return ht.create({name:r,providers:[{provide:Ti,useValue:"platform"},{provide:oc,useValue:new Set([()=>ti=null])},...t]})}function GD(t=[]){if(ti)return ti;let r=qD(t);return ti=r,CD(),KD(r),r}function KD(t){let r=t.get(Cc,null);ke(t,()=>{r?.forEach(e=>e())})}function Kh(){return!1}var Bn=(()=>{class t{static __NG_ELEMENT_ID__=ZD}return t})();function ZD(t){return YD(Ce(),re(),(t&16)===16)}function YD(t,r,e){if(Ri(t)&&!e){let n=Ft(t.index,r);return new tn(n,n)}else if(t.type&175){let n=r[Ye];return new tn(n,r)}return null}function Zh(t){try{let{rootComponent:r,appProviders:e,platformProviders:n}=t,o=GD(n),i=[Wh({}),{provide:Cr,useExisting:$D},...e||[]],s=new Di({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return zD({r3Injector:s.injector,platformInjector:o,rootComponent:r})}catch(r){return Promise.reject(r)}}function Lr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Gc(t,r=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):r}function Yh(t,r){jn("NgSignals");let e=fu(t);return r?.equal&&(e[Pe].equal=r.equal),e}var bd=class{[Pe];constructor(r){this[Pe]=r}destroy(){this[Pe].destroy()}};function Qh(t){let r=_t(t);if(!r)return null;let e=new Fn(r);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var tp=null;function Hn(){return tp}function np(t){tp??=t}var Vi=class{};var Q=new b(""),rp=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(JD),providedIn:"platform"})}return t})();var JD=(()=>{class t extends rp{_location;_history;_doc=u(Q);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(e){let n=Hn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Hn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,o){this._history.pushState(e,n,o)}replaceState(e,n,o){this._history.replaceState(e,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function op(t,r){if(t.length==0)return r;if(r.length==0)return t;let e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,e==2?t+r.substring(1):e==1?t+r:t+"/"+r}function Jh(t){let r=t.match(/#|\?|$/),e=r&&r.index||t.length,n=e-(t[e-1]==="/"?1:0);return t.slice(0,n)+t.slice(e)}function rn(t){return t&&t[0]!=="?"?"?"+t:t}var Wn=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(ip),providedIn:"root"})}return t})(),XD=new b(""),ip=(()=>{class t extends Wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??u(Q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return op(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+rn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${n}${o}`:n}pushState(e,n,o,i){let s=this.prepareExternalUrl(o+rn(i));this._platformLocation.pushState(e,n,s)}replaceState(e,n,o,i){let s=this.prepareExternalUrl(o+rn(i));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(M(rp),M(XD,8))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jr=(()=>{class t{_subject=new J;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=nS(Jh(Xh(n))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+rn(n))}normalize(e){return t.stripTrailingSlash(tS(this._basePath,Xh(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",o=null){this._locationStrategy.pushState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rn(n)),o)}replaceState(e,n="",o=null){this._locationStrategy.replaceState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rn(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(o=>o(e,n))}subscribe(e,n,o){return this._subject.subscribe({next:e,error:n??void 0,complete:o??void 0})}static normalizeQueryParams=rn;static joinWithSlash=op;static stripTrailingSlash=Jh;static \u0275fac=function(n){return new(n||t)(M(Wn))};static \u0275prov=g({token:t,factory:()=>eS(),providedIn:"root"})}return t})();function eS(){return new jr(M(Wn))}function tS(t,r){if(!t||!r.startsWith(t))return r;let e=r.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:r}function Xh(t){return t.replace(/\/index.html$/,"")}function nS(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function Hi(t,r){r=encodeURIComponent(r);for(let e of t.split(";")){let n=e.indexOf("="),[o,i]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(o.trim()===r)return decodeURIComponent(i)}return null}var Kc="browser",rS="server";function sp(t){return t===Kc}function zi(t){return t===rS}var zn=class{};var Vr=class{},qi=class{},we=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let o=e.slice(0,n),i=e.slice(n+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let o=(r.op==="a"?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":let i=r.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(r,e){let n=r.toLowerCase();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=r.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(r,o)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var Yc=class{encodeKey(r){return cp(r)}encodeValue(r){return cp(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function oS(t,r){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,i)),r.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var iS=/%(\d[a-f0-9])/gi,sS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cp(t){return encodeURIComponent(t).replace(iS,(r,e)=>sS[e]??r)}function Wi(t){return`${t}`}var Ue=class t{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new Yc,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=oS(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],o=Array.isArray(n)?n.map(Wi):[Wi(n)];this.map.set(e,o)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let o=r[n];Array.isArray(o)?o.forEach(i=>{e.push({param:n,value:i,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(Wi(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],o=n.indexOf(Wi(r.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var Qc=class{map=new Map;set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function aS(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lp(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function up(t){return typeof Blob<"u"&&t instanceof Blob}function dp(t){return typeof FormData<"u"&&t instanceof FormData}function cS(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ur=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(r,e,n,o){this.url=e,this.method=r.toUpperCase();let i;if(aS(this.method)||o?(this.body=n!==void 0?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new we,this.context??=new Qc,!this.params)this.params=new Ue,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||lp(this.body)||up(this.body)||dp(this.body)||cS(this.body)?this.body:this.body instanceof Ue?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dp(this.body)?null:up(this.body)?this.body.type||null:lp(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ue?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,o=r.responseType||this.responseType,i=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,a=r.withCredentials??this.withCredentials,c=r.reportProgress??this.reportProgress,l=r.headers||this.headers,d=r.params||this.params,f=r.context??this.context;return r.setHeaders!==void 0&&(l=Object.keys(r.setHeaders).reduce((p,h)=>p.set(h,r.setHeaders[h]),l)),r.setParams&&(d=Object.keys(r.setParams).reduce((p,h)=>p.set(h,r.setParams[h]),d)),new t(e,n,s,{params:d,headers:l,context:f,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}},Lt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Lt||{}),$r=class{headers;status;statusText;url;ok;type;constructor(r,e=200,n="OK"){this.headers=r.headers||new we,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Gi=class t extends $r{constructor(r={}){super(r)}type=Lt.ResponseHeader;clone(r={}){return new t({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},on=class t extends $r{body;constructor(r={}){super(r),this.body=r.body!==void 0?r.body:null}type=Lt.Response;clone(r={}){return new t({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},tt=class extends $r{name="HttpErrorResponse";message;error;ok=!1;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},mp=200,lS=204;function Zc(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Br=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,o={}){let i;if(e instanceof Ur)i=e;else{let c;o.headers instanceof we?c=o.headers:c=new we(o.headers);let l;o.params&&(o.params instanceof Ue?l=o.params:l=new Ue({fromObject:o.params})),i=new Ur(e,n,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=m(i).pipe(U(c=>this.handler.handle(c)));if(e instanceof Ur||o.observe==="events")return s;let a=s.pipe(Re(c=>c instanceof on));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(w(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(w(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Ue().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,Zc(o,n))}post(e,n,o={}){return this.request("POST",e,Zc(o,n))}put(e,n,o={}){return this.request("PUT",e,Zc(o,n))}static \u0275fac=function(n){return new(n||t)(M(Vr))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),uS=/^\)\]\}',?\n/,dS="X-Request-URL";function fp(t){if(t.url)return t.url;let r=dS.toLocaleLowerCase();return t.headers.get(r)}var fS=(()=>{class t{fetchImpl=u(Jc,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=u(ne);handle(e){return new k(n=>{let o=new AbortController;return this.doRequest(e,o.signal,n).then(Xc,i=>n.error(new tt({error:i}))),()=>o.abort()})}doRequest(e,n,o){return sr(this,null,function*(){let i=this.createRequestInit(e),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,y({signal:n},i)));hS(h),o.next({type:Lt.Sent}),s=yield h}catch(h){o.error(new tt({error:h,status:h.status??0,statusText:h.statusText,url:e.urlWithParams,headers:h.headers}));return}let a=new we(s.headers),c=s.statusText,l=fp(s)??e.urlWithParams,d=s.status,f=null;if(e.reportProgress&&o.next(new Gi({headers:a,status:d,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),v=[],D=s.body.getReader(),S=0,_,G,I=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>sr(this,null,function*(){for(;;){let{done:De,value:de}=yield D.read();if(De)break;if(v.push(de),S+=de.length,e.reportProgress){G=e.responseType==="text"?(G??"")+(_??=new TextDecoder).decode(de,{stream:!0}):void 0;let at=()=>o.next({type:Lt.DownloadProgress,total:h?+h:void 0,loaded:S,partialText:G});I?I.run(at):at()}}}));let le=this.concatChunks(v,S);try{let De=s.headers.get("Content-Type")??"";f=this.parseBody(e,le,De)}catch(De){o.error(new tt({error:De,headers:new we(s.headers),status:s.status,statusText:s.statusText,url:fp(s)??e.urlWithParams}));return}}d===0&&(d=f?mp:0),d>=200&&d<300?(o.next(new on({body:f,headers:a,status:d,statusText:c,url:l})),o.complete()):o.error(new tt({error:f,headers:a,status:d,statusText:c,url:l}))})}parseBody(e,n,o){switch(e.responseType){case"json":let i=new TextDecoder().decode(n).replace(uS,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((i,s)=>n[i]=s.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let i=e.detectContentTypeHeader();i!==null&&(n["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:o}}concatChunks(e,n){let o=new Uint8Array(n),i=0;for(let s of e)o.set(s,i),i+=s.length;return o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),Jc=class{};function Xc(){}function hS(t){t.then(Xc,Xc)}function vp(t,r){return r(t)}function pS(t,r){return(e,n)=>r.intercept(e,{handle:o=>t(o,n)})}function gS(t,r,e){return(n,o)=>ke(e,()=>r(n,i=>t(i,o)))}var el=new b(""),tl=new b(""),mS=new b(""),yp=new b("",{providedIn:"root",factory:()=>!0});function vS(){let t=null;return(r,e)=>{t===null&&(t=(u(el,{optional:!0})??[]).reduceRight(pS,vp));let n=u(yt);if(u(yp)){let i=n.add();return t(r,e).pipe(Ge(()=>n.remove(i)))}else return t(r,e)}}var hp=(()=>{class t extends Vr{backend;injector;chain=null;pendingTasks=u(yt);contributeToStability=u(yp);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(tl),...this.injector.get(mS,[])]));this.chain=n.reduceRight((o,i)=>gS(o,i,this.injector),vp)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ge(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(M(qi),M(Ee))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();var yS=/^\)\]\}',?\n/;function wS(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var pp=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new C(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?ee(n.\u0275loadImpl()):m(null)).pipe($(()=>new k(i=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((D,S)=>s.setRequestHeader(D,S.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let D=e.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(e.responseType){let D=e.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",S=new we(s.getAllResponseHeaders()),_=wS(s)||e.url;return c=new Gi({headers:S,status:s.status,statusText:D,url:_}),c},d=()=>{let{headers:D,status:S,statusText:_,url:G}=l(),I=null;S!==lS&&(I=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=I?mp:0);let le=S>=200&&S<300;if(e.responseType==="json"&&typeof I=="string"){let De=I;I=I.replace(yS,"");try{I=I!==""?JSON.parse(I):null}catch(de){I=De,le&&(le=!1,I={error:de,text:I})}}le?(i.next(new on({body:I,headers:D,status:S,statusText:_,url:G||void 0})),i.complete()):i.error(new tt({error:I,headers:D,status:S,statusText:_,url:G||void 0}))},f=D=>{let{url:S}=l(),_=new tt({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(_)},p=!1,h=D=>{p||(i.next(l()),p=!0);let S={type:Lt.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),e.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),i.next(S)},v=D=>{let S={type:Lt.UploadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),i.next(S)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),i.next({type:Lt.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||t)(M(zn))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),wp=new b(""),DS="XSRF-TOKEN",SS=new b("",{providedIn:"root",factory:()=>DS}),IS="X-XSRF-TOKEN",ES=new b("",{providedIn:"root",factory:()=>IS}),Ki=class{},CS=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hi(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(M(Q),M(Xe),M(SS))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();function bS(t,r){let e=t.url.toLowerCase();if(!u(wp)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(t);let n=u(Ki).getToken(),o=u(ES);return n!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,n)})),r(t)}var Dp=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Dp||{});function TS(t,r){return{\u0275kind:t,\u0275providers:r}}function nl(...t){let r=[Br,pp,hp,{provide:Vr,useExisting:hp},{provide:qi,useFactory:()=>u(fS,{optional:!0})??u(pp)},{provide:tl,useValue:bS,multi:!0},{provide:wp,useValue:!0},{provide:Ki,useClass:CS}];for(let e of t)r.push(...e.\u0275providers);return Pt(r)}var gp=new b("");function rl(){return TS(Dp.LegacyInterceptors,[{provide:gp,useFactory:vS},{provide:tl,useExisting:gp,multi:!0}])}var il=class extends Vi{supportsDOMEvents=!0},sl=class t extends il{static makeCurrent(){np(new t)}onAndCancel(r,e,n){return r.addEventListener(e,n),()=>{r.removeEventListener(e,n)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.remove()}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=_S();return e==null?null:xS(e)}resetBaseElement(){Hr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Hi(document.cookie,r)}},Hr=null;function _S(){return Hr=Hr||document.querySelector("base"),Hr?Hr.getAttribute("href"):null}function xS(t){return new URL(t,document.baseURI).pathname}var kS=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),al=new b(""),Tp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,o){return this._findPluginFor(n).addEventListener(e,n,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(i=>i.supports(e)),!n)throw new C(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(M(al),M(ne))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),Yi=class{_doc;constructor(r){this._doc=r}manager},Zi="ng-app-id";function Sp(t){for(let r of t)r.remove()}function Ip(t,r){let e=r.createElement("style");return e.textContent=t,e}function NS(t,r,e,n){let o=t.head?.querySelectorAll(`style[${Zi}="${r}"],link[${Zi}="${r}"]`);if(o)for(let i of o)i.removeAttribute(Zi),i instanceof HTMLLinkElement?n.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function cl(t,r){let e=r.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var Mp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,o,i={}){this.doc=e,this.appId=n,this.nonce=o,this.isServer=zi(i),NS(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let o of e)this.addUsage(o,this.inline,Ip);n?.forEach(o=>this.addUsage(o,this.external,cl))}removeStyles(e,n){for(let o of e)this.removeUsage(o,this.inline);n?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,n,o){let i=n.get(e);i?i.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,n){let o=n.get(e);o&&(o.usage--,o.usage<=0&&(Sp(o.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Sp(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:o}]of this.inline)o.push(this.addElement(e,Ip(n,this.doc)));for(let[n,{elements:o}]of this.external)o.push(this.addElement(e,cl(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(Zi,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(M(Q),M(Ec),M(bc,8),M(Xe))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),ol={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ul=/%COMP%/g,Rp="%COMP%",OS=`_nghost-${Rp}`,PS=`_ngcontent-${Rp}`,FS=!0,LS=new b("",{providedIn:"root",factory:()=>FS});function jS(t){return PS.replace(ul,t)}function US(t){return OS.replace(ul,t)}function Ap(t,r){return r.map(e=>e.replace(ul,t))}var Ep=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,o,i,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.platformIsServer=zi(a),this.defaultRenderer=new zr(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Je.ShadowDom&&(n=W(y({},n),{encapsulation:Je.Emulated}));let o=this.getOrCreateRenderer(e,n);return o instanceof Qi?o.applyToHost(e):o instanceof Wr&&o.applyStyles(),o}getOrCreateRenderer(e,n){let o=this.rendererByCompId,i=o.get(n.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case Je.Emulated:i=new Qi(c,l,n,this.appId,d,s,a,f);break;case Je.ShadowDom:return new ll(c,l,e,n,s,a,this.nonce,f);default:i=new Wr(c,l,n,d,s,a,f);break}o.set(n.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(n){return new(n||t)(M(Tp),M(Mp),M(Ec),M(LS),M(Q),M(Xe),M(ne),M(bc))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),zr=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,e,n,o){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=o}destroy(){}destroyNode=null;createElement(r,e){return e?this.doc.createElementNS(ol[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(Cp(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(Cp(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){e.remove()}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new C(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,o){if(o){e=o+":"+e;let i=ol[o];i?r.setAttributeNS(i,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let o=ol[n];o?r.removeAttributeNS(o,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,o){o&(nn.DashCase|nn.Important)?r.style.setProperty(e,n,o&nn.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&nn.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n){if(typeof r=="string"&&(r=Hn().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(n))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function Cp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ll=class extends zr{sharedStylesHost;hostEl;shadowRoot;constructor(r,e,n,o,i,s,a,c){super(r,i,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Ap(o.id,o.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let d=o.getExternalStyles?.();if(d)for(let f of d){let p=cl(f,i);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wr=class extends zr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,e,n,o,i,s,a,c){super(r,i,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?Ap(c,n.styles):n.styles,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qi=class extends Wr{contentAttr;hostAttr;constructor(r,e,n,o,i,s,a,c){let l=o+"-"+n.id;super(r,e,n,i,s,a,c,l),this.contentAttr=jS(l),this.hostAttr=US(l)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}},VS=(()=>{class t extends Yi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,o){return e.addEventListener(n,o,!1),()=>this.removeEventListener(e,n,o)}removeEventListener(e,n,o){return e.removeEventListener(n,o)}static \u0275fac=function(n){return new(n||t)(M(Q))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),bp=["alt","control","meta","shift"],$S={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},HS=(()=>{class t extends Yi{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,o){let i=t.parseEventName(n),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(e,i.domEventName,s))}static parseEventName(e){let n=e.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),bp.forEach(l=>{let d=n.indexOf(l);d>-1&&(n.splice(d,1),s+=l+".")}),s+=i,n.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let o=$S[e.key]||e.key,i="";return n.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),bp.forEach(s=>{if(s!==o){let a=BS[s];a(e)&&(i+=s+".")}}),i+=o,i===n)}static eventCallback(e,n,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>n(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(M(Q))};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();function _p(t,r){return Zh(y({rootComponent:t},zS(r)))}function zS(t){return{appProviders:[...ZS,...t?.providers??[]],platformProviders:KS}}function WS(){sl.makeCurrent()}function qS(){return new xt}function GS(){return Gf(document),document}var KS=[{provide:Xe,useValue:Kc},{provide:Cc,useValue:WS,multi:!0},{provide:Q,useFactory:GS,deps:[]}];var ZS=[{provide:Ti,useValue:"root"},{provide:xt,useFactory:qS,deps:[]},{provide:al,useClass:VS,multi:!0,deps:[Q,ne,Xe]},{provide:al,useClass:HS,multi:!0,deps:[Q]},Ep,Mp,Tp,{provide:Nt,useExisting:Ep},{provide:zn,useClass:kS,deps:[]},[]];var xp=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(M(Q))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var O="primary",ao=Symbol("RouteTitle"),gl=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Qn(t){return new gl(t)}function QS(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let o={};for(let i=0;i<n.length;i++){let s=n[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function JS(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!nt(t[e],r[e]))return!1;return!0}function nt(t,r){let e=t?ml(t):void 0,n=r?ml(r):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Vp(t[o],r[o]))return!1;return!0}function ml(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Vp(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((o,i)=>n[i]===o)}else return t===r}function $p(t){return t.length>0?t[t.length-1]:null}function jt(t){return ta(t)?t:Pr(t)?ee(Promise.resolve(t)):m(t)}var XS={exact:Hp,subset:zp},Bp={exact:eI,subset:tI,ignored:()=>!0};function kp(t,r,e){return XS[e.paths](t.root,r.root,e.matrixParams)&&Bp[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function eI(t,r){return nt(t,r)}function Hp(t,r,e){if(!an(t.segments,r.segments)||!es(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!Hp(t.children[n],r.children[n],e))return!1;return!0}function tI(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>Vp(t[e],r[e]))}function zp(t,r,e){return Wp(t,r,r.segments,e)}function Wp(t,r,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!an(o,e)||r.hasChildren()||!es(o,e,n))}else if(t.segments.length===e.length){if(!an(t.segments,e)||!es(t.segments,e,n))return!1;for(let o in r.children)if(!t.children[o]||!zp(t.children[o],r.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!an(t.segments,o)||!es(t.segments,o,n)||!t.children[O]?!1:Wp(t.children[O],r,i,n)}}function es(t,r,e){return r.every((n,o)=>Bp[e](t[o].parameters,n.parameters))}var St=class{root;queryParams;fragment;_queryParamMap;constructor(r=new z([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Qn(this.queryParams),this._queryParamMap}toString(){return oI.serialize(this)}},z=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ts(this)}},sn=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=Qn(this.parameters),this._parameterMap}toString(){return Gp(this)}};function nI(t,r){return an(t,r)&&t.every((e,n)=>nt(e.parameters,r[n].parameters))}function an(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function rI(t,r){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===O&&(e=e.concat(r(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==O&&(e=e.concat(r(o,n)))}),e}var Bl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>new Jr,providedIn:"root"})}return t})(),Jr=class{parse(r){let e=new yl(r);return new St(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${qr(r.root,!0)}`,n=aI(r.queryParams),o=typeof r.fragment=="string"?`#${iI(r.fragment)}`:"";return`${e}${n}${o}`}},oI=new Jr;function ts(t){return t.segments.map(r=>Gp(r)).join("/")}function qr(t,r){if(!t.hasChildren())return ts(t);if(r){let e=t.children[O]?qr(t.children[O],!1):"",n=[];return Object.entries(t.children).forEach(([o,i])=>{o!==O&&n.push(`${o}:${qr(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=rI(t,(n,o)=>o===O?[qr(t.children[O],!1)]:[`${o}:${qr(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${ts(t)}/${e[0]}`:`${ts(t)}/(${e.join("//")})`}}function qp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ji(t){return qp(t).replace(/%3B/gi,";")}function iI(t){return encodeURI(t)}function vl(t){return qp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ns(t){return decodeURIComponent(t)}function Np(t){return ns(t.replace(/\+/g,"%20"))}function Gp(t){return`${vl(t.path)}${sI(t.parameters)}`}function sI(t){return Object.entries(t).map(([r,e])=>`;${vl(r)}=${vl(e)}`).join("")}function aI(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${Ji(e)}=${Ji(o)}`).join("&"):`${Ji(e)}=${Ji(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var cI=/^[^\/()?;#]+/;function dl(t){let r=t.match(cI);return r?r[0]:""}var lI=/^[^\/()?;=#]+/;function uI(t){let r=t.match(lI);return r?r[0]:""}var dI=/^[^=?&#]+/;function fI(t){let r=t.match(dI);return r?r[0]:""}var hI=/^[^&#]+/;function pI(t){let r=t.match(hI);return r?r[0]:""}var yl=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[O]=new z(r,e)),n}parseSegment(){let r=dl(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(r),new sn(ns(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=uI(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=dl(this.remaining);o&&(n=o,this.capture(n))}r[ns(e)]=ns(n)}parseQueryParam(r){let e=fI(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=pI(this.remaining);s&&(n=s,this.capture(n))}let o=Np(e),i=Np(n);if(r.hasOwnProperty(o)){let s=r[o];Array.isArray(s)||(s=[s],r[o]=s),s.push(i)}else r[o]=i}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=dl(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new C(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):r&&(i=O);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[O]:new z([],s),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new C(4011,!1)}};function Kp(t){return t.segments.length>0?new z([],{[O]:t}):t}function Zp(t){let r={};for(let[n,o]of Object.entries(t.children)){let i=Zp(o);if(n===O&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))r[s]=a;else(i.segments.length>0||i.hasChildren())&&(r[n]=i)}let e=new z(t.segments,r);return gI(e)}function gI(t){if(t.numberOfChildren===1&&t.children[O]){let r=t.children[O];return new z(t.segments.concat(r.segments),r.children)}return t}function cn(t){return t instanceof St}function mI(t,r,e=null,n=null){let o=Yp(t);return Qp(o,r,e,n)}function Yp(t){let r;function e(i){let s={};for(let c of i.children){let l=e(c);s[c.outlet]=l}let a=new z(i.url,s);return i===t&&(r=a),a}let n=e(t.root),o=Kp(n);return r??o}function Qp(t,r,e,n){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return fl(o,o,o,e,n);let i=vI(r);if(i.toRoot())return fl(o,o,new z([],{}),e,n);let s=yI(i,o,t),a=s.processChildren?Zr(s.segmentGroup,s.index,i.commands):Xp(s.segmentGroup,s.index,i.commands);return fl(o,s.segmentGroup,a,e,n)}function rs(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xr(t){return typeof t=="object"&&t!=null&&t.outlets}function fl(t,r,e,n,o){let i={};n&&Object.entries(n).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===r?s=e:s=Jp(t,r,e);let a=Kp(Zp(s));return new St(a,i,o)}function Jp(t,r,e){let n={};return Object.entries(t.children).forEach(([o,i])=>{i===r?n[o]=e:n[o]=Jp(i,r,e)}),new z(t.segments,n)}var os=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&rs(n[0]))throw new C(4003,!1);let o=n.find(Xr);if(o&&o!==$p(n))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vI(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new os(!0,0,t);let r=0,e=!1,n=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?r++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new os(e,r,n)}var Kn=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function yI(t,r,e){if(t.isAbsolute)return new Kn(r,!0,0);if(!e)return new Kn(r,!1,NaN);if(e.parent===null)return new Kn(e,!0,0);let n=rs(t.commands[0])?0:1,o=e.segments.length-1+n;return wI(e,o,t.numberOfDoubleDots)}function wI(t,r,e){let n=t,o=r,i=e;for(;i>o;){if(i-=o,n=n.parent,!n)throw new C(4005,!1);o=n.segments.length}return new Kn(n,!1,o-i)}function DI(t){return Xr(t[0])?t[0].outlets:{[O]:t}}function Xp(t,r,e){if(t??=new z([],{}),t.segments.length===0&&t.hasChildren())return Zr(t,r,e);let n=SI(t,r,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new z(t.segments.slice(0,n.pathIndex),{});return i.children[O]=new z(t.segments.slice(n.pathIndex),t.children),Zr(i,0,o)}else return n.match&&o.length===0?new z(t.segments,{}):n.match&&!t.hasChildren()?wl(t,r,e):n.match?Zr(t,0,o):wl(t,r,e)}function Zr(t,r,e){if(e.length===0)return new z(t.segments,{});{let n=DI(e),o={};if(Object.keys(n).some(i=>i!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let i=Zr(t.children[O],r,e);return new z(t.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Xp(t.children[i],r,s))}),Object.entries(t.children).forEach(([i,s])=>{n[i]===void 0&&(o[i]=s)}),new z(t.segments,o)}}function SI(t,r,e){let n=0,o=r,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return i;let s=t.segments[o],a=e[n];if(Xr(a))break;let c=`${a}`,l=n<e.length-1?e[n+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Pp(c,l,s))return i;n+=2}else{if(!Pp(c,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function wl(t,r,e){let n=t.segments.slice(0,r),o=0;for(;o<e.length;){let i=e[o];if(Xr(i)){let c=II(i.outlets);return new z(n,c)}if(o===0&&rs(e[0])){let c=t.segments[r];n.push(new sn(c.path,Op(e[0]))),o++;continue}let s=Xr(i)?i.outlets[O]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&rs(a)?(n.push(new sn(s,Op(a))),o+=2):(n.push(new sn(s,{})),o++)}return new z(n,{})}function II(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=wl(new z([],{}),0,n))}),r}function Op(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Pp(t,r,e){return t==e.path&&nt(r,e.parameters)}var Yr="imperative",ge=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ge||{}),Ve=class{id;url;constructor(r,e){this.id=r,this.url=e}},eo=class extends Ve{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",o=null){super(r,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},It=class extends Ve{urlAfterRedirects;type=ge.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Oe=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Oe||{}),Dl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Dl||{}),Dt=class extends Ve{reason;code;type=ge.NavigationCancel;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ln=class extends Ve{reason;code;type=ge.NavigationSkipped;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}},to=class extends Ve{error;target;type=ge.NavigationError;constructor(r,e,n,o){super(r,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},is=class extends Ve{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends Ve{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class extends Ve{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(r,e,n,o,i){super(r,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},El=class extends Ve{urlAfterRedirects;state;type=ge.ResolveStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cl=class extends Ve{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bl=class{route;type=ge.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tl=class{route;type=ge.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ml=class{snapshot;type=ge.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rl=class{snapshot;type=ge.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Al=class{snapshot;type=ge.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_l=class{snapshot;type=ge.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var no=class{},Jn=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function EI(t,r){return t.providers&&!t._injector&&(t._injector=$c(t.providers,r,`Route: ${t.path}`)),t._injector??r}function qe(t){return t.outlet||O}function CI(t,r){let e=t.filter(n=>qe(n)===r);return e.push(...t.filter(n=>qe(n)!==r)),e}function co(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var xl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return co(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new fs(this.rootInjector)}},fs=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new xl(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(M(Ee))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ss=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=kl(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=kl(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=Nl(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return Nl(r,this._root).map(e=>e.value)}};function kl(t,r){if(t===r.value)return r;for(let e of r.children){let n=kl(t,e);if(n)return n}return null}function Nl(t,r){if(t===r.value)return[r];for(let e of r.children){let n=Nl(t,e);if(n.length)return n.unshift(r),n}return[]}var Ne=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function Gn(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var as=class extends ss{snapshot;constructor(r,e){super(r),this.snapshot=e,Hl(this,r)}toString(){return this.snapshot.toString()}};function eg(t){let r=bI(t),e=new ae([new sn("",{})]),n=new ae({}),o=new ae({}),i=new ae({}),s=new ae(""),a=new un(e,n,i,s,o,O,t,r.root);return a.snapshot=r.root,new as(new Ne(a,[]),r)}function bI(t){let r={},e={},n={},o="",i=new Zn([],r,n,o,e,O,t,null,{});return new ls("",new Ne(i,[]))}var un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,o,i,s,a,c){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(w(l=>l[ao]))??m(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(w(r=>Qn(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(w(r=>Qn(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cs(t,r,e="emptyOnly"){let n,{routeConfig:o}=t;return r!==null&&(e==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:y(y({},r.params),t.params),data:y(y({},r.data),t.data),resolve:y(y(y(y({},t.data),r.data),o?.data),t._resolvedData)}:n={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},o&&ng(o)&&(n.resolve[ao]=o.title),n}var Zn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ao]}constructor(r,e,n,o,i,s,a,c,l){this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qn(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},ls=class extends ss{url;constructor(r,e){super(e),this.url=r,Hl(this,e)}toString(){return tg(this._root)}};function Hl(t,r){r.value._routerState=t,r.children.forEach(e=>Hl(t,e))}function tg(t){let r=t.children.length>0?` { ${t.children.map(tg).join(", ")} } `:"";return`${t.value}${r}`}function hl(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,nt(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),nt(r.params,e.params)||t.paramsSubject.next(e.params),JS(r.url,e.url)||t.urlSubject.next(e.url),nt(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ol(t,r){let e=nt(t.params,r.params)&&nI(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Ol(t.parent,r.parent))}function ng(t){return typeof t.title=="string"||t.title===null}var TI=new b(""),lo=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new Ie;deactivateEvents=new Ie;attachEvents=new Ie;detachEvents=new Ie;routerOutletData=Vf(void 0);parentContexts=u(fs);location=u(Un);changeDetector=u(Bn);inputBinder=u(hs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Pl(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=Nr({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ar]})}return t})(),Pl=class t{route;childContexts;parent;outletData;__ngOutletInjector(r){return new t(this.route,this.childContexts,r,this.outletData)}constructor(r,e,n,o){this.route=r,this.childContexts=e,this.parent=n,this.outletData=o}get(r,e){return r===un?this.route:r===fs?this.childContexts:r===TI?this.outletData:this.parent.get(r,e)}},hs=new b(""),Fp=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,o=hr([n.queryParams,n.params,n.data]).pipe($(([i,s,a],c)=>(a=y(y(y({},i),s),a),c===0?m(a):Promise.resolve(a)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=Qh(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(e,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();function MI(t,r,e){let n=ro(t,r._root,e?e._root:void 0);return new as(n,r)}function ro(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let o=RI(t,r,e);return new Ne(n,o)}else{if(t.shouldAttach(r.value)){let i=t.retrieve(r.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(a=>ro(t,a)),s}}let n=AI(r.value),o=r.children.map(i=>ro(t,i));return new Ne(n,o)}}function RI(t,r,e){return r.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return ro(t,n,o);return ro(t,n)})}function AI(t){return new un(new ae(t.url),new ae(t.params),new ae(t.queryParams),new ae(t.fragment),new ae(t.data),t.outlet,t.component,t)}var oo=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},rg="ngNavigationCancelingError";function us(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=cn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=og(!1,Oe.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function og(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[rg]=!0,e.cancellationCode=r,e}function _I(t){return ig(t)&&cn(t.url)}function ig(t){return!!t&&t[rg]}var xI=(t,r,e,n)=>w(o=>(new Fl(r,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),Fl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,o,i){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),hl(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let o=Gn(e);r.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(o===i)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(r,e,s.children)}else this.deactivateChildRoutes(r,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Gn(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:a})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Gn(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let o=Gn(e);r.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new _l(i.value.snapshot))}),r.children.length&&this.forwardEvent(new Rl(r.value.snapshot))}activateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(hl(o),o===i)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,s.children)}else this.activateChildRoutes(r,e,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hl(a.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},ds=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Yn=class{component;route;constructor(r,e){this.component=r,this.route=e}};function kI(t,r,e){let n=t._root,o=r?r._root:null;return Gr(n,o,e,[n.value])}function NI(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function tr(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!xd(t)?t:r.get(t):n}function Gr(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Gn(r);return t.children.forEach(s=>{OI(s,i[s.value.outlet],e,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Qr(a,e.getContext(s),o)),o}function OI(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=r?r.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=PI(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new ds(n)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Gr(t,r,a?a.children:null,n,o):Gr(t,r,e,n,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Yn(a.outlet.component,s))}else s&&Qr(r,a,o),o.canActivateChecks.push(new ds(n)),i.component?Gr(t,null,a?a.children:null,n,o):Gr(t,null,e,n,o);return o}function PI(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!an(t.url,r.url);case"pathParamsOrQueryParamsChange":return!an(t.url,r.url)||!nt(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ol(t,r)||!nt(t.queryParams,r.queryParams);case"paramsChange":default:return!Ol(t,r)}}function Qr(t,r,e){let n=Gn(t),o=t.value;Object.entries(n).forEach(([i,s])=>{o.component?r?Qr(s,r.children.getContext(i),e):Qr(s,null,e):Qr(s,r,e)}),o.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new Yn(r.outlet.component,o)):e.canDeactivateChecks.push(new Yn(null,o)):e.canDeactivateChecks.push(new Yn(null,o))}function uo(t){return typeof t=="function"}function FI(t){return typeof t=="boolean"}function LI(t){return t&&uo(t.canLoad)}function jI(t){return t&&uo(t.canActivate)}function UI(t){return t&&uo(t.canActivateChild)}function VI(t){return t&&uo(t.canDeactivate)}function $I(t){return t&&uo(t.canMatch)}function sg(t){return t instanceof ct||t?.name==="EmptyError"}var Xi=Symbol("INITIAL_VALUE");function Xn(){return $(t=>hr(t.map(r=>r.pipe(Se(1),aa(Xi)))).pipe(w(r=>{for(let e of r)if(e!==!0){if(e===Xi)return Xi;if(e===!1||BI(e))return e}return!0}),Re(r=>r!==Xi),Se(1)))}function BI(t){return cn(t)||t instanceof oo}function HI(t,r){return te(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?m(W(y({},e),{guardsResult:!0})):zI(s,n,o,t).pipe(te(a=>a&&FI(a)?WI(n,i,t,r):m(a)),w(a=>W(y({},e),{guardsResult:a})))})}function zI(t,r,e,n){return ee(t).pipe(te(o=>YI(o.component,o.route,e,r,n)),lt(o=>o!==!0,!0))}function WI(t,r,e,n){return ee(r).pipe(U(o=>Sn(GI(o.route.parent,n),qI(o.route,n),ZI(t,o.path,e),KI(t,o.route,e))),lt(o=>o!==!0,!0))}function qI(t,r){return t!==null&&r&&r(new Al(t)),m(!0)}function GI(t,r){return t!==null&&r&&r(new Ml(t)),m(!0)}function KI(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return m(!0);let o=n.map(i=>Go(()=>{let s=co(r)??e,a=tr(i,s),c=jI(a)?a.canActivate(r,t):ke(s,()=>a(r,t));return jt(c).pipe(lt())}));return m(o).pipe(Xn())}function ZI(t,r,e){let n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(s=>NI(s)).filter(s=>s!==null).map(s=>Go(()=>{let a=s.guards.map(c=>{let l=co(s.node)??e,d=tr(c,l),f=UI(d)?d.canActivateChild(n,t):ke(l,()=>d(n,t));return jt(f).pipe(lt())});return m(a).pipe(Xn())}));return m(i).pipe(Xn())}function YI(t,r,e,n,o){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return m(!0);let s=i.map(a=>{let c=co(r)??o,l=tr(a,c),d=VI(l)?l.canDeactivate(t,r,e,n):ke(c,()=>l(t,r,e,n));return jt(d).pipe(lt())});return m(s).pipe(Xn())}function QI(t,r,e,n){let o=r.canLoad;if(o===void 0||o.length===0)return m(!0);let i=o.map(s=>{let a=tr(s,t),c=LI(a)?a.canLoad(r,e):ke(t,()=>a(r,e));return jt(c)});return m(i).pipe(Xn(),ag(n))}function ag(t){return Ys(q(r=>{if(typeof r!="boolean")throw us(t,r)}),w(r=>r===!0))}function JI(t,r,e,n){let o=r.canMatch;if(!o||o.length===0)return m(!0);let i=o.map(s=>{let a=tr(s,t),c=$I(a)?a.canMatch(r,e):ke(t,()=>a(r,e));return jt(c)});return m(i).pipe(Xn(),ag(n))}var io=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},so=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function qn(t){return E(new io(t))}function XI(t){return E(new C(4e3,!1))}function eE(t){return E(og(!1,Oe.GuardRejected))}var Ll=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return m(n);if(o.numberOfChildren>1||!o.children[O])return XI(`${r.redirectTo}`);o=o.children[O]}}applyRedirectCommands(r,e,n,o,i){if(typeof e!="string"){let a=e,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:p,params:h,data:v,title:D}=o,S=ke(i,()=>a({params:h,data:v,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:p,title:D}));if(S instanceof St)throw new so(S);e=S}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new so(s);return s}applyRedirectCreateUrlTree(r,e,n,o){let i=this.createSegmentGroup(r,e.root,n,o);return new St(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);n[o]=e[a]}else n[o]=i}),n}createSegmentGroup(r,e,n,o){let i=this.createSegments(r,e.segments,n,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(r,c,n,o)}),new z(i,s)}createSegments(r,e,n,o){return e.map(i=>i.path[0]===":"?this.findPosParam(r,i,o):this.findOrReturn(i,n))}findPosParam(r,e,n){let o=n[e.path.substring(1)];if(!o)throw new C(4001,!1);return o}findOrReturn(r,e){let n=0;for(let o of e){if(o.path===r.path)return e.splice(n),o;n++}return r}},jl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tE(t,r,e,n,o){let i=cg(t,r,e);return i.matched?(n=EI(r,n),JI(n,r,e,o).pipe(w(s=>s===!0?i:y({},jl)))):m(i)}function cg(t,r,e){if(r.path==="**")return nE(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?y({},jl):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(r.matcher||QS)(e,t,r);if(!o)return y({},jl);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function nE(t){return{matched:!0,parameters:t.length>0?$p(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Lp(t,r,e,n){return e.length>0&&iE(t,e,n)?{segmentGroup:new z(r,oE(n,new z(e,t.children))),slicedSegments:[]}:e.length===0&&sE(t,e,n)?{segmentGroup:new z(t.segments,rE(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new z(t.segments,t.children),slicedSegments:e}}function rE(t,r,e,n){let o={};for(let i of e)if(ps(t,r,i)&&!n[qe(i)]){let s=new z([],{});o[qe(i)]=s}return y(y({},n),o)}function oE(t,r){let e={};e[O]=r;for(let n of t)if(n.path===""&&qe(n)!==O){let o=new z([],{});e[qe(n)]=o}return e}function iE(t,r,e){return e.some(n=>ps(t,r,n)&&qe(n)!==O)}function sE(t,r,e){return e.some(n=>ps(t,r,n))}function ps(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function aE(t,r,e){return r.length===0&&!t.children[e]}var Ul=class{};function cE(t,r,e,n,o,i,s="emptyOnly"){return new Vl(t,r,e,n,o,s,i).recognize()}var lE=31,Vl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,o,i,s,a){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ll(this.urlSerializer,this.urlTree)}noMatchError(r){return new C(4002,`'${r.segmentGroup}'`)}recognize(){let r=Lp(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(w(({children:e,rootSnapshot:n})=>{let o=new Ne(n,e),i=new ls("",o),s=mI(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(r){let e=new Zn([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,O,e).pipe(w(n=>({children:n,rootSnapshot:e})),K(n=>{if(n instanceof so)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof io?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,o,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,i):this.processSegment(r,e,n,n.segments,o,!0,i).pipe(w(s=>s instanceof Ne?[s]:[]))}processChildren(r,e,n,o){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(U(s=>{let a=n.children[s],c=CI(e,s);return this.processSegmentGroup(r,c,a,s,o)}),sa((s,a)=>(s.push(...a),s)),Tt(null),ia(),te(s=>{if(s===null)return qn(n);let a=lg(s);return uE(a),m(a)}))}processSegment(r,e,n,o,i,s,a){return ee(e).pipe(U(c=>this.processSegmentAgainstRoute(c._injector??r,e,c,n,o,i,s,a).pipe(K(l=>{if(l instanceof io)return m(null);throw l}))),lt(c=>!!c),K(c=>{if(sg(c))return aE(n,o,i)?m(new Ul):qn(n);throw c}))}processSegmentAgainstRoute(r,e,n,o,i,s,a,c){return qe(n)!==s&&(s===O||!ps(o,i,n))?qn(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,n,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,o,e,n,i,s,c):qn(o)}expandSegmentAgainstRouteUsingRedirect(r,e,n,o,i,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=cg(e,o,i);if(!c)return qn(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lE&&(this.allowRedirects=!1));let h=new Zn(i,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,jp(o),qe(o),o.component??o._loadedComponent??null,o,Up(o)),v=cs(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let D=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,f,h,r);return this.applyRedirects.lineralizeSegments(o,D).pipe(te(S=>this.processSegment(r,n,e,S.concat(p),s,!1,a)))}matchSegmentAgainstRoute(r,e,n,o,i,s){let a=tE(e,n,o,r,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe($(c=>c.matched?(r=n._injector??r,this.getChildConfig(r,n,o).pipe($(({routes:l})=>{let d=n._loadedInjector??r,{parameters:f,consumedSegments:p,remainingSegments:h}=c,v=new Zn(p,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,jp(n),qe(n),n.component??n._loadedComponent??null,n,Up(n)),D=cs(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let{segmentGroup:S,slicedSegments:_}=Lp(e,p,h,l);if(_.length===0&&S.hasChildren())return this.processChildren(d,l,S,v).pipe(w(I=>new Ne(v,I)));if(l.length===0&&_.length===0)return m(new Ne(v,[]));let G=qe(n)===i;return this.processSegment(d,l,S,_,G?O:i,!0,v).pipe(w(I=>new Ne(v,I instanceof Ne?[I]:[])))}))):qn(e)))}getChildConfig(r,e,n){return e.children?m({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?m({routes:e._loadedRoutes,injector:e._loadedInjector}):QI(r,e,n,this.urlSerializer).pipe(te(o=>o?this.configLoader.loadChildren(r,e).pipe(q(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):eE(e))):m({routes:[],injector:r})}};function uE(t){t.sort((r,e)=>r.value.outlet===O?-1:e.value.outlet===O?1:r.value.outlet.localeCompare(e.value.outlet))}function dE(t){let r=t.value.routeConfig;return r&&r.path===""}function lg(t){let r=[],e=new Set;for(let n of t){if(!dE(n)){r.push(n);continue}let o=r.find(i=>n.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):r.push(n)}for(let n of e){let o=lg(n.children);r.push(new Ne(n.value,o))}return r.filter(n=>!e.has(n))}function jp(t){return t.data||{}}function Up(t){return t.resolve||{}}function fE(t,r,e,n,o,i){return te(s=>cE(t,r,e,n,s.extractedUrl,o,i).pipe(w(({state:a,tree:c})=>W(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function hE(t,r){return te(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return m(e);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of ug(c))s.add(l);let a=0;return ee(s).pipe(U(c=>i.has(c)?pE(c,n,t,r):(c.data=cs(c,c.parent,t).resolve,m(void 0))),q(()=>a++),In(1),te(c=>a===s.size?m(e):Me))})}function ug(t){let r=t.children.map(e=>ug(e)).flat();return[t,...r]}function pE(t,r,e,n){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!ng(o)&&(i[ao]=o.title),gE(i,t,r,n).pipe(w(s=>(t._resolvedData=s,t.data=cs(t,t.parent,e).resolve,null)))}function gE(t,r,e,n){let o=ml(t);if(o.length===0)return m({});let i={};return ee(o).pipe(te(s=>mE(t[s],r,e,n).pipe(lt(),q(a=>{if(a instanceof oo)throw us(new Jr,a);i[s]=a}))),In(1),ra(i),K(s=>sg(s)?Me:E(s)))}function mE(t,r,e,n){let o=co(r)??n,i=tr(t,o),s=i.resolve?i.resolve(r,e):ke(o,()=>i(r,e));return jt(s)}function pl(t){return $(r=>{let e=t(r);return e?ee(e).pipe(w(()=>r)):m(r)})}var dg=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(i=>i.outlet===O);return n}getResolvedTitleForRoute(e){return e.data[ao]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(vE),providedIn:"root"})}return t})(),vE=(()=>{class t extends dg{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(M(xp))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zl=new b("",{providedIn:"root",factory:()=>({})}),yE=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=se({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,o){n&1&&j(0,"router-outlet")},dependencies:[lo],encapsulation:2})}return t})();function Wl(t){let r=t.children&&t.children.map(Wl),e=r?W(y({},t),{children:r}):y({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==O&&(e.component=yE),e}var ql=new b(""),wE=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=u(Wc);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return m(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=jt(e.loadComponent()).pipe(w(fg),q(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Ge(()=>{this.componentLoaders.delete(e)})),o=new yn(n,()=>new J).pipe(vn());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return m({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=DE(n,this.compiler,e,this.onLoadEndListener).pipe(Ge(()=>{this.childrenLoaders.delete(n)})),s=new yn(i,()=>new J).pipe(vn());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DE(t,r,e,n){return jt(t.loadChildren()).pipe(w(fg),te(o=>o instanceof Tr||Array.isArray(o)?m(o):ee(r.compileModuleAsync(o))),w(o=>{n&&n(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(ql,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wl),injector:i}}))}function SE(t){return t&&typeof t=="object"&&"default"in t}function fg(t){return SE(t)?t.default:t}var Gl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(IE),providedIn:"root"})}return t})(),IE=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EE=new b("");var CE=new b(""),bE=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new J;transitionAbortSubject=new J;configLoader=u(wE);environmentInjector=u(Ee);urlSerializer=u(Bl);rootContexts=u(fs);location=u(jr);inputBindingEnabled=u(hs,{optional:!0})!==null;titleStrategy=u(dg);options=u(zl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=u(Gl);createViewTransition=u(EE,{optional:!0});navigationErrorHandler=u(CE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>m(void 0);rootComponentType=null;constructor(){let e=o=>this.events.next(new bl(o)),n=o=>this.events.next(new Tl(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(W(y(y({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,o){return this.transitions=new ae({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Re(i=>i.id!==0),w(i=>W(y({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),$(i=>{let s=!1,a=!1;return m(i).pipe($(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Oe.SupersededByNewNavigation),Me;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?W(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new ln(c.id,this.urlSerializer.serialize(c.rawUrl),f,Dl.IgnoredSameUrlNavigation)),c.resolve(!1),Me}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return m(c).pipe($(f=>{let p=this.transitions?.getValue();return this.events.next(new eo(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Me:Promise.resolve(f)}),fE(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),q(f=>{i.targetSnapshot=f.targetSnapshot,i.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=W(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new is(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:p,source:h,restoredState:v,extras:D}=c,S=new eo(f,this.urlSerializer.serialize(p),h,v);this.events.next(S);let _=eg(this.rootComponentType).snapshot;return this.currentTransition=i=W(y({},c),{targetSnapshot:_,urlAfterRedirects:p,extras:W(y({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,m(i)}else{let f="";return this.events.next(new ln(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Dl.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Me}}),q(c=>{let l=new Sl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),w(c=>(this.currentTransition=i=W(y({},c),{guards:kI(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),HI(this.environmentInjector,c=>this.events.next(c)),q(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw us(this.urlSerializer,c.guardsResult);let l=new Il(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Re(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Oe.GuardRejected),!1)),pl(c=>{if(c.guards.canActivateChecks.length)return m(c).pipe(q(l=>{let d=new El(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),$(l=>{let d=!1;return m(l).pipe(hE(this.paramsInheritanceStrategy,this.environmentInjector),q({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Oe.NoDataFromResolver)}}))}),q(l=>{let d=new Cl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),pl(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(q(p=>{d.component=p}),w(()=>{})));for(let p of d.children)f.push(...l(p));return f};return hr(l(c.targetSnapshot.root)).pipe(Tt(null),Se(1))}),pl(()=>this.afterPreactivation()),$(()=>{let{currentSnapshot:c,targetSnapshot:l}=i,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?ee(d).pipe(w(()=>i)):m(i)}),w(c=>{let l=MI(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=W(y({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),q(()=>{this.events.next(new no)}),xI(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Se(1),q({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new It(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ca(this.transitionAbortSubject.pipe(q(c=>{throw c}))),Ge(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",Oe.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),K(c=>{if(a=!0,ig(c))this.events.next(new Dt(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),_I(c)?this.events.next(new Jn(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let l=new to(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let d=ke(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof oo){let{message:f,cancellationCode:p}=us(this.urlSerializer,d);this.events.next(new Dt(i.id,this.urlSerializer.serialize(i.extractedUrl),f,p)),this.events.next(new Jn(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Me}))}))}cancelNavigationTransition(e,n,o){let i=new Dt(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TE(t){return t!==Yr}var ME=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(RE),providedIn:"root"})}return t})(),$l=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},RE=(()=>{class t extends $l{static \u0275fac=(()=>{let e;return function(o){return(e||(e=wc(t)))(o||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:()=>u(AE),providedIn:"root"})}return t})(),AE=(()=>{class t extends hg{location=u(jr);urlSerializer=u(Bl);options=u(zl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=u(Gl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new St;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=eg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof eo)this.stateMemento=this.createStateMemento();else if(e instanceof ln)this.rawUrlTree=n.initialUrl;else if(e instanceof is){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else e instanceof no?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof Dt&&(e.code===Oe.GuardRejected||e.code===Oe.NoDataFromResolver)?this.restoreHistory(n):e instanceof to?this.restoreHistory(n,!0):e instanceof It&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let o=e instanceof St?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let i=this.browserPageId,s=y(y({},n.extras.state),this.generateNgRouterState(n.id,i));this.location.replaceState(o,"",s)}else{let i=y(y({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===e.finalUrl&&i===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=wc(t)))(o||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Kr||{});function _E(t,r){t.events.pipe(Re(e=>e instanceof It||e instanceof Dt||e instanceof to||e instanceof ln),w(e=>e instanceof It||e instanceof ln?Kr.COMPLETE:(e instanceof Dt?e.code===Oe.Redirect||e.code===Oe.SupersededByNewNavigation:!1)?Kr.REDIRECTING:Kr.FAILED),Re(e=>e!==Kr.REDIRECTING),Se(1)).subscribe(()=>{r()})}var xE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=u(Li);stateManager=u(hg);options=u(zl,{optional:!0})||{};pendingTasks=u(yt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=u(bE);urlSerializer=u(Bl);location=u(jr);urlHandlingStrategy=u(Gl);_events=new J;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=u(ME);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=u(ql,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!u(hs,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ie;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof Dt&&n.code!==Oe.Redirect&&n.code!==Oe.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof It)this.navigated=!0;else if(n instanceof Jn){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TE(o.source)},s);this.scheduleNavigation(a,Yr,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}OE(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Wl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=Yp(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return Qp(f,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=cn(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Yr,null,n)}navigate(e,n={skipLocationChange:!1}){return NE(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=y({},xE):n===!1?o=y({},kE):o=n,cn(e))return kp(this.currentUrlTree,e,o);let i=this.parseUrl(e);return kp(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,i])=>(i!=null&&(n[o]=i),n),{})}scheduleNavigation(e,n,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,p)=>{a=f,c=p});let d=this.pendingTasks.add();return _E(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NE(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new C(4008,!1)}function OE(t){return!(t instanceof no)&&!(t instanceof Jn)}var er=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new J;constructor(e,n,o,i,s,a){this.router=e,this.route=n,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof It&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(cn(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Jf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let o=this.renderer,i=this.el.nativeElement;n!==null?o.setAttribute(i,e,n):o.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:cn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(ce(rt),ce(un),Dc("tabindex"),ce(kr),ce(wt),ce(Wn))};static \u0275dir=Nr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){n&1&&Vn("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&zc("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Lr],replaceUrl:[2,"replaceUrl","replaceUrl",Lr],routerLink:"routerLink"},features:[Or,Ar]})}return t})(),pg=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ie;constructor(e,n,o,i,s){this.router=e,this.element=n,this.renderer=o,this.cdr=i,this.link=s,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof It&&this.update()})}ngAfterContentInit(){m(this.links.changes,m(null)).pipe(Dn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=ee(e).pipe(Dn()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=PE(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let i=o.urlTree;return i?e.isActive(i,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||t)(ce(rt),ce(wt),ce(kr),ce(Bn),ce(er,8))};static \u0275dir=Nr({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,o,i){if(n&1&&$h(i,er,5),n&2){let s;Bh(s=Hh())&&(o.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ar]})}return t})();function PE(t){return!!t.paths}var FE=new b("");function gg(t,...r){return Pt([{provide:ql,multi:!0,useValue:t},[],{provide:un,useFactory:LE,deps:[rt]},{provide:ji,multi:!0,useFactory:UE},r.map(e=>e.\u0275providers)])}function LE(t){return t.routerState.root}function jE(t,r){return{\u0275kind:t,\u0275providers:r}}function UE(){let t=u(ht);return r=>{let e=t.get(pt);if(r!==e.components[0])return;let n=t.get(rt),o=t.get(VE);t.get($E)===1&&n.initialNavigation(),t.get(BE,null,P.Optional)?.setUpPreloading(),t.get(FE,null,P.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var VE=new b("",{factory:()=>new J}),$E=new b("",{providedIn:"root",factory:()=>1});var BE=new b("");function mg(){return jE(8,[Fp,{provide:hs,useExisting:Fp}])}var nr=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-logo"]],decls:7,vars:2,consts:[[1,"font-light","text-red-300"],[1,"font-medium","text-blue-600"]],template:function(e,n){e&1&&(N(0,"span")(1,"span",0),Y(2),L(),N(3,"span",1),Y(4,"BytePype"),L(),N(5,"span",0),Y(6),L()()),e&2&&(et(2),Ui("{"),et(4),Ui("}"))},encapsulation:2})};var vg={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var yg={parse:function(r,e){return zE(r,vg,e)},stringify:function(r,e){return WE(r,vg,e)}};function zE(t,r,e){var n;if(e===void 0&&(e={}),!r.codes){r.codes={};for(var o=0;o<r.chars.length;++o)r.codes[r.chars[o]]=o}if(!e.loose&&t.length*r.bits&7)throw new SyntaxError("Invalid padding");for(var i=t.length;t[i-1]==="=";)if(--i,!e.loose&&!((t.length-i)*r.bits&7))throw new SyntaxError("Invalid padding");for(var s=new((n=e.out)!=null?n:Uint8Array)(i*r.bits/8|0),a=0,c=0,l=0,d=0;d<i;++d){var f=r.codes[t[d]];if(f===void 0)throw new SyntaxError("Invalid character "+t[d]);c=c<<r.bits|f,a+=r.bits,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=r.bits||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s}function WE(t,r,e){e===void 0&&(e={});for(var n=e,o=n.pad,i=o===void 0?!0:o,s=(1<<r.bits)-1,a="",c=0,l=0,d=0;d<t.length;++d)for(l=l<<8|255&t[d],c+=8;c>r.bits;)c-=r.bits,a+=r.chars[s&l>>c];if(c&&(a+=r.chars[s&l<<r.bits-c]),i)for(;a.length*r.bits&7;)a+="=";return a}function gs(t,r){let e=!r?.manualCleanup;e&&!r?.injector&&Kd(gs);let n=e?r?.injector?.get(_r)??u(_r):null,o=qE(r?.equal),i;r?.requireSync?i=Vc({kind:0},{equal:o}):i=Vc({kind:1,value:r?.initialValue},{equal:o});let s=t.subscribe({next:a=>i.set({kind:1,value:a}),error:a=>{if(r?.rejectErrors)throw a;i.set({kind:2,error:a})}});if(r?.requireSync&&i().kind===0)throw new C(601,!1);return n?.onDestroy(s.unsubscribe.bind(s)),Yh(()=>{let a=i();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new C(601,!1)}},{equal:r?.equal})}function qE(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}var ms=class{},Zl=class{constructor(r){this.passedConfigs=r}loadConfigs(){return Array.isArray(this.passedConfigs)?m(this.passedConfigs):m([this.passedConfigs])}};function GE(t){if(!t?.config)throw new Error("No config provided!");return new Zl(t.config)}var wg=new b("PASSED_CONFIG"),Cg=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),KE=(()=>{class t{logError(e,...n){console.error(e,...n)}logWarning(e,...n){console.warn(e,...n)}logDebug(e,...n){console.debug(e,...n)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ut=function(t){return t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t}(Ut||{}),V=(()=>{class t{constructor(){this.abstractLoggerService=u(Cg)}logError(e,n,...o){if(this.loggingIsTurnedOff(e))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logError(`[ERROR] ${i} - ${s}`,...o):this.abstractLoggerService.logError(`[ERROR] ${i} - ${s}`)}logWarning(e,n,...o){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,Ut.Warn))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logWarning(`[WARN] ${i} - ${s}`,...o):this.abstractLoggerService.logWarning(`[WARN] ${i} - ${s}`)}logDebug(e,n,...o){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,Ut.Debug))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logDebug(`[DEBUG] ${i} - ${s}`,...o):this.abstractLoggerService.logDebug(`[DEBUG] ${i} - ${s}`)}currentLogLevelIsEqualOrSmallerThan(e,n){let{logLevel:o}=e||{};return o?o<=n:!1}logLevelIsSet(e){let{logLevel:n}=e||{};return n===null?!1:n!==void 0}loggingIsTurnedOff(e){let{logLevel:n}=e||{};return n===Ut.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),be=function(t){return t[t.ConfigLoaded=0]="ConfigLoaded",t[t.CheckingAuth=1]="CheckingAuth",t[t.CheckingAuthFinished=2]="CheckingAuthFinished",t[t.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",t[t.ConfigLoadingFailed=4]="ConfigLoadingFailed",t[t.CheckSessionReceived=5]="CheckSessionReceived",t[t.UserDataChanged=6]="UserDataChanged",t[t.NewAuthenticationResult=7]="NewAuthenticationResult",t[t.TokenExpired=8]="TokenExpired",t[t.IdTokenExpired=9]="IdTokenExpired",t[t.SilentRenewStarted=10]="SilentRenewStarted",t[t.SilentRenewFailed=11]="SilentRenewFailed",t}(be||{}),dn=(()=>{class t{constructor(){this.notify=new dr(1)}fireEvent(e,n){this.notify.next({type:e,value:n})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ys=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZE=(()=>{class t{constructor(){this.loggerService=u(V),this.abstractSecurityStorage=u(ys)}read(e,n){let{configId:o}=n;if(!o)return this.loggerService.logDebug(n,`Wanted to read '${e}' but configId was '${o}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(n,`Wanted to read '${e}' but Storage was undefined`),null;let i=this.abstractSecurityStorage.read(o);return i?JSON.parse(i):null}write(e,n){let{configId:o}=n;return o?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(o,JSON.stringify(e)),!0):(this.loggerService.logDebug(n,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(n,`Wanted to write but configId was '${o}'`),!1)}remove(e,n){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(n,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ue=(()=>{class t{constructor(){this.browserStorageService=u(ZE)}read(e,n){return(this.browserStorageService.read(e,n)||{})[e]}write(e,n,o){let i=this.browserStorageService.read(e,o)||{};return i[e]=n,this.browserStorageService.write(i,o)}remove(e,n){let o=this.browserStorageService.read(e,n)||{};delete o[e],this.browserStorageService.write(o,n)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let n=this.read("authnResult",e)?.refresh_token;return!n&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):n}getAuthenticationResult(e){return this.read("authnResult",e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bg=(()=>{class t{extractJwk(e,n,o=!0){if(e.length===0)throw YE;let i=e.filter(s=>n?.kid?s.kid===n.kid:!0).filter(s=>n?.use?s.use===n.use:!0).filter(s=>n?.kty?s.kty===n.kty:!0);if(i.length===0&&o)throw QE;if(i.length>1&&n==null)throw JE;return i}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ql(t){return bg.name+": "+t}var YE={name:Ql("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},QE={name:Ql("NoMatchingKeysError"),message:"No key found matching the spec"},JE={name:Ql("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},Dg=3,ws=(()=>{class t{constructor(){this.loggerService=u(V),this.document=u(Q)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let n=new Date(0);return n.setUTCSeconds(e.exp),n}getSigningInputFromToken(e,n,o){if(!this.tokenIsValid(e,o))return"";let i=this.getHeaderFromToken(e,n,o),s=this.getPayloadFromToken(e,n,o);return[i,s].join(".")}getHeaderFromToken(e,n,o){return this.tokenIsValid(e,o)?this.getPartOfToken(e,0,n):{}}getPayloadFromToken(e,n,o){return o?this.tokenIsValid(e,o)?this.getPartOfToken(e,1,n):{}:{}}getSignatureFromToken(e,n,o){return this.tokenIsValid(e,o)?this.getPartOfToken(e,2,n):{}}getPartOfToken(e,n,o){let i=this.extractPartOfToken(e,n);if(o)return i;let s=this.urlBase64Decode(i);return JSON.parse(s)}urlBase64Decode(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw Error("Illegal base64url string!")}let o=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(n):Buffer.from(n,"base64").toString("binary");if(!o)return"";try{return decodeURIComponent(o.split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return o}}tokenIsValid(e,n){return e?e.includes(".")?e.split(".").length!==Dg?(this.loggerService.logError(n,`token '${e}' is not valid --> token has to have exactly ${Dg-1} dots`),!1):!0:(this.loggerService.logError(n,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(n,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,n){return e.split(".")[n]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jl=(()=>{class t{constructor(){this.document=u(Q)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XE=(()=>{class t{constructor(){this.cryptoService=u(Jl)}importVerificationKey(e,n){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,n,!1,["verify"])}verifyKey(e,n,o,i){return this.cryptoService.getCrypto().subtle.verify(e,n,o,new TextEncoder().encode(i))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tg=(()=>{class t{constructor(){this.cryptoService=u(Jl)}generateCodeChallenge(e){return this.calcHash(e).pipe(w(n=>this.base64UrlEncode(n)))}generateAtHash(e,n){return this.calcHash(e,n).pipe(w(o=>{let i=o.substr(0,o.length/2);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,n="SHA-256"){let o=new TextEncoder().encode(e);return ee(this.cryptoService.getCrypto().subtle.digest(n,o)).pipe(w(i=>{let s=i,a=Array.from(new Uint8Array(s));return this.toHashString(a)}))}toHashString(e){let n="";for(let o of e)n+=String.fromCharCode(o);return n}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eC(t){switch(t.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return t.includes("256")?{name:"ECDSA",hash:"SHA-256"}:t.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function tC(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}function nC(t){switch(t.charAt(0)){case"R":return t.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:t.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:t.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return t.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:t.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var Ds=(()=>{class t{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=u(ws),this.loggerService=u(V),this.jwkExtractor=u(bg),this.jwkWindowCryptoService=u(XE),this.jwtWindowCryptoService=u(Tg)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(e,n,o){let i=this.tokenHelperService.getPayloadFromToken(e,!1,n);return!this.validateIdTokenExpNotExpired(i,n,o)}validateIdTokenExpNotExpired(e,n,o){let i=this.tokenHelperService.getTokenExpirationDate(e);if(o=o||0,!i)return!1;let s=i.valueOf(),a=this.calculateNowWithOffset(o),c=s>a;return this.loggerService.logDebug(n,`Has idToken expired: ${!c} --> expires in ${this.millisToMinutesAndSeconds(s-a)} , ${new Date(s).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),c}validateAccessTokenNotExpired(e,n,o){if(!e)return!0;o=o||0;let i=e.valueOf(),s=this.calculateNowWithOffset(o),a=i>s;return this.loggerService.logDebug(n,`Has accessToken expired: ${!a} --> expires in ${this.millisToMinutesAndSeconds(i-s)} , ${new Date(i).toLocaleTimeString()} > ${new Date(s).toLocaleTimeString()}`),a}validateRequiredIdToken(e,n){let o=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(o=!1,this.loggerService.logWarning(n,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(o=!1,this.loggerService.logWarning(n,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(o=!1,this.loggerService.logWarning(n,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(o=!1,this.loggerService.logWarning(n,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(o=!1,this.loggerService.logWarning(n,"iat is missing, this is required in the id_token")),o}validateIdTokenIatMaxOffset(e,n,o,i){if(o)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let s=new Date(0);s.setUTCSeconds(e.iat),n=n||0;let c=new Date(new Date().toUTCString()).valueOf()-s.valueOf(),l=n*1e3;return this.loggerService.logDebug(i,`validate id token iat max offset ${c} < ${l}`),c>0?c<l:-c<l}validateIdTokenNonce(e,n,o,i){return!((e.nonce===void 0||o)&&n===t.refreshTokenNoncePlaceholder)&&e.nonce!==n?(this.loggerService.logDebug(i,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+n),!1):!0}validateIdTokenIss(e,n,o){return e.iss!==n?(this.loggerService.logDebug(o,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+n),!1):!0}validateIdTokenAud(e,n,o){return Array.isArray(e.aud)?e.aud.includes(n)?!0:(this.loggerService.logDebug(o,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+n),!1):e.aud!==n?(this.loggerService.logDebug(o,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+n),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,n){return e?.azp?e.azp===n:!0}validateStateFromHashCallback(e,n,o){return e!==n?(this.loggerService.logDebug(o,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+n),!1):!0}validateSignatureIdToken(e,n,o){if(!e)return m(!0);if(!n||!n.keys)return m(!1);let i=this.tokenHelperService.getHeaderFromToken(e,!1,o);if(Object.keys(i).length===0&&i.constructor===Object)return this.loggerService.logWarning(o,"id token has no header data"),m(!1);let s=i.kid,a=i.alg,c=n.keys,l,d;if(!this.keyAlgorithms.includes(a))return this.loggerService.logWarning(o,"alg not supported",a),m(!1);let f=tC(a),p="sig";try{l=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:f,use:p},!1):this.jwkExtractor.extractJwk(c,{kty:f,use:p},!1),l.length===0&&(l=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:f}):this.jwkExtractor.extractJwk(c,{kty:f})),d=l[0]}catch(S){return this.loggerService.logError(o,S),m(!1)}let h=nC(a),v=this.tokenHelperService.getSigningInputFromToken(e,!0,o),D=this.tokenHelperService.getSignatureFromToken(e,!0,o);return ee(this.jwkWindowCryptoService.importVerificationKey(d,h)).pipe(te(S=>{let _=yg.parse(D,{loose:!0}),G=eC(a);return ee(this.jwkWindowCryptoService.verifyKey(G,S,_,v))}),q(S=>{S||this.loggerService.logWarning(o,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,n,o,i){this.loggerService.logDebug(i,"at_hash from the server:"+n);let s="SHA-256";return o.includes("384")?s="SHA-384":o.includes("512")&&(s="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,s).pipe(te(a=>(this.loggerService.logDebug(i,"at_hash client validation not decoded:"+a),a===n?m(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),s).pipe(w(c=>(this.loggerService.logDebug(i,"-gen access--"+a),c===n))))))}millisToMinutesAndSeconds(e){let n=Math.floor(e/6e4),o=(e%6e4/1e3).toFixed(0);return n+":"+(+o<10?"0":"")+o}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rC={isAuthenticated:!1,allConfigsAuthenticated:[]},ot=(()=>{class t{constructor(){this.storagePersistenceService=u(ue),this.loggerService=u(V),this.publicEventsService=u(dn),this.tokenValidationService=u(Ds),this.authenticatedInternal$=new ae(rC)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(oa())}setAuthenticatedAndFireEvent(e){let n=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(n)}setUnauthenticatedAndFireEvent(e,n){this.storagePersistenceService.resetAuthStateInStorage(e);let o=this.composeUnAuthenticatedResult(n);this.authenticatedInternal$.next(o)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(be.NewAuthenticationResult,e)}setAuthorizationData(e,n,o,i){this.loggerService.logDebug(o,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,o),this.persistAccessTokenExpirationTime(n,o),this.setAuthenticatedAndFireEvent(i)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(n)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(n)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(n)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:n,triggerRefreshWhenIdTokenExpired:o,disableIdTokenValidation:i}=e;if(!o||i)return!1;let s=this.storagePersistenceService.getIdToken(e),a=this.tokenValidationService.hasIdTokenExpired(s,e,n);return a&&this.publicEventsService.fireEvent(be.IdTokenExpired,a),a}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:n}=e,o=this.storagePersistenceService.read("access_token_expires_at",e),s=!this.tokenValidationService.validateAccessTokenNotExpired(o,e,n);return s&&this.publicEventsService.fireEvent(be.TokenExpired,s),s}isAuthenticated(e){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module")),!1;let n=!!this.storagePersistenceService.getAccessToken(e),o=!!this.storagePersistenceService.getIdToken(e);return n&&o}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,n){if(e?.expires_in){let o=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",o,n)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:n}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:n??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:n}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:n??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let n=e.map(i=>({configId:i.configId??"",isAuthenticated:this.isAuthenticated(i)})),o=n.every(i=>!!i.isAuthenticated);return{allConfigsAuthenticated:n,isAuthenticated:o}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kl="redirect",oC=(()=>{class t{constructor(){this.storageService=u(ue),this.router=u(rt)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let n=this.getStoredRedirectRoute(e);n!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(n))}saveRedirectRoute(e,n){e&&this.storageService.write(Kl,n,e)}getStoredRedirectRoute(e){return this.storageService.read(Kl,e)}deleteStoredRedirectRoute(e){this.storageService.remove(Kl,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vt=(()=>{class t{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:n}=e;return this.isCurrentFlowCodeFlow(e)&&!!n}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,n){let{responseType:o}=n;return Array.isArray(e)?e.some(i=>o===i):o===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iC=(()=>{class t{constructor(){this.loggerService=u(V),this.cryptoService=u(Jl)}createRandom(e,n){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(n,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let o=e-6,i=new Uint8Array(Math.floor(o/2)),s=this.cryptoService.getCrypto();return s&&s.getRandomValues(i),Array.from(i,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=new Uint32Array(e),s=this.cryptoService.getCrypto();if(s){s.getRandomValues(i);for(let a=0;a<e;a++)n+=o[i[a]%o.length]}return n}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Te=(()=>{class t{constructor(){this.loggerService=u(V),this.storagePersistenceService=u(ue),this.randomService=u(iC)}createNonce(e){let n=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+n),this.setNonce(n,e),n}setNonce(e,n){this.storagePersistenceService.write("authNonce",e,n)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,n){return n?this.storagePersistenceService.write("authStateControl",e,n):!1}getExistingOrCreateAuthStateControl(e){let n=this.storagePersistenceService.read("authStateControl",e);return n||(n=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",n,e)),n}setSessionState(e,n){this.storagePersistenceService.write("session_state",e,n)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let n=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",n,e),n}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:n,silentRenewTimeoutInSeconds:o}=e,i=this.getSilentRenewRunningStorageEntry(e);if(!i||i.state==="not-running")return!1;let s=(o??0)*1e3,a=Date.parse(i.dateOfLaunchedProcessUtc),c=Date.parse(new Date().toISOString());return Math.abs(c-a)>s?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",n),this.resetSilentRenewRunning(e),!1):i.state==="running"}setSilentRenewRunning(e){let n={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(n),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let n=this.storagePersistenceService.read("storageSilentRenewRunning",e);return n?JSON.parse(n):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yl=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},sC=["code","state","token","id_token"],aC="auth0.com",it=(()=>{class t{constructor(){this.loggerService=u(V),this.flowsDataService=u(Te),this.flowHelper=u(Vt),this.storagePersistenceService=u(ue),this.jwtWindowCryptoService=u(Tg)}getUrlParameter(e,n){if(!e||!n)return"";n=n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let i=new RegExp("[\\?&#]"+n+"=([^&#]*)").exec(e);return i===null?"":decodeURIComponent(i[1])}getUrlWithoutQueryParameters(e){let n=new URL(e.toString()),o=[];for(let i of n.searchParams.keys())o.push(i);return o.forEach(i=>{n.searchParams.delete(i)}),n}queryParametersExist(e,n){let o=!0;return e.forEach((i,s)=>{n.has(s)||(o=!1)}),o}isCallbackFromSts(e,n){if(n&&n.checkRedirectUrlWhenCheckingIfIsCallback){let o=new URL(e),i=this.getRedirectUrl(n);if(!i)return this.loggerService.logError(n,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",i),!1;let s=new URL(i),a=this.getUrlWithoutQueryParameters(s).toString(),c=this.getUrlWithoutQueryParameters(o).toString(),l=this.queryParametersExist(s.searchParams,o.searchParams);if(a!==c||!l)return!1}return sC.some(o=>!!this.getUrlParameter(e,o))}getRefreshSessionSilentRenewUrl(e,n){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,n):m(this.createUrlImplicitFlowWithSilentRenew(e,n))}getAuthorizeParUrl(e,n){let o=this.storagePersistenceService.read("authWellKnownEndPoints",n);if(!o)return this.loggerService.logError(n,"authWellKnownEndpoints is undefined"),null;let i=o.authorizationEndpoint;if(!i)return this.loggerService.logError(n,`Can not create an authorize URL when authorizationEndpoint is '${i}'`),null;let{clientId:s}=n;if(!s)return this.loggerService.logError(n,"getAuthorizeParUrl could not add clientId because it was: ",s),null;let a=i.split("?"),c=a[0],l=a[1],d=this.createHttpParams(l);return d=d.set("request_uri",e),d=d.append("client_id",s),`${c}?${d}`}getAuthorizeUrl(e,n){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,n):m(this.createUrlImplicitFlowAuthorize(e,n)||""):m(null)}getEndSessionEndpoint(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!o)return{url:"",existingParams:""};let i=o.split("?"),s=i[0],a=i[1]??"";return{url:s,existingParams:a}}getEndSessionUrl(e,n){if(!e)return null;let o=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:i}=e,s=y(y({},i),n);return this.createEndSessionUrl(o,e,s)}createRevocationEndpointBodyAccessToken(e,n){let o=this.getClientId(n);if(!o)return null;let i=this.createHttpParams();return i=i.set("client_id",o),i=i.set("token",e),i=i.set("token_type_hint","access_token"),i.toString()}createRevocationEndpointBodyRefreshToken(e,n){let o=this.getClientId(n);if(!o)return null;let i=this.createHttpParams();return i=i.set("client_id",o),i=i.set("token",e),i=i.set("token_type_hint","refresh_token"),i.toString()}getRevocationEndpointUrl(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return o?o.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,n,o){let i=this.getClientId(n);if(!i)return null;let s=this.createHttpParams();if(s=s.set("grant_type","authorization_code"),s=s.set("client_id",i),!n.disablePkce){let l=this.flowsDataService.getCodeVerifier(n);if(!l)return this.loggerService.logError(n,"CodeVerifier is not set ",l),null;s=s.set("code_verifier",l)}s=s.set("code",e),o&&(s=this.appendCustomParams(y({},o),s));let a=this.getSilentRenewUrl(n);if(this.flowsDataService.isSilentRenewRunning(n)&&a)return s=s.set("redirect_uri",a),s.toString();let c=this.getRedirectUrl(n);return c?(s=s.set("redirect_uri",c),s.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,n,o){let i=this.getClientId(n);if(!i)return null;let s=this.createHttpParams();return s=s.set("grant_type","refresh_token"),s=s.set("client_id",i),s=s.set("refresh_token",e),o&&(s=this.appendCustomParams(y({},o),s)),s.toString()}createBodyForParCodeFlowRequest(e,n){let o=this.getRedirectUrl(e,n);if(!o)return m(null);let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),s=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let a=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(w(c=>{let{clientId:l,responseType:d,scope:f,hdParam:p,customParamsAuthRequest:h}=e,v=this.createHttpParams("");return v=v.set("client_id",l??""),v=v.append("redirect_uri",o),v=v.append("response_type",d??""),v=v.append("scope",f??""),v=v.append("nonce",s),v=v.append("state",i),v=v.append("code_challenge",c),v=v.append("code_challenge_method","S256"),p&&(v=v.append("hd",p)),h&&(v=this.appendCustomParams(y({},h),v)),n?.customParams&&(v=this.appendCustomParams(y({},n.customParams),v)),v.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:n}=e;return n||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",n),null)}createEndSessionUrl(e,n,o){if(this.isAuth0Endpoint(n))return this.composeAuth0Endpoint(n);let{url:i,existingParams:s}=this.getEndSessionEndpoint(n);if(!i)return null;let a=this.createHttpParams(s);e&&(a=a.set("id_token_hint",e));let c=this.getPostLogoutRedirectUrl(n);return c&&(a=a.append("post_logout_redirect_uri",c)),o&&(a=this.appendCustomParams(y({},o),a)),`${i}?${a}`}createAuthorizeUrl(e,n,o,i,s,a,c){let d=this.storagePersistenceService.read("authWellKnownEndPoints",s)?.authorizationEndpoint;if(!d)return this.loggerService.logError(s,`Can not create an authorize URL when authorizationEndpoint is '${d}'`),"";let{clientId:f,responseType:p,scope:h,hdParam:v,customParamsAuthRequest:D}=s;if(!f)return this.loggerService.logError(s,"createAuthorizeUrl could not add clientId because it was: ",f),"";if(!p)return this.loggerService.logError(s,"createAuthorizeUrl could not add responseType because it was: ",p),"";if(!h)return this.loggerService.logError(s,"createAuthorizeUrl could not add scope because it was: ",h),"";let S=d.split("?"),_=S[0],G=S[1],I=this.createHttpParams(G);I=I.set("client_id",f),I=I.append("redirect_uri",n),I=I.append("response_type",p),I=I.append("scope",h),I=I.append("nonce",o),I=I.append("state",i),this.flowHelper.isCurrentFlowCodeFlow(s)&&(I=I.append("code_challenge",e),I=I.append("code_challenge_method","S256"));let le=y(y({},D),c);return Object.keys(le).length>0&&(I=this.appendCustomParams(y({},le),I)),a&&(I=this.overWriteParam(I,"prompt",a)),v&&(I=I.append("hd",v)),`${_}?${I}`}createUrlImplicitFlowWithSilentRenew(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e),s=this.getSilentRenewUrl(e);return s?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",o),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",s,i,o,e,"none",n):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+o);let s=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(s).pipe(w(a=>{let c=this.getSilentRenewUrl(e);return c?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(a,c,i,o,e,"none",n):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let s=this.getRedirectUrl(e,n);if(!s)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:c}=n||{};return this.createAuthorizeUrl("",s,i,o,e,"",c)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let s=this.getRedirectUrl(e,n);return s?this.getCodeChallenge(e).pipe(w(a=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:l}=n||{};return this.createAuthorizeUrl(a,s,i,o,e,"",l)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):m(null)}getCodeChallenge(e){if(e.disablePkce)return m("");let n=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(n)}getRedirectUrl(e,n){let{redirectUrl:o}=e;return n?.redirectUrl&&(o=n.redirectUrl),o||(this.loggerService.logError(e,"could not get redirectUrl, was: ",o),null)}getSilentRenewUrl(e){let{silentRenewUrl:n}=e;return n||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",n),null)}getClientId(e){let{clientId:n}=e;return n||(this.loggerService.logError(e,"could not get clientId, was: ",n),null)}appendCustomParams(e,n){for(let[o,i]of Object.entries(y({},e)))n=n.append(o,i.toString());return n}overWriteParam(e,n,o){return e.set(n,o)}createHttpParams(e){return e=e??"",new Ue({fromString:e,encoder:new Yl})}isAuth0Endpoint(e){let{authority:n,useCustomAuth0Domain:o}=e;return n?n.endsWith(aC)||!!o:!1}composeAuth0Endpoint(e){let{authority:n,clientId:o}=e,i=this.getPostLogoutRedirectUrl(e);return`${n}/v2/logout?client_id=${o}&returnTo=${i}`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cC=(()=>{class t{constructor(){this.http=u(Br)}get(e,n){return this.http.get(e,n)}post(e,n,o){return this.http.post(e,n,o)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lC="ngsw-bypass",fn=(()=>{class t{constructor(){this.httpClient=u(cC)}get(e,n,o){let i=this.prepareHeaders(o),s=this.prepareParams(n);return this.httpClient.get(e,{headers:i,params:s})}post(e,n,o,i){let s=i||this.prepareHeaders(),a=this.prepareParams(o);return this.httpClient.post(e??"",n,{headers:s,params:a})}prepareHeaders(e){let n=new we;return n=n.set("Accept","application/json"),e&&(n=n.set("Authorization","Bearer "+decodeURIComponent(e))),n}prepareParams(e){let n=new Ue,{ngswBypass:o}=e;return o&&(n=n.set(lC,"")),n}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mg=t=>!!t&&t instanceof tt&&(t.error instanceof ProgressEvent&&t.error.type==="error"||t.status===0&&!!t.error),uC=(()=>{class t{constructor(){this.urlService=u(it),this.loggerService=u(V),this.tokenValidationService=u(Ds),this.flowsDataService=u(Te),this.storagePersistenceService=u(ue),this.dataService=u(fn)}codeFlowCallback(e,n){let o=this.urlService.getUrlParameter(e,"code"),i=this.urlService.getUrlParameter(e,"state"),s=this.urlService.getUrlParameter(e,"session_state");return i?o?(this.loggerService.logDebug(n,"running validation for callback",e),m({code:o,refreshToken:"",state:i,sessionState:s,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(n,"no code in url"),E(()=>new Error("no code in url"))):(this.loggerService.logDebug(n,"no state in url"),E(()=>new Error("no state in url")))}codeFlowCodeRequest(e,n){let o=this.flowsDataService.getAuthStateControl(n);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,o,n))return E(()=>new Error("codeFlowCodeRequest incorrect state"));let a=this.storagePersistenceService.read("authWellKnownEndPoints",n)?.tokenEndpoint;if(!a)return E(()=>new Error("Token Endpoint not defined"));let c=new we;c=c.set("Content-Type","application/x-www-form-urlencoded");let l=this.urlService.createBodyForCodeFlowCodeRequest(e.code,n,n?.customParamsCodeRequest);return this.dataService.post(a,l,n,c).pipe($(d=>{if(d){let f=W(y({},d),{state:e.state,session_state:e.sessionState});e.authResult=f}return m(e)}),pr(d=>this.handleRefreshRetry(d,n)),K(d=>{let{authority:f}=n,p=`OidcService code request ${f}`;return this.loggerService.logError(n,p,d),E(()=>new Error(p))}))}handleRefreshRetry(e,n){return e.pipe(te(o=>{if(Mg(o)){let{authority:i,refreshTokenRetryInSeconds:s}=n,a=`OidcService code request ${i} - no internet connector`;return this.loggerService.logWarning(n,a,o),Gt((s??0)*1e3)}return E(()=>o)}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),oe=function(t){return t.NotSet="NotSet",t.StatesDoNotMatch="StatesDoNotMatch",t.SignatureFailed="SignatureFailed",t.IncorrectNonce="IncorrectNonce",t.RequiredPropertyMissing="RequiredPropertyMissing",t.MaxOffsetExpired="MaxOffsetExpired",t.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",t.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",t.IncorrectAud="IncorrectAud",t.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",t.IncorrectAzp="IncorrectAzp",t.TokenExpired="TokenExpired",t.IncorrectAtHash="IncorrectAtHash",t.Ok="Ok",t.LoginRequired="LoginRequired",t.SecureTokenServerError="SecureTokenServerError",t}(oe||{}),dC={userData:null,allUserData:[]},rr=(()=>{class t{constructor(){this.userDataInternal$=new ae(dC),this.loggerService=u(V),this.tokenHelperService=u(ws),this.flowHelper=u(Vt),this.oidcDataService=u(fn),this.storagePersistenceService=u(ue),this.eventService=u(dn)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,n,o=!1,i,s){i=i||this.storagePersistenceService.getIdToken(e),s=s||this.tokenHelperService.getPayloadFromToken(i,!1,e);let a=this.getUserDataFromStore(e),c=!!a,l=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),d=this.flowHelper.isCurrentFlowCodeFlow(e),f=this.storagePersistenceService.getAccessToken(e);if(!(l||d))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${f}`),this.setUserDataToStore(s,e,n),m(s);let{renewUserInfoAfterTokenRenew:p}=e;return!o||p||!c?this.getUserDataOidcFlowAndSave(s.sub,e,n).pipe($(h=>(this.loggerService.logDebug(e,"Received user data: ",h),h?(this.loggerService.logDebug(e,"accessToken: ",f),m(h)):E(()=>new Error("Received no user data, request failed"))))):m(a)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:E(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,n){let o=this.getUserDataFromStore(e);o&&this.fireUserDataEvent(e,n,o)}setUserDataToStore(e,n,o){this.storagePersistenceService.write("userData",e,n),this.fireUserDataEvent(n,o,e)}resetUserDataInStore(e,n){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,n,null)}getUserDataOidcFlowAndSave(e,n,o){return this.getIdentityUserData(n).pipe(w(i=>this.validateUserDataSubIdToken(n,e,i?.sub)?(this.setUserDataToStore(i,n,o),i):(this.loggerService.logWarning(n,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(n,o),null)))}getIdentityUserData(e){let n=this.storagePersistenceService.getAccessToken(e),o=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!o)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),E(()=>new Error("authWellKnownEndpoints is undefined"));let i=o.userInfoEndpoint;return i?this.oidcDataService.get(i,e,n).pipe(Kt(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),E(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,n,o){return!n||!o?!1:n.toString()!==o.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",n,o),!1):!0}fireUserDataEvent(e,n,o){let i=this.composeSingleOrMultipleUserDataObject(e,n,o);this.userDataInternal$.next(i);let{configId:s}=e;this.eventService.fireEvent(be.UserDataChanged,{configId:s,userData:o})}composeSingleOrMultipleUserDataObject(e,n,o){if(!(n.length>1)){let{configId:a}=e;return this.composeSingleUserDataResult(a??"",o)}return{userData:null,allUserData:n.map(a=>{let c=e.configId??"",l=a.configId??"";if(this.currentConfigIsToUpdate(c,a))return{configId:l,userData:o};let d=this.storagePersistenceService.read("userData",a)||null;return{configId:l,userData:d}})}}composeSingleUserDataResult(e,n){return{userData:n,allUserData:[{configId:e,userData:n}]}}currentConfigIsToUpdate(e,n){return n.configId===e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$t=(()=>{class t{constructor(){this.loggerService=u(V),this.userService=u(rr),this.flowsDataService=u(Te),this.authStateService=u(ot)}resetAuthorizationData(e,n){e&&(this.userService.resetUserDataInStore(e,n),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,n),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fC=(()=>{class t{constructor(){this.loggerService=u(V),this.storagePersistenceService=u(ue),this.dataService=u(fn)}getSigningKeys(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!o){let i=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${o}'`;return this.loggerService.logWarning(e,i),E(()=>new Error(i))}return this.loggerService.logDebug(e,"Getting signinkeys from ",o),this.dataService.get(o,e).pipe(Kt(2),K(i=>this.handleErrorGetSigningKeys(i,e)))}handleErrorGetSigningKeys(e,n){let o="";if(e instanceof on){let i=e.body||{},s=JSON.stringify(i),{status:a,statusText:c}=e;o=`${a||""} - ${c||""} ${s||""}`}else{let{message:i}=e;o=i||`${e}`}return this.loggerService.logError(n,o),E(()=>new Error(o))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sg="jwtKeys",hC=(()=>{class t{constructor(){this.loggerService=u(V),this.authStateService=u(ot),this.flowsDataService=u(Te),this.signInKeyDataService=u(fC),this.storagePersistenceService=u(ue),this.resetAuthDataService=u($t),this.document=u(Q)}callbackHistoryAndResetJwtKeys(e,n,o){let i=y({},e.authResult);if(!this.responseHasIdToken(e)){let s=this.storagePersistenceService.getIdToken(n);i=W(y({},i),{id_token:s})}if(this.storagePersistenceService.write("authnResult",i,n),n.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,n),this.historyCleanUpTurnedOn(n)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(n,"history clean up inactive"),e.authResult?.error){let s=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(n,s),this.resetAuthDataService.resetAuthorizationData(n,o),this.flowsDataService.setNonce("",n),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),E(()=>new Error(s))}return this.loggerService.logDebug(n,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(n).pipe(q(s=>this.storeSigningKeys(s,n)),K(s=>{let a=this.readSigningKeys(n);return a?(this.loggerService.logWarning(n,"Failed to retrieve signing keys, fallback to stored keys"),m(a)):E(()=>new Error(s))}),$(s=>{if(s)return e.jwtKeys=s,m(e);let a="Failed to retrieve signing key";return this.loggerService.logWarning(n,a),E(()=>new Error(a))}),K(s=>{let a=`Failed to retrieve signing key with error: ${s}`;return this.loggerService.logWarning(n,a),E(()=>new Error(a))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,n){let o=oe.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(o=oe.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:o,isRenewProcess:n})}historyCleanUpTurnedOn(e){let{historyCleanupOff:n}=e;return!n}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,n){this.storagePersistenceService.write(Sg,e,n)}readSigningKeys(e){return this.storagePersistenceService.read(Sg,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pC=(()=>{class t{constructor(){this.loggerService=u(V),this.resetAuthDataService=u($t),this.flowsDataService=u(Te),this.document=u(Q)}implicitFlowCallback(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),i||this.resetAuthDataService.resetAuthorizationData(e,n),o=o||this.document.location.hash.substring(1);let a={code:"",refreshToken:"",state:"",sessionState:null,authResult:o.split("&").reduce((c,l)=>{let d=l.split("=");return c[d.shift()]=d.join("="),c},{}),isRenewProcess:i,jwtKeys:null,validationResult:null,existingIdToken:null};return m(a)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gC=(()=>{class t{constructor(){this.loggerService=u(V),this.authStateService=u(ot),this.flowsDataService=u(Te)}refreshSessionWithRefreshTokens(e){let n=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+n);let o=this.authStateService.getRefreshToken(e),i=this.authStateService.getIdToken(e);if(o){let s={code:"",refreshToken:o,state:n,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:i};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(Ds.refreshTokenNoncePlaceholder,e),m(s)}else{let s="no refresh token found, please login";return this.loggerService.logError(e,s),E(()=>new Error(s))}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mC=(()=>{class t{constructor(){this.urlService=u(it),this.loggerService=u(V),this.dataService=u(fn),this.storagePersistenceService=u(ue)}refreshTokensRequestTokens(e,n,o){let i=new we;i=i.set("Content-Type","application/x-www-form-urlencoded");let a=this.storagePersistenceService.read("authWellKnownEndPoints",n)?.tokenEndpoint;if(!a)return E(()=>new Error("Token Endpoint not defined"));let c=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,n,o);return this.dataService.post(a,c,n,i).pipe($(l=>(this.loggerService.logDebug(n,`token refresh response: ${l}`),l&&(l.state=e.state),e.authResult=l,m(e))),pr(l=>this.handleRefreshRetry(l,n)),K(l=>{let{authority:d}=n,f=`OidcService code request ${d}`;return this.loggerService.logError(n,f,l),E(()=>new Error(f))}))}handleRefreshRetry(e,n){return e.pipe(te(o=>{if(Mg(o)){let{authority:i,refreshTokenRetryInSeconds:s}=n,a=`OidcService code request ${i} - no internet connector`;return this.loggerService.logWarning(n,a,o),Gt((s??0)*1e3)}return E(()=>o)}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vC=(()=>{class t{isStringEqualOrNonOrderedArrayEqual(e,n){return this.isNullOrUndefined(e)||this.isNullOrUndefined(n)||this.oneValueIsStringAndTheOtherIsArray(e,n)?!1:this.bothValuesAreStrings(e,n)?e===n:this.arraysHaveEqualContent(e,n)}areEqual(e,n){if(!e||!n)return!1;if(this.bothValuesAreArrays(e,n))return this.arraysStrictEqual(e,n);if(this.bothValuesAreStrings(e,n))return e===n;if(this.bothValuesAreObjects(e,n))return JSON.stringify(e).toLowerCase()===JSON.stringify(n).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,n)){if(Array.isArray(e)&&this.valueIsString(n))return e[0]===n;if(Array.isArray(n)&&this.valueIsString(e))return n[0]===e}return e===n}oneValueIsStringAndTheOtherIsArray(e,n){return Array.isArray(e)&&this.valueIsString(n)||Array.isArray(n)&&this.valueIsString(e)}bothValuesAreObjects(e,n){return this.valueIsObject(e)&&this.valueIsObject(n)}bothValuesAreStrings(e,n){return this.valueIsString(e)&&this.valueIsString(n)}bothValuesAreArrays(e,n){return Array.isArray(e)&&Array.isArray(n)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,n){if(e.length!==n.length)return!1;for(let o=e.length;o--;)if(e[o]!==n[o])return!1;return!0}arraysHaveEqualContent(e,n){return e.length!==n.length?!1:e.some(o=>n.includes(o))}isNullOrUndefined(e){return e==null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vs=class{constructor(r="",e="",n=!1,o={at_hash:""},i=oe.NotSet){this.accessToken=r,this.idToken=e,this.authResponseIsValid=n,this.decodedIdToken=o,this.state=i}},yC=(()=>{class t{constructor(){this.storagePersistenceService=u(ue),this.tokenValidationService=u(Ds),this.tokenHelperService=u(ws),this.loggerService=u(V),this.equalityService=u(vC),this.flowHelper=u(Vt)}getValidatedStateResult(e,n){let o=!!e.authResult?.error;return!!!e||o?m(new vs("","",!1,{})):this.validateState(e,n)}validateState(e,n){let o=new vs,i=this.storagePersistenceService.read("authStateControl",n);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,i,n))return this.loggerService.logWarning(n,"authCallback incorrect state"),o.state=oe.StatesDoNotMatch,this.handleUnsuccessfulValidation(n),m(o);let s=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(n),a=this.flowHelper.isCurrentFlowCodeFlow(n);if((s||a)&&(o.accessToken=e.authResult?.access_token??""),n.disableIdTokenValidation)return o.state=oe.Ok,o.authResponseIsValid=!0,m(o);let l=e.isRenewProcess&&!!e.refreshToken,d=!!e.authResult?.id_token;if(l&&!d)return o.state=oe.Ok,o.authResponseIsValid=!0,m(o);if(d){let{clientId:f,issValidationOff:p,maxIdTokenIatOffsetAllowedInSeconds:h,disableIatOffsetValidation:v,ignoreNonceAfterRefresh:D,renewTimeBeforeTokenExpiresInSeconds:S}=n;return o.idToken=e.authResult?.id_token??"",o.decodedIdToken=this.tokenHelperService.getPayloadFromToken(o.idToken,!1,n),this.tokenValidationService.validateSignatureIdToken(o.idToken,e.jwtKeys,n).pipe(te(_=>{if(!_)return this.loggerService.logDebug(n,"authCallback Signature validation failed id_token"),o.state=oe.SignatureFailed,this.handleUnsuccessfulValidation(n),m(o);let G=this.storagePersistenceService.read("authNonce",n);if(!this.tokenValidationService.validateIdTokenNonce(o.decodedIdToken,G,!!D,n))return this.loggerService.logWarning(n,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),o.state=oe.IncorrectNonce,this.handleUnsuccessfulValidation(n),m(o);if(!this.tokenValidationService.validateRequiredIdToken(o.decodedIdToken,n))return this.loggerService.logDebug(n,"authCallback Validation, one of the REQUIRED properties missing from id_token"),o.state=oe.RequiredPropertyMissing,this.handleUnsuccessfulValidation(n),m(o);if(!l&&!this.tokenValidationService.validateIdTokenIatMaxOffset(o.decodedIdToken,h??120,!!v,n))return this.loggerService.logWarning(n,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),o.state=oe.MaxOffsetExpired,this.handleUnsuccessfulValidation(n),m(o);let I=this.storagePersistenceService.read("authWellKnownEndPoints",n);if(I){if(p)this.loggerService.logDebug(n,"iss validation is turned off, this is not recommended!");else if(!p&&!this.tokenValidationService.validateIdTokenIss(o.decodedIdToken,I.issuer,n))return this.loggerService.logWarning(n,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),o.state=oe.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(n),m(o)}else return this.loggerService.logWarning(n,"authWellKnownEndpoints is undefined"),o.state=oe.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(n),m(o);return this.tokenValidationService.validateIdTokenAud(o.decodedIdToken,f,n)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(o.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(o.decodedIdToken,f)?this.isIdTokenAfterRefreshTokenRequestValid(e,o.decodedIdToken,n)?!l&&!this.tokenValidationService.validateIdTokenExpNotExpired(o.decodedIdToken,n,S)?(this.loggerService.logWarning(n,"authCallback id token expired"),o.state=oe.TokenExpired,this.handleUnsuccessfulValidation(n),m(o)):this.validateDefault(s,a,o,n,e):(this.loggerService.logWarning(n,"authCallback pre, post id_token claims do not match in refresh"),o.state=oe.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback incorrect azp"),o.state=oe.IncorrectAzp,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback missing azp"),o.state=oe.IncorrectAzp,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback incorrect aud"),o.state=oe.IncorrectAud,this.handleUnsuccessfulValidation(n),m(o))}))}else this.loggerService.logDebug(n,"No id_token found, skipping id_token validation");return this.validateDefault(s,a,o,n,e)}validateDefault(e,n,o,i,s){if(!e&&!n)return o.authResponseIsValid=!0,o.state=oe.Ok,this.handleSuccessfulValidation(i),this.handleUnsuccessfulValidation(i),m(o);if(s.authResult?.id_token){let a=this.tokenHelperService.getHeaderFromToken(o.idToken,!1,i);if(n&&!o.decodedIdToken.at_hash)this.loggerService.logDebug(i,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(o.accessToken,o.decodedIdToken.at_hash,a.alg,i).pipe(w(c=>!c||!o.accessToken?(this.loggerService.logWarning(i,"authCallback incorrect at_hash"),o.state=oe.IncorrectAtHash,this.handleUnsuccessfulValidation(i),o):(o.authResponseIsValid=!0,o.state=oe.Ok,this.handleSuccessfulValidation(i),o)))}return o.authResponseIsValid=!0,o.state=oe.Ok,this.handleSuccessfulValidation(i),m(o)}isIdTokenAfterRefreshTokenRequestValid(e,n,o){let{useRefreshToken:i,disableRefreshIdTokenAuthTimeValidation:s}=o;if(!i||!e.existingIdToken)return!0;let a=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,o);return a.iss!==n.iss?(this.loggerService.logDebug(o,`iss do not match: ${a.iss} ${n.iss}`),!1):a.azp!==n.azp?(this.loggerService.logDebug(o,`azp do not match: ${a.azp} ${n.azp}`),!1):a.sub!==n.sub?(this.loggerService.logDebug(o,`sub do not match: ${a.sub} ${n.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(a?.aud,n?.aud)?s?!0:a.auth_time!==n.auth_time?(this.loggerService.logDebug(o,`auth_time do not match: ${a.auth_time} ${n.auth_time}`),!1):!0:(this.loggerService.logDebug(o,`aud in new id_token is not valid: '${a?.aud}' '${n.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:n}=e;this.storagePersistenceService.write("authNonce",null,e),n&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:n}=e;this.storagePersistenceService.write("authNonce",null,e),n&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wC=(()=>{class t{constructor(){this.loggerService=u(V),this.stateValidationService=u(yC),this.authStateService=u(ot),this.resetAuthDataService=u($t),this.document=u(Q)}callbackStateValidation(e,n,o){return this.stateValidationService.getValidatedStateResult(e,n).pipe(w(i=>{if(e.validationResult=i,i.authResponseIsValid)return this.authStateService.setAuthorizationData(i.accessToken,e.authResult,n,o),e;{let s=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(n,s),this.resetAuthDataService.resetAuthorizationData(n,o),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),new Error(s)}}))}publishUnauthorizedState(e,n){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:n})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DC=(()=>{class t{constructor(){this.loggerService=u(V),this.authStateService=u(ot),this.flowsDataService=u(Te),this.userService=u(rr),this.resetAuthDataService=u($t)}callbackUser(e,n,o){let{isRenewProcess:i,validationResult:s,authResult:a,refreshToken:c}=e,{autoUserInfo:l,renewUserInfoAfterTokenRenew:d}=n;return l?this.userService.getAndPersistUserDataInStore(n,o,i,s?.idToken,s?.decodedIdToken).pipe($(f=>{if(f)return c||this.flowsDataService.setSessionState(a?.session_state,n),this.publishAuthState(s,i),m(e);{this.resetAuthDataService.resetAuthorizationData(n,o),this.publishUnauthenticatedState(s,i);let p=`Called for userData but they were ${f}`;return this.loggerService.logWarning(n,p),E(()=>new Error(p))}}),K(f=>{let p=`Failed to retrieve user info with error:  ${f}`;return this.loggerService.logWarning(n,p),E(()=>new Error(p))})):((!i||d)&&s?.decodedIdToken&&this.userService.setUserDataToStore(s.decodedIdToken,n,o),!i&&!c&&this.flowsDataService.setSessionState(a?.session_state,n),this.publishAuthState(s,i),m(e))}publishAuthState(e,n){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:n})}publishUnauthenticatedState(e,n){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:n})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ss=(()=>{class t{constructor(){this.codeFlowCallbackHandlerService=u(uC),this.implicitFlowCallbackHandlerService=u(pC),this.historyJwtKeysCallbackHandlerService=u(hC),this.userHandlerService=u(DC),this.stateValidationCallbackHandlerService=u(wC),this.refreshSessionCallbackHandlerService=u(gC),this.refreshTokenCallbackHandlerService=u(mC)}processCodeFlowCallback(e,n,o){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,n).pipe(U(i=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(i,n)),U(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,n,o)),U(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,n,o)),U(i=>this.userHandlerService.callbackUser(i,n,o)))}processSilentRenewCodeFlowCallback(e,n,o){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,n).pipe(U(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,n,o)),U(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,n,o)),U(i=>this.userHandlerService.callbackUser(i,n,o)))}processImplicitFlowCallback(e,n,o){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,n,o).pipe(U(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,e,n)),U(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,e,n)),U(i=>this.userHandlerService.callbackUser(i,e,n)))}processRefreshToken(e,n,o){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(U(i=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(i,e,o)),U(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,e,n)),U(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,e,n)),U(i=>this.userHandlerService.callbackUser(i,e,n)))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fo=(()=>{class t{constructor(){this.zone=u(ne),this.document=u(Q),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let n=e*1e3;return new k(o=>{let i;return this.zone.runOutsideAngular(()=>{i=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>o.next()),n)}),()=>{clearInterval(i)}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),SC=(()=>{class t{constructor(){this.flowsService=u(Ss),this.router=u(rt),this.flowsDataService=u(Te),this.intervalService=u(fo)}authenticatedCallbackWithCode(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(n),{triggerAuthorizationResultEvent:s}=n,a=n.postLoginRoute||"/",c=n.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,n,o).pipe(q(l=>{this.flowsDataService.resetCodeFlowInProgress(n),!s&&!l.isRenewProcess&&this.router.navigateByUrl(a)}),K(l=>(this.flowsDataService.resetSilentRenewRunning(n),this.flowsDataService.resetCodeFlowInProgress(n),this.intervalService.stopPeriodicTokenCheck(),!s&&!i&&this.router.navigateByUrl(c),E(()=>new Error(l)))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rg=(()=>{class t{constructor(){this.flowsService=u(Ss),this.router=u(rt),this.flowsDataService=u(Te),this.intervalService=u(fo)}authenticatedImplicitFlowCallback(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e),s=!!e.triggerAuthorizationResultEvent,a=e.postLoginRoute??"",c=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,n,o).pipe(q(l=>{!s&&!l.isRenewProcess&&this.router.navigateByUrl(a)}),K(l=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!s&&!i&&this.router.navigateByUrl(c),E(()=>new Error(l)))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ag=(()=>{class t{constructor(){this.urlService=u(it),this.flowHelper=u(Vt),this.implicitFlowCallbackService=u(Rg),this.codeFlowCallbackService=u(SC),this.stsCallbackInternal$=new J}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,n){return e?this.urlService.isCallbackFromSts(e,n):!1}handleCallbackAndFireEvents(e,n,o){let i=new k;if(this.flowHelper.isCurrentFlowCodeFlow(n))i=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,n,o);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(n))if(e?.includes("#")){let s=e.substring(e.indexOf("#")+1);i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o,s)}else i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o);return i.pipe(q(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IC=(()=>{class t{constructor(){this.platformId=u(Xe)}isBrowser(){return sp(this.platformId)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),EC="/.well-known/openid-configuration",CC=(()=>{class t{constructor(){this.loggerService=u(V),this.http=u(fn)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:n,authWellknownEndpoints:o={}}=e;if(!n){let i="no authWellknownEndpoint given!";return this.loggerService.logError(e,i),E(()=>new Error(i))}return this.getWellKnownDocument(n,e).pipe(w(i=>({issuer:i.issuer,jwksUri:i.jwks_uri,authorizationEndpoint:i.authorization_endpoint,tokenEndpoint:i.token_endpoint,userInfoEndpoint:i.userinfo_endpoint,endSessionEndpoint:i.end_session_endpoint,checkSessionIframe:i.check_session_iframe,revocationEndpoint:i.revocation_endpoint,introspectionEndpoint:i.introspection_endpoint,parEndpoint:i.pushed_authorization_request_endpoint})),w(i=>y(y({},i),o)))}getWellKnownDocument(e,n){let o=e,i=n.authWellknownUrlSuffix||EC;return e.includes(i)||(o=`${e}${i}`),this.http.get(o,n).pipe(Kt(2))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),or=(()=>{class t{constructor(){this.dataService=u(CC),this.publicEventsService=u(dn),this.storagePersistenceService=u(ue)}storeWellKnownEndpoints(e,n){this.storagePersistenceService.write("authWellKnownEndPoints",n,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(q(n=>this.storeWellKnownEndpoints(e,n)),K(n=>(this.publicEventsService.fireEvent(be.ConfigLoadingFailed,null),E(()=>new Error(n))))):E(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bC={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:Ut.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},ir={result:!0,messages:[],level:"none"},TC=t=>t.authority?ir:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},MC=t=>t.clientId?ir:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},RC=t=>{if(!t)return"";let{authority:r,clientId:e,scope:n}=t;return`${r}${e}${n}`},AC=t=>new Set(t).size!==t.length,_C=t=>{let r=t.map(o=>RC(o));return r.some(o=>o==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:AC(r)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:ir},xC=t=>t.redirectUrl?ir:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},kC=t=>{let r=t.silentRenew,e=t.useRefreshToken,n=t.silentRenewUrl;return r&&!e&&!n?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:ir},NC=t=>{let r=t.useRefreshToken,e=t.silentRenew,o=(t.scope||"").split(" ").includes("offline_access");return r&&e&&!o?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:ir},OC=[TC,NC,xC,MC,kC],PC=[_C],FC=(()=>{class t{constructor(){this.loggerService=u(V)}validateConfigs(e){return this.validateConfigsInternal(e??[],PC)}validateConfig(e){return this.validateConfigInternal(e,OC)}validateConfigsInternal(e,n){if(e.length===0)return!1;let o=n.map(s=>s(e)),i=0;return e.forEach(s=>{let a=this.processValidationResultsAndGetErrorCount(o,s);i+=a}),i===0}validateConfigInternal(e,n){let o=n.map(s=>s(e));return this.processValidationResultsAndGetErrorCount(o,e)===0}processValidationResultsAndGetErrorCount(e,n){let o=e.filter(a=>a.messages.length>0),i=this.getAllMessagesOfType("error",o),s=this.getAllMessagesOfType("warning",o);return i.forEach(a=>this.loggerService.logError(n,a)),s.forEach(a=>this.loggerService.logWarning(n,a)),i.length}getAllMessagesOfType(e,n){return n.filter(i=>i.level===e).map(i=>i.messages).reduce((i,s)=>i.concat(s),[])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_g=(()=>{class t{constructor(){this.loggerService=u(V),this.publicEventsService=u(dn),this.storagePersistenceService=u(ue),this.platformProvider=u(IC),this.authWellKnownService=u(or),this.loader=u(ms),this.configValidationService=u(FC),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?m(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(w(n=>n.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(U(n=>this.prepareAndSaveConfigs(n)),w(n=>({allConfigs:n,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:n}=e;this.configsInternal[n]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let o=this.configsInternal[e];return!o&&Kh()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),o||null}let[,n]=Object.entries(this.configsInternal)[0]||[[null,null]];return n||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return m([]);this.createUniqueIds(e);let n=e.map(i=>this.handleConfig(i));return qt(n).pipe(w(i=>i.filter(s=>!!s)),w(i=>i))}createUniqueIds(e){e.forEach((n,o)=>{n.configId||(n.configId=`${o}-${n.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),m(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let n=this.prepareConfig(e);this.saveConfig(n);let o=this.enhanceConfigWithWellKnownEndpoint(n);return this.publicEventsService.fireEvent(be.ConfigLoaded,o),m(n)}enhanceConfigWithWellKnownEndpoint(e){let n=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(n)return e.authWellknownEndpoints=n,e;let o=e.authWellknownEndpoints;return o&&(this.authWellKnownService.storeWellKnownEndpoints(e,o),e.authWellknownEndpoints=o),e}prepareConfig(e){let n=y(y({},bC),e);return this.setSpecialCases(n),n}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xg=(()=>{class t{constructor(){this.document=u(Q),this.loggerService=u(V)}getExistingIFrame(e){let n=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(n))return n;let o=this.getIFrameFromWindow(e);return this.isIFrameElement(o)?o:null}addIFrameToWindowBody(e,n){let o=this.document.createElement("iframe");return o.id=e,o.title=e,this.loggerService.logDebug(n,o),o.style.display="none",this.document.body.appendChild(o),o}getIFrameFromParentWindow(e){try{let n=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(n)?n:null}catch{return null}}getIFrameFromWindow(e){let n=this.document.getElementById(e);return this.isIFrameElement(n)?n:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ig="myiFrameForSilentRenew",Xl=(()=>{class t{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new J,this.loggerService=u(V),this.iFrameService=u(xg),this.flowsService=u(Ss),this.resetAuthDataService=u($t),this.flowsDataService=u(Te),this.authStateService=u(ot),this.flowHelper=u(Vt),this.implicitFlowCallbackService=u(Rg),this.intervalService=u(fo)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let n=this.getExistingIframe();return n||this.iFrameService.addIFrameToWindowBody(Ig,e)}isSilentRenewConfigured(e){let{useRefreshToken:n,silentRenew:o}=e;return!n&&!!o}codeFlowCallbackSilentRenewIframe(e,n,o){let i=new Ue({fromString:e[1]}),s=i.get("error");if(s)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:oe.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(n,o),this.flowsDataService.setNonce("",n),this.intervalService.stopPeriodicTokenCheck(),E(()=>new Error(s));let a=i.get("code")??"",c=i.get("state")??"",l=i.get("session_state"),d={code:a,refreshToken:"",state:c,sessionState:l,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(d,n,o).pipe(K(f=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(n,o),E(()=>new Error(f)))))}silentRenewEventHandler(e,n,o){if(this.loggerService.logDebug(n,"silentRenewEventHandler"),!e.detail)return;let i;if(this.flowHelper.isCurrentFlowCodeFlow(n)){let a=e.detail.toString().split("?");i=this.codeFlowCallbackSilentRenewIframe(a,n,o)}else i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o,e.detail);i.subscribe({next:a=>{this.refreshSessionWithIFrameCompletedInternal$.next(a),this.flowsDataService.resetSilentRenewRunning(n)},error:a=>{this.loggerService.logError(n,"Error: "+a),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(n)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(Ig)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kg=(()=>{class t{constructor(){this.renderer=u(Nt).createRenderer(null,null),this.loggerService=u(V),this.urlService=u(it),this.silentRenewService=u(Xl),this.document=u(Q)}refreshSessionWithIframe(e,n,o){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,o).pipe($(i=>this.sendAuthorizeRequestUsingSilentRenew(i,e,n)))}sendAuthorizeRequestUsingSilentRenew(e,n,o){let i=this.silentRenewService.getOrCreateIframe(n);return this.initSilentRenewRequest(n,o),this.loggerService.logDebug(n,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new k(s=>{let a=()=>{i.removeEventListener("load",a),this.loggerService.logDebug(n,"removed event listener from IFrame"),s.next(!0),s.complete()};i.addEventListener("load",a),i.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,n){let o=Math.random(),i=this.renderer.listen("window","oidc-silent-renew-init",a=>{a.detail!==o&&(i(),s())}),s=this.renderer.listen("window","oidc-silent-renew-message",a=>this.silentRenewService.silentRenewEventHandler(a,e,n));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:o}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ng=(()=>{class t{constructor(){this.loggerService=u(V),this.resetAuthDataService=u($t),this.flowsService=u(Ss),this.intervalService=u(fo)}refreshSessionWithRefreshTokens(e,n,o){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let i=!1;return this.flowsService.processRefreshToken(e,n,o).pipe(K(s=>(this.resetAuthDataService.resetAuthorizationData(e,n),i=!0,E(()=>new Error(s)))),Ge(()=>i&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),LC=(()=>{class t{constructor(){this.resetAuthDataService=u($t),this.flowHelper=u(Vt),this.flowsDataService=u(Te),this.loggerService=u(V),this.userService=u(rr),this.authStateService=u(ot),this.refreshSessionIframeService=u(kg),this.refreshSessionRefreshTokenService=u(Ng),this.intervalService=u(fo),this.storagePersistenceService=u(ue),this.publicEventsService=u(dn),this.configurationService=u(_g)}startTokenValidationPeriodically(e,n){let o=this.getConfigsWithSilentRenewEnabled(e);if(o.length<=0||this.intervalService.isTokenValidationRunning())return;let i=this.getSmallestRefreshTimeFromConfigs(o),s=this.intervalService.startPeriodicTokenCheck(i).pipe($(()=>{let a={};return o.forEach(c=>{let l=c.configId,d=this.getRefreshEvent(c,e);a[l]=d}),qt(a)}));this.intervalService.runTokenValidationRunning=s.pipe(K(a=>E(()=>new Error(a)))).subscribe({next:a=>{for(let[c,l]of Object.entries(a))this.configurationService.getOpenIDConfiguration(c).subscribe(d=>{this.loggerService.logDebug(d,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(d)&&this.flowsDataService.resetSilentRenewRunning(d)})},error:a=>{this.loggerService.logError(n,"silent renew failed!",a)}})}getRefreshEvent(e,n){if(!this.shouldStartPeriodicallyCheckForConfig(e))return m(null);let i=this.createRefreshEventForConfig(e,n);return this.publicEventsService.fireEvent(be.SilentRenewStarted),i.pipe(K(s=>(this.loggerService.logError(e,"silent renew failed!",s),this.publicEventsService.fireEvent(be.SilentRenewFailed,s),this.flowsDataService.resetSilentRenewRunning(e),E(()=>new Error(s)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((o,i)=>(o.tokenRefreshInSeconds??0)<(i.tokenRefreshInSeconds??0)?o:i).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(n=>n.silentRenew)}createRefreshEventForConfig(e,n){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe($(o=>{if(!o?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(o,n),m(null);if(this.flowsDataService.setSilentRenewRunning(o),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(o)){let s=this.storagePersistenceService.read("storageCustomParamsRefresh",o)||{},{customParamsRefreshTokenRequest:a}=o,c=y(y({},a),s);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(o,n,c)}let i=this.storagePersistenceService.read("storageCustomParamsAuthRequest",o);return this.refreshSessionIframeService.refreshSessionWithIframe(o,n,i)}))}shouldStartPeriodicallyCheckForConfig(e){let n=this.authStateService.getIdToken(e),o=this.flowsDataService.isSilentRenewRunning(e),i=this.flowsDataService.isCodeFlowInProgress(e),s=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${o}, isCodeFlowInProgress: ${i} - has idToken: ${!!n} - has userData: ${!!s}`),!(!!s&&!o&&!!n&&!i))return!1;let c=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),l=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return c||l}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jC=3,Og=(()=>{class t{constructor(){this.flowHelper=u(Vt),this.flowsDataService=u(Te),this.loggerService=u(V),this.silentRenewService=u(Xl),this.authStateService=u(ot),this.authWellKnownService=u(or),this.refreshSessionIframeService=u(kg),this.storagePersistenceService=u(ue),this.refreshSessionRefreshTokenService=u(Ng),this.userService=u(rr)}userForceRefreshSession(e,n,o){return e?(this.persistCustomParams(o,e),this.forceRefreshSession(e,n,o).pipe(q(()=>this.flowsDataService.resetSilentRenewRunning(e)))):E(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,n,o){let{customParamsRefreshTokenRequest:i,configId:s}=e,a=y(y({},i),o);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,n,a).pipe(w(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return d?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:d,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}));let{silentRenewTimeoutInSeconds:c}=e,l=(c??0)*1e3;return qt([this.startRefreshSession(e,n,o),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(Se(1))]).pipe(na(l),pr(d=>d.pipe(te((f,p)=>{let v=p+1;return!(f instanceof Ho)||v>jC?E(()=>new Error(f)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${v}`),this.flowsDataService.resetSilentRenewRunning(e),Gt(v*1e3))}))),w(([d,f])=>{let p=this.authStateService.areAuthStorageTokensValid(e);return p?{idToken:f?.authResult?.id_token??"",accessToken:f?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:p,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}))}persistCustomParams(e,n){let{useRefreshToken:o}=n;e&&(o?this.storagePersistenceService.write("storageCustomParamsRefresh",e,n):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,n))}startRefreshSession(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${i}`),!i?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe($(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,n,o):this.refreshSessionIframeService.refreshSessionWithIframe(e,n,o)))):m(null)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Eg="myiFrameForCheckSession",eu=(()=>{class t{constructor(){this.loggerService=u(V),this.storagePersistenceService=u(ue),this.iFrameService=u(xg),this.eventService=u(dn),this.zone=u(ne),this.document=u(Q),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new ae(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:n}=e;return!!n}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:n}=e;this.pollServerSession(n,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:n}=e;return!!n&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(Eg)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return m();let n=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!n)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),m();let o=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let i=n.checkSessionIframe,s=o.contentWindow;return i?(s?s.location.replace(i):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new k(a=>{o.onload=()=>{this.lastIFrameRefresh=Date.now(),a.next(),a.complete()}})):(this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),m())}pollServerSession(e,n){this.outstandingMessages=0;let o=()=>{this.init(n).pipe(Se(1)).subscribe(()=>{let i=this.getExistingIframe();if(i&&e){this.loggerService.logDebug(n,`CheckSession - clientId : '${e}' - existingIframe: '${i}'`);let s=this.storagePersistenceService.read("session_state",n),a=this.storagePersistenceService.read("authWellKnownEndPoints",n),c=i.contentWindow;if(s&&a?.checkSessionIframe&&c){let l=new URL(a.checkSessionIframe)?.origin;this.outstandingMessages++,c.postMessage(e+" "+s,l)}else this.loggerService.logDebug(n,`CheckSession - session_state is '${s}' - AuthWellKnownEndPoints is '${JSON.stringify(a,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(n,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${i}'`);this.outstandingMessages>3&&this.loggerService.logError(n,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(o),this.heartBeatInterval)??null})})};o()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,n){let o=this.getExistingIframe(),s=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(n.origin);this.outstandingMessages=0,o&&s&&n.source===o.contentWindow&&(n.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):n.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${n} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(be.CheckSessionReceived,n.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(be.CheckSessionReceived,n.data),this.loggerService.logDebug(e,`CheckSession - ${n.data} from check session messageHandler`)))}bindMessageEventToIframe(e){this.iframeMessageEventListener=this.messageHandler.bind(this,e);let n=this.document.defaultView;n&&n.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(Eg,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Is=(()=>{class t{constructor(){this.loggerService=u(V),this.storagePersistenceService=u(ue),this.document=u(Q),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new J}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let n=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),o=this.windowInternal;return o?!!o.opener&&o.opener!==o&&!!n:!1}return!1}openPopUp(e,n,o){let i=this.getOptions(n);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",o);let s=this.windowInternal;if(!s)return;if(!e){this.loggerService.logError(o,"Could not open popup, url is empty");return}if(this.popUp=s.open(e,"_blank",i),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,o),this.loggerService.logError(o,"Could not open popup");return}this.loggerService.logDebug(o,"Opened popup with url "+e);let a=c=>{if(!c?.data||typeof c.data!="string"){if(o.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(a,o);return}this.loggerService.logDebug(o,"Received message from popup with url "+c.data),this.resultInternal$.next({userClosed:!1,receivedUrl:c.data}),this.cleanUp(a,o)};s.addEventListener("message",a,!1),this.handle=s.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(a,o))},200)}sendMessageToMainWindow(e,n){let o=this.windowInternal;if(o&&o.opener){let i=o.location.href;this.sendMessage(e,i,n)}}cleanUp(e,n){let o=this.windowInternal;o&&(o.removeEventListener("message",e,!1),o.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,n),this.popUp.close(),this.popUp=null))}sendMessage(e,n,o){let i=this.windowInternal;if(i){if(!e){this.loggerService.logDebug(o,`Can not send message to parent, no url: '${e}'`);return}i.opener.postMessage(e,n)}}getOptions(e){let n={width:500,height:500,left:50,top:50},o=y(y({},n),e||{}),i=this.windowInternal;if(!i)return"";let s=o.width||n.width,a=o.height||n.height,c=i.screenLeft+(i.outerWidth-s)/2,l=i.screenTop+(i.outerHeight-a)/2;return o.left=c,o.top=l,Object.entries(o).map(([d,f])=>`${encodeURIComponent(d)}=${encodeURIComponent(f)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UC=(()=>{class t{constructor(){this.document=u(Q)}getStateParamFromCurrentUrl(e){let n=e||this.getCurrentUrl();if(!n)return null;let o=new URL(n);return new URLSearchParams(o.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tu=(()=>{class t{constructor(){this.checkSessionService=u(eu),this.currentUrlService=u(UC),this.silentRenewService=u(Xl),this.userService=u(rr),this.loggerService=u(V),this.authStateService=u(ot),this.callbackService=u(Ag),this.refreshSessionService=u(Og),this.periodicallyTokenCheckService=u(LC),this.popupService=u(Is),this.autoLoginService=u(oC),this.storagePersistenceService=u(ue),this.publicEventsService=u(dn)}getConfig(e,n){let o=this.currentUrlService.getStateParamFromCurrentUrl(n);return o?this.getConfigurationWithUrlState([e],o):e}checkAuth(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(be.CheckingAuth);let i=this.currentUrlService.getStateParamFromCurrentUrl(o);return this.getConfig(e,o)?this.checkAuthWithConfig(e,n,o):E(()=>new Error(`could not find matching config for state ${i}`))}checkAuthMultiple(e,n){let o=this.currentUrlService.getStateParamFromCurrentUrl(n);if(o){let a=this.getConfigurationWithUrlState(e,o);return a?this.composeMultipleLoginResults(e,a,n):E(()=>new Error(`could not find matching config for state ${o}`))}let i=e,s=i.map(a=>this.checkAuthWithConfig(a,i,n));return qt(s)}checkAuthIncludingServer(e,n){return e?this.checkAuthWithConfig(e,n).pipe($(o=>{let{isAuthenticated:i}=o;return i?m(o):this.refreshSessionService.forceRefreshSession(e,n).pipe(q(s=>{s?.isAuthenticated&&this.startCheckSessionAndValidation(e,n)}))})):E(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(e,n,o){if(!e){let d="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let i=o||this.currentUrlService.getCurrentUrl();if(!i){let d="No URL found!";return this.loggerService.logError(e,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:s,authority:a}=e;if(this.loggerService.logDebug(e,`Working with config '${s}' using '${a}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(i,e),m({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let c=this.callbackService.isCallback(i,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${i}'`),(c?this.callbackService.handleCallbackAndFireEvents(i,e,n):m({})).pipe(w(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${d}`),d&&(this.startCheckSessionAndValidation(e,n),c||(this.authStateService.setAuthenticatedAndFireEvent(n),this.userService.publishUserDataIfExists(e,n))),this.publicEventsService.fireEvent(be.CheckingAuthFinished),{isAuthenticated:d,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:s}}),q(({isAuthenticated:d})=>{d&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),K(({message:d})=>(this.loggerService.logError(e,d),this.publicEventsService.fireEvent(be.CheckingAuthFinishedWithError,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:s}))))}startCheckSessionAndValidation(e,n){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(n,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,n){if(!n)return null;for(let o of e)if(this.storagePersistenceService.read("authStateControl",o)===n)return o;return null}composeMultipleLoginResults(e,n,o){let i=e.filter(c=>c.configId!==n.configId),s=this.checkAuthWithConfig(n,e,o),a=i.map(c=>{let{redirectUrl:l}=c;return this.checkAuthWithConfig(c,e,l)});return qt([s,...a])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nu=(()=>{class t{constructor(){this.document=u(Q)}redirectTo(e){this.document.location.href=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ru=(()=>{class t{constructor(){this.loggerService=u(V),this.flowHelper=u(Vt)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VC=(()=>{class t{constructor(){this.loggerService=u(V),this.urlService=u(it),this.dataService=u(fn),this.storagePersistenceService=u(ue)}postParRequest(e,n){let o=new we;o=o.set("Content-Type","application/x-www-form-urlencoded");let i=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!i)return E(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let s=i.parEndpoint;return s?this.urlService.createBodyForParCodeFlowRequest(e,n).pipe($(a=>this.dataService.post(s,a,e,o).pipe(Kt(2),w(c=>(this.loggerService.logDebug(e,"par response: ",c),{expiresIn:c.expires_in,requestUri:c.request_uri})),K(c=>{let l="There was an error on ParService postParRequest";return this.loggerService.logError(e,l,c),E(()=>new Error(l))})))):E(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$C=(()=>{class t{constructor(){this.loggerService=u(V),this.responseTypeValidationService=u(ru),this.urlService=u(it),this.redirectService=u(nu),this.authWellKnownService=u(or),this.popupService=u(Is),this.checkAuthService=u(tu),this.parService=u(VC)}loginPar(e,n){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe($(()=>this.parService.postParRequest(e,n))).subscribe(o=>{this.loggerService.logDebug(e,"par response: ",o);let i=this.urlService.getAuthorizeParUrl(o.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",i),!i){this.loggerService.logError(e,`Could not create URL with param ${o.requestUri}: '${i}'`);return}n?.urlHandler?n.urlHandler(i):this.redirectService.redirectTo(i)})}loginWithPopUpPar(e,n,o,i){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),E(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe($(()=>this.parService.postParRequest(e,o)),$(a=>{this.loggerService.logDebug(e,`par response: ${a}`);let c=this.urlService.getAuthorizeParUrl(a.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",c),!c){let l=`Could not create URL with param ${a.requestUri}: 'url'`;return this.loggerService.logError(e,l),E(()=>new Error(l))}return this.popupService.openPopUp(c,i,e),this.popupService.result$.pipe(Se(1),$(l=>{let{userClosed:d,receivedUrl:f}=l;return d?m({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,n,f)}))}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),BC=(()=>{class t{constructor(){this.loggerService=u(V),this.responseTypeValidationService=u(ru),this.urlService=u(it),this.authWellKnownService=u(or),this.popupService=u(Is),this.checkAuthService=u(tu)}loginWithPopUpStandard(e,n,o,i){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),E(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe($(()=>this.urlService.getAuthorizeUrl(e,o)),q(a=>this.popupService.openPopUp(a,i,e)),$(()=>this.popupService.result$.pipe(Se(1),$(a=>{let{userClosed:c,receivedUrl:l}=a;return c?m({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,n,l)}))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HC=(()=>{class t{constructor(){this.loggerService=u(V),this.responseTypeValidationService=u(ru),this.urlService=u(it),this.redirectService=u(nu),this.authWellKnownService=u(or),this.flowsDataService=u(Te)}loginStandard(e,n){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:o}=n||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,n).subscribe(i=>{if(!i){this.loggerService.logError(e,"Could not create URL",i);return}o?o(i):this.redirectService.redirectTo(i)})})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zC=(()=>{class t{constructor(){this.parLoginService=u($C),this.popUpLoginService=u(BC),this.standardLoginService=u(HC),this.storagePersistenceService=u(ue),this.popupService=u(Is)}login(e,n){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:o}=e;return n?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",n.customParams,e),o?this.parLoginService.loginPar(e,n):this.standardLoginService.loginStandard(e,n)}loginWithPopUp(e,n,o,i){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return m({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:a}=e;return o?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",o.customParams,e),a?this.parLoginService.loginWithPopUpPar(e,n,o,i):this.popUpLoginService.loginWithPopUpStandard(e,n,o,i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WC(t){let r=y({},t);for(let e in t)(t[e]===void 0||t[e]===null)&&delete r[e];return r}var qC=(()=>{class t{constructor(){this.loggerService=u(V),this.dataService=u(fn),this.storagePersistenceService=u(ue),this.urlService=u(it),this.checkSessionService=u(eu),this.resetAuthDataService=u($t),this.redirectService=u(nu)}logoff(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",o);let{urlHandler:i,customParams:s}=o||{},a=this.urlService.getEndSessionUrl(e,s);return a?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),m(null)):i?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${a}'`),i(a),this.resetAuthDataService.resetAuthorizationData(e,n),m(null)):this.logoffInternal(o,a,e,n):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),m(null))}logoffLocal(e,n){this.resetAuthDataService.resetAuthorizationData(e,n),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(n=>this.logoffLocal(n,e))}logoffAndRevokeTokens(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:i}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return i?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe($(s=>this.revokeAccessToken(e)),K(s=>{let a="revoke token failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}),U(()=>this.logoff(e,n,o))):this.revokeAccessToken(e).pipe(K(s=>{let a="revoke accessToken failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}),U(()=>this.logoff(e,n,o))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,n,o))}revokeAccessToken(e,n){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let o=n||this.storagePersistenceService.getAccessToken(e),i=this.urlService.createRevocationEndpointBodyAccessToken(o,e);return this.sendRevokeRequest(e,i)}revokeRefreshToken(e,n){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let o=n||this.storagePersistenceService.getRefreshToken(e),i=this.urlService.createRevocationEndpointBodyRefreshToken(o,e);return this.sendRevokeRequest(e,i)}logoffInternal(e,n,o,i){let{logoffMethod:s,customParams:a}=e||{};if(!s||s==="GET")return this.redirectService.redirectTo(n),this.resetAuthDataService.resetAuthorizationData(o,i),m(null);let{state:c,logout_hint:l,ui_locales:d}=a||{},{clientId:f}=o,p=this.storagePersistenceService.getIdToken(o),h=this.urlService.getPostLogoutRedirectUrl(o),v=this.getHeaders(),{url:D}=this.urlService.getEndSessionEndpoint(o),_=WC({id_token_hint:p,client_id:f,post_logout_redirect_uri:h,state:c,logout_hint:l,ui_locales:d});return this.resetAuthDataService.resetAuthorizationData(o,i),this.dataService.post(D,_,o,v)}sendRevokeRequest(e,n){let o=this.urlService.getRevocationEndpointUrl(e),i=this.getHeaders();return this.dataService.post(o,n,e,i).pipe(Kt(2),$(s=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",s),m(s))),K(s=>{let a="Revocation request failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}))}getHeaders(){let e=new we;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),st=(()=>{class t{constructor(){this.checkSessionService=u(eu),this.checkAuthService=u(tu),this.userService=u(rr),this.tokenHelperService=u(ws),this.configurationService=u(_g),this.authStateService=u(ot),this.flowsDataService=u(Te),this.callbackService=u(Ag),this.logoffRevocationService=u(qC),this.loginService=u(zC),this.refreshSessionService=u(Og),this.urlService=u(it),this.authWellKnownService=u(or),this.userData=gs(this.userData$,{requireSync:!0}),this.authenticated=gs(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(U(n=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(n)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.userService.getUserDataFromStore(n)))}checkAuth(e,n){return this.configurationService.getOpenIDConfigurations(n).pipe(U(({allConfigs:o,currentConfig:i})=>this.checkAuthService.checkAuth(i,o,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(U(({allConfigs:n})=>this.checkAuthService.checkAuthMultiple(n,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.isAuthenticated(n)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(U(({allConfigs:n,currentConfig:o})=>this.checkAuthService.checkAuthIncludingServer(o,n)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getAccessToken(n)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getIdToken(n)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getRefreshToken(n)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getAuthenticationResult(n)))}getPayloadFromIdToken(e=!1,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>{let i=this.authStateService.getIdToken(o);return this.tokenHelperService.getPayloadFromToken(i,e,o)}))}getPayloadFromAccessToken(e=!1,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>{let i=this.authStateService.getAccessToken(o);return this.tokenHelperService.getPayloadFromToken(i,e,o)}))}setState(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>this.flowsDataService.setAuthStateControl(e,o)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.flowsDataService.getAuthStateControl(n)))}authorize(e,n){this.configurationService.getOpenIDConfiguration(e).subscribe(o=>this.loginService.login(o,n))}authorizeWithPopUp(e,n,o){return this.configurationService.getOpenIDConfigurations(o).pipe(U(({allConfigs:i,currentConfig:s})=>this.loginService.loginWithPopUp(s,i,e,n)))}forceRefreshSession(e,n){return this.configurationService.getOpenIDConfigurations(n).pipe(U(({allConfigs:o,currentConfig:i})=>this.refreshSessionService.userForceRefreshSession(i,o,e)))}logoffAndRevokeTokens(e,n){return this.configurationService.getOpenIDConfigurations(e).pipe(U(({allConfigs:o,currentConfig:i})=>this.logoffRevocationService.logoffAndRevokeTokens(i,o,n)))}logoff(e,n){return this.configurationService.getOpenIDConfigurations(e).pipe(U(({allConfigs:o,currentConfig:i})=>this.logoffRevocationService.logoff(i,o,n)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:n,currentConfig:o})=>this.logoffRevocationService.logoffLocal(o,n))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(U(o=>this.logoffRevocationService.revokeAccessToken(o,e)))}revokeRefreshToken(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(U(o=>this.logoffRevocationService.revokeRefreshToken(o,e)))}getEndSessionUrl(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>this.urlService.getEndSessionUrl(o,e)))}getAuthorizeUrl(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(U(o=>this.urlService.getAuthorizeUrl(o,e?{customParams:e}:void 0)))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GC=(()=>{class t{read(e){return sessionStorage.getItem(e)}write(e,n){sessionStorage.setItem(e,n)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Pg(t,...r){let e=KC(t);for(let n of r)e.push(...n.\u0275providers);return Pt(e)}function KC(t){return[{provide:wg,useValue:t},t?.loader||{provide:ms,useFactory:GE,deps:[wg]},{provide:ys,useClass:GC},{provide:Cg,useClass:KE}]}var Fg=(()=>{class t{read(e){return localStorage.getItem(e)}write(e,n){localStorage.setItem(e,n)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cs=class t{constructor(r){this.oidcSecurityService=r}login(r){this.oidcSecurityService.authorize(r)}static \u0275fac=function(e){return new(e||t)(ce(st))};static \u0275cmp=se({type:t,selectors:[["app-login"]],decls:20,vars:0,consts:[[1,"flex","h-screen","items-center","justify-center"],[1,"flex","h-xl","max-h-xl","max-w-2xl","bg-white","border","border-gray-200","rounded-lg","shadow-2xl"],["id","login-left",1,"hidden","lg:block","w-1/2"],["src","signin-bg.png","alt","Bytepipe",1,"object-cover","w-full","h-full","rounded-l-lg"],["id","login-right",1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","py-6","lg:px-12"],[1,"w-full","max-w-[400px]","space-y-8"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"grid","grid-cols-2","justify-items-center"],[1,"cursor-pointer",3,"click"],["src","logo-google.png",1,"w-12","h-12","rounded"],["src","logo-microsoft.png",1,"w-12","h-12","rounded"]],template:function(e,n){e&1&&(N(0,"div",0)(1,"div",1)(2,"div",2),j(3,"img",3),L(),N(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),j(8,"app-logo"),L()(),N(9,"div",8)(10,"div",9),j(11,"div",10),L(),N(12,"div",11)(13,"span",12),Y(14,"Login to BytePype using"),L()()(),N(15,"div",13)(16,"a",14),Vn("click",function(){return n.login("google")}),j(17,"img",15),L(),N(18,"a",14),Vn("click",function(){return n.login("microsoft")}),j(19,"img",16),L()()()()()())},dependencies:[nr],encapsulation:2})};var $e=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,n){e&1&&(N(0,"p"),Y(1,"dashboard works!"),L())},encapsulation:2})};var bs=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-sidebar"]],decls:49,vars:0,consts:[[1,"h-full","w-60","pl-2","pb-2","pr-1"],[1,"h-full","bg-gray-100","text-slate-700","font-semibold","rounded-lg","inset-shadow-sm/50","inset-shadow-gray-400"],[1,"flex","flex-col","py-4","self-start"],[1,"px-4","h-full","grid","content-between"],[1,"flex","flex-col","[&>li>a]:relative","[&>li>a]:flex","[&>li>a]:items-center","[&>li>a]:gap-2.5","[&>li>a]:px-4","[&>li>a]:py-2","[&>li>a]:rounded-lg","[&>li>a]:cursor-pointer","[&>li>a]:hover:bg-gray-50","[&>li>a]:hover:shadow-sm","[&>li>a]:hover:shadow-gray-300"],["routerLink","/dashboard","routerLinkActive","text-orange-400"],[1,"fa","fa-gauge"],["routerLink","/connectors","routerLinkActive","text-orange-400"],[1,"fa","fa-plug"],["routerLink","/transformers","routerLinkActive","text-orange-400"],[1,"fa","fa-gear"],["routerLink","/data-flows","routerLinkActive","text-orange-400"],[1,"fa","fa-timeline"],["routerLink","/reports","routerLinkActive","text-orange-400"],[1,"fa","fa-file-lines"],["routerLink","/alerts","routerLinkActive","text-orange-400"],[1,"fa","fa-bell"],[1,"border-gray-300","w-50","place-self-center"],[1,"flex","flex-col","py-4","self-end","menu-container"],[1,"flex","flex-col","[&>li>a]:relative","[&>li>a]:flex","[&>li>a]:items-center","[&>li>a]:gap-2.5","[&>li>a]:px-4","[&>li>a]:py-2","[&>li>a]:rounded-lg","[&>li>a]:cursor-pointer","[&>li>a]:hover:bg-white","[&>li>a]:hover:shadow-sm","[&>li>a]:hover:shadow-gray-300"],["routerLink","/users","routerLinkActive","text-orange-400"],[1,"fa","fa-user"],["routerLink","/user-groups","routerLinkActive","text-orange-400"],[1,"fa","fa-users"],["routerLink","/roles","routerLinkActive","text-orange-400"],[1,"fa","fa-user-gear"],["routerLink","/audit","routerLinkActive","text-orange-400"],[1,"fa","fa-file-pen"]],template:function(e,n){e&1&&(N(0,"aside",0)(1,"div",1)(2,"div",2)(3,"nav",3)(4,"ul",4)(5,"li")(6,"a",5),j(7,"i",6),Y(8,"Dashboard"),L()(),N(9,"li")(10,"a",7),j(11,"i",8),Y(12,"Connectors"),L()(),N(13,"li")(14,"a",9),j(15,"i",10),Y(16,"Transformers"),L()(),N(17,"li")(18,"a",11),j(19,"i",12),Y(20,"Data Flows"),L()(),N(21,"li")(22,"a",13),j(23,"i",14),Y(24,"Reports"),L()(),N(25,"li")(26,"a",15),j(27,"i",16),Y(28,"Alerts"),L()()()()(),j(29,"hr",17),N(30,"div",18)(31,"nav",3)(32,"ul",19)(33,"li")(34,"a",20),j(35,"i",21),Y(36,"Users"),L()(),N(37,"li")(38,"a",22),j(39,"i",23),Y(40,"User Groups"),L()(),N(41,"li")(42,"a",24),j(43,"i",25),Y(44,"Roles"),L()(),N(45,"li")(46,"a",26),j(47,"i",27),Y(48,"Audit"),L()()()()()()())},dependencies:[er,pg],encapsulation:2})};var Ts=class t{constructor(r){this.securityService=r}name;picture;ngOnInit(){let r=this.securityService.userData,e=r().allUserData.find(n=>n.userData)?.userData;this.name=e?.name,this.picture=e?.picture}static \u0275fac=function(e){return new(e||t)(ce(st))};static \u0275cmp=se({type:t,selectors:[["app-user-profile"]],decls:3,vars:2,consts:[[1,"flex","px-4","gap-2.5","items-center"],["width","25","height","25",3,"src"]],template:function(e,n){e&1&&(N(0,"div",0),j(1,"img",1),Y(2),L()),e&2&&(et(),Fr("src",n.picture,Rc),et(),$n(" ",n.name,`
`))},encapsulation:2})};var Ms=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-navbar"]],decls:7,vars:0,consts:[[1,"h-1/12"],[1,"flex","justify-between"],["routerLink","/",1,"cursor","content-center","w-60"],["routerLink","/",1,"text-xl","p-2","cursor-pointer","flex","justify-center"],[1,"cursor","content-center"]],template:function(e,n){e&1&&(N(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),j(4,"app-logo"),L()(),N(5,"div",4),j(6,"app-user-profile"),L()()())},dependencies:[nr,Ts],encapsulation:2})};var Rs=class t{constructor(r){this.httpClient=r}baseUrl="http://localhost:8080/api";create(r){return this.httpClient.post(this.baseUrl+"/users",r)}static \u0275fac=function(e){return new(e||t)(M(Br))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};var As=class t{constructor(r,e,n){this.router=r;this.userService=e;this.securityService=n}ngOnInit(){this.securityService.checkAuthMultiple(window.location.toString()).subscribe(r=>{let e=r.find(n=>n.isAuthenticated);e?(localStorage.setItem("active-provider",e.configId??""),this.userService.create(e.userData).subscribe(n=>{console.log(JSON.stringify(n))})):this.router.navigateByUrl("/signin")})}static \u0275fac=function(e){return new(e||t)(ce(rt),ce(Rs),ce(st))};static \u0275cmp=se({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"h-screen","w-screen","bg-gray-50"],[1,"flex","h-11/12"],[1,"flex-1","h-full","pl-1","pb-2","pr-2"],[1,"h-full","bg-gray-100","rounded-lg","inset-shadow-sm/50","inset-shadow-gray-400"]],template:function(e,n){e&1&&(N(0,"div",0),j(1,"app-navbar"),N(2,"main",1),j(3,"app-sidebar"),N(4,"div",2)(5,"div",3),j(6,"router-outlet"),L()()()())},dependencies:[lo,bs,Ms],encapsulation:2})};var YC=()=>["/dashboard"],_s=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-connector"]],decls:8,vars:2,consts:[["id","page-container",1,"h-full","w-full"],["id","title-bar",1,"flex","p-4","justify-between"],["id","title-text",1,"text-4xl"],[1,"fa","fa-plug"],[1,"btn","btn-blue",3,"routerLink"],[1,"fa","fa-plus"]],template:function(e,n){e&1&&(N(0,"div",0)(1,"div",1)(2,"p",2),j(3,"i",3),Y(4," Connectors"),L(),N(5,"button",4),j(6,"i",5),Y(7," Create New Connector"),L()()()),e&2&&(et(5),Fr("routerLink",zh(1,YC)))},dependencies:[er],encapsulation:2})};var xs=class t{id=0;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-oracle-connector-editor"]],inputs:{id:[2,"id","id",Gc]},features:[Or],decls:8,vars:1,consts:[["id","page-container",1,"h-full","w-full"],["id","title-bar",1,"flex","p-4","justify-between"],["id","title-text",1,"text-4xl"],[1,"fa","fa-plug"],[1,"color-red"],[1,"fa","fa-database"]],template:function(e,n){e&1&&(N(0,"div",0)(1,"div",1)(2,"p",2),j(3,"i",3),Y(4),L(),N(5,"p",4),j(6,"i",5),Y(7," ORACLE"),L()()()),e&2&&(et(4),$n(" ",n.id===0?"Modify Oracle Connector ${id}":"Create New Oracle Connector",""))},encapsulation:2})};var Lg=[{path:"",component:As,children:[{path:"dashboard",component:$e},{path:"connectors",component:_s},{path:"connectors/oracle/:id",component:xs},{path:"transformers",component:$e},{path:"data-flows",component:$e},{path:"reports",component:$e},{path:"alerts",component:$e},{path:"users",component:$e},{path:"user-groups",component:$e},{path:"roles",component:$e},{path:"audit",component:$e}]},{path:"signin",component:Cs}];var jg={config:[{configId:"google",authority:"https://accounts.google.com",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"309470803706-erf2diogu09ah4eapebn6ianedf8gqdr.apps.googleusercontent.com",scope:"openid profile email",responseType:"id_token token",logLevel:Ut.Debug,silentRenew:!0,autoUserInfo:!0,useRefreshToken:!0,ignoreNonceAfterRefresh:!0,allowUnsafeReuseRefreshToken:!0,triggerRefreshWhenIdTokenExpired:!1,silentRenewUrl:window.location.origin+"/silent-renew.html",triggerAuthorizationResultEvent:!0,checkRedirectUrlWhenCheckingIfIsCallback:!1,renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:["http://localhost:8080"]},{configId:"microsoft",authority:"https://login.microsoftonline.com/5d6c98ab-f906-4b12-9d24-ee1c69f44321/v2.0",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"cd1b1632-df2b-42bc-8649-d32e008b3fa5",scope:"openid profile email offline_access",responseType:"code",logLevel:Ut.Debug,silentRenew:!0,autoUserInfo:!1,useRefreshToken:!0,issValidationOff:!0,ignoreNonceAfterRefresh:!0,allowUnsafeReuseRefreshToken:!0,triggerRefreshWhenIdTokenExpired:!1,disableIdTokenValidation:!0,checkRedirectUrlWhenCheckingIfIsCallback:!0,silentRenewUrl:window.location.origin+"/silent-renew.html",renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:["http://localhost:8080"]}]};var ks=class t{constructor(r){this.oidcSecurityService=r}intercept(r,e){if(!r.url.includes("/api/"))return e.handle(r);let n=localStorage.getItem("active-provider");return n&&this.oidcSecurityService.getIdToken(n).subscribe(o=>{o&&(r=r.clone({headers:r.headers.set("Authorization","Bearer "+o)}))}),e.handle(r)}static \u0275fac=function(e){return new(e||t)(M(st))};static \u0275prov=g({token:t,factory:t.\u0275fac})};var Ug={providers:[qh({eventCoalescing:!0}),nl(rl()),gg(Lg,mg()),Pg(jg),{provide:el,useClass:ks,multi:!0,deps:[st]},{provide:ys,useClass:Fg}]};var Ns=class t{ngOnInit(){localStorage.removeItem("oauth2-config-id")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=se({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&j(0,"router-outlet")},dependencies:[lo],encapsulation:2})};_p(Ns,Ug).catch(t=>console.error(t));
