var Bp=Object.defineProperty,Hp=Object.defineProperties;var zp=Object.getOwnPropertyDescriptors;var Sl=Object.getOwnPropertySymbols;var Wp=Object.prototype.hasOwnProperty,qp=Object.prototype.propertyIsEnumerable;var Il=(t,r,e)=>r in t?Bp(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,y=(t,r)=>{for(var e in r||={})Wp.call(r,e)&&Il(t,e,r[e]);if(Sl)for(var e of Sl(r))qp.call(r,e)&&Il(t,e,r[e]);return t},$=(t,r)=>Hp(t,zp(r));var $n=(t,r,e)=>new Promise((n,o)=>{var i=c=>{try{a(e.next(c))}catch(l){o(l)}},s=c=>{try{a(e.throw(c))}catch(l){o(l)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,s);a((e=e.apply(t,r)).next())});function fs(t,r){return Object.is(t,r)}var ce=null,qr=!1,hs=1,xe=Symbol("SIGNAL");function B(t){let r=ce;return ce=t,r}function El(){return ce}var Hn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Kr(t){if(qr)throw new Error("");if(ce===null)return;ce.consumerOnSignalRead(t);let r=ce.nextProducerIndex++;if(Qr(ce),r<ce.producerNode.length&&ce.producerNode[r]!==t&&Bn(ce)){let e=ce.producerNode[r];Yr(e,ce.producerIndexOfThis[r])}ce.producerNode[r]!==t&&(ce.producerNode[r]=t,ce.producerIndexOfThis[r]=Bn(ce)?Tl(t,ce,r):0),ce.producerLastReadVersion[r]=t.version}function Gp(){hs++}function ps(t){if(!(Bn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hs)){if(!t.producerMustRecompute(t)&&!ms(t)){ds(t);return}t.producerRecomputeValue(t),ds(t)}}function Cl(t){if(t.liveConsumerNode===void 0)return;let r=qr;qr=!0;try{for(let e of t.liveConsumerNode)e.dirty||Kp(e)}finally{qr=r}}function bl(){return ce?.consumerAllowSignalWrites!==!1}function Kp(t){t.dirty=!0,Cl(t),t.consumerMarkedDirty?.(t)}function ds(t){t.dirty=!1,t.lastCleanEpoch=hs}function Zr(t){return t&&(t.nextProducerIndex=0),B(t)}function gs(t,r){if(B(r),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bn(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Yr(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ms(t){Qr(t);for(let r=0;r<t.producerNode.length;r++){let e=t.producerNode[r],n=t.producerLastReadVersion[r];if(n!==e.version||(ps(e),n!==e.version))return!0}return!1}function vs(t){if(Qr(t),Bn(t))for(let r=0;r<t.producerNode.length;r++)Yr(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tl(t,r,e){if(Ml(t),t.liveConsumerNode.length===0&&Rl(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Tl(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(r)-1}function Yr(t,r){if(Ml(t),t.liveConsumerNode.length===1&&Rl(t))for(let n=0;n<t.producerNode.length;n++)Yr(t.producerNode[n],t.producerIndexOfThis[n]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[r],o=t.liveConsumerNode[r];Qr(o),o.producerIndexOfThis[n]=r}}function Bn(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ml(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Rl(t){return t.producerNode!==void 0}function Al(t){let r=Object.create(Zp);r.computation=t;let e=()=>{if(ps(r),Kr(r),r.value===Gr)throw r.error;return r.value};return e[xe]=r,e}var ls=Symbol("UNSET"),us=Symbol("COMPUTING"),Gr=Symbol("ERRORED"),Zp=$(y({},Hn),{value:ls,dirty:!0,error:null,equal:fs,producerMustRecompute(t){return t.value===ls||t.value===us},producerRecomputeValue(t){if(t.value===us)throw new Error("Detected cycle in computations.");let r=t.value;t.value=us;let e=Zr(t),n;try{n=t.computation()}catch(o){n=Gr,t.error=o}finally{gs(t,e)}if(r!==ls&&r!==Gr&&n!==Gr&&t.equal(r,n)){t.value=r;return}t.value=n,t.version++}});function Yp(){throw new Error}var _l=Yp;function xl(){_l()}function kl(t){_l=t}var Qp=null;function Nl(t){let r=Object.create(ys);r.value=t;let e=()=>(Kr(r),r.value);return e[xe]=r,e}function Jr(t,r){bl()||xl(),t.equal(t.value,r)||(t.value=r,Jp(t))}function Ol(t,r){bl()||xl(),Jr(t,r(t.value))}var ys=$(y({},Hn),{equal:fs,value:void 0});function Jp(t){t.version++,Gp(),Cl(t),Qp?.()}function A(t){return typeof t=="function"}function pt(t){let e=t(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Xr=pt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,o)=>`${o+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function kt(t,r){if(t){let e=t.indexOf(r);0<=e&&t.splice(e,1)}}var re=class t{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let i of e)i.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(A(n))try{n()}catch(i){r=i instanceof Xr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Pl(i)}catch(s){r=r??[],s instanceof Xr?r=[...r,...s.errors]:r.push(s)}}if(r)throw new Xr(r)}}add(r){var e;if(r&&r!==this)if(this.closed)Pl(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}}_hasParent(r){let{_parentage:e}=this;return e===r||Array.isArray(e)&&e.includes(r)}_addParent(r){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r}_removeParent(r){let{_parentage:e}=this;e===r?this._parentage=null:Array.isArray(e)&&kt(e,r)}remove(r){let{_finalizers:e}=this;e&&kt(e,r),r instanceof t&&r._removeParent(this)}};re.EMPTY=(()=>{let t=new re;return t.closed=!0,t})();var ws=re.EMPTY;function eo(t){return t instanceof re||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function Pl(t){A(t)?t():t.unsubscribe()}var je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var tn={setTimeout(t,r,...e){let{delegate:n}=tn;return n?.setTimeout?n.setTimeout(t,r,...e):setTimeout(t,r,...e)},clearTimeout(t){let{delegate:r}=tn;return(r?.clearTimeout||clearTimeout)(t)},delegate:void 0};function to(t){tn.setTimeout(()=>{let{onUnhandledError:r}=je;if(r)r(t);else throw t})}function zn(){}var Fl=Ds("C",void 0,void 0);function Ll(t){return Ds("E",void 0,t)}function jl(t){return Ds("N",t,void 0)}function Ds(t,r,e){return{kind:t,value:r,error:e}}var Nt=null;function nn(t){if(je.useDeprecatedSynchronousErrorHandling){let r=!Nt;if(r&&(Nt={errorThrown:!1,error:null}),t(),r){let{errorThrown:e,error:n}=Nt;if(Nt=null,e)throw n}}else t()}function Ul(t){je.useDeprecatedSynchronousErrorHandling&&Nt&&(Nt.errorThrown=!0,Nt.error=t)}var Ot=class extends re{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,eo(r)&&r.add(this)):this.destination=tg}static create(r,e,n){return new rn(r,e,n)}next(r){this.isStopped?Is(jl(r),this):this._next(r)}error(r){this.isStopped?Is(Ll(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Is(Fl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Xp=Function.prototype.bind;function Ss(t,r){return Xp.call(t,r)}var Es=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:e}=this;if(e.next)try{e.next(r)}catch(n){no(n)}}error(r){let{partialObserver:e}=this;if(e.error)try{e.error(r)}catch(n){no(n)}else no(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(e){no(e)}}},rn=class extends Ot{constructor(r,e,n){super();let o;if(A(r)||!r)o={next:r??void 0,error:e??void 0,complete:n??void 0};else{let i;this&&je.useDeprecatedNextContext?(i=Object.create(r),i.unsubscribe=()=>this.unsubscribe(),o={next:r.next&&Ss(r.next,i),error:r.error&&Ss(r.error,i),complete:r.complete&&Ss(r.complete,i)}):o=r}this.destination=new Es(o)}};function no(t){je.useDeprecatedSynchronousErrorHandling?Ul(t):to(t)}function eg(t){throw t}function Is(t,r){let{onStoppedNotification:e}=je;e&&tn.setTimeout(()=>e(t,r))}var tg={closed:!0,next:zn,error:eg,complete:zn};var on=typeof Symbol=="function"&&Symbol.observable||"@@observable";function le(t){return t}function Cs(...t){return bs(t)}function bs(t){return t.length===0?le:t.length===1?t[0]:function(e){return t.reduce((n,o)=>o(n),e)}}var k=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,o){let i=rg(e)?e:new rn(e,n,o);return nn(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=Vl(n),new n((o,i)=>{let s=new rn({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[on](){return this}pipe(...e){return bs(e)(this)}toPromise(e){return e=Vl(e),new e((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return t.create=r=>new t(r),t})();function Vl(t){var r;return(r=t??je.Promise)!==null&&r!==void 0?r:Promise}function ng(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function rg(t){return t&&t instanceof Ot||ng(t)&&eo(t)}function Ts(t){return A(t?.lift)}function x(t){return r=>{if(Ts(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function M(t,r,e,n,o){return new Ms(t,r,e,n,o)}var Ms=class extends Ot{constructor(r,e,n,o,i,s){super(r),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){r.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){r.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function sn(){return x((t,r)=>{let e=null;t._refCount++;let n=M(r,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),r.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}var an=class extends k{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ts(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new re;let e=this.getSubject();r.add(this.source.subscribe(M(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),r.closed&&(this._connection=null,r=re.EMPTY)}return r}refCount(){return sn()(this)}};var $l=pt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=(()=>{class t extends k{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new ro(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new $l}next(e){nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){nn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:o,observers:i}=this;return n||o?ws:(this.currentObservers=null,i.push(e),new re(()=>{this.currentObservers=null,kt(i,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:o,isStopped:i}=this;n?e.error(o):i&&e.complete()}asObservable(){let e=new k;return e.source=this,e}}return t.create=(r,e)=>new ro(r,e),t})(),ro=class extends X{constructor(r,e){super(),this.destination=r,this.source=e}next(r){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,r)}error(r){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,r)}complete(){var r,e;(e=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||e===void 0||e.call(r)}_subscribe(r){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(r))!==null&&n!==void 0?n:ws}};var oe=class extends X{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){let{hasError:r,thrownError:e,_value:n}=this;if(r)throw e;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}};var Wn={now(){return(Wn.delegate||Date).now()},delegate:void 0};var qn=class extends X{constructor(r=1/0,e=1/0,n=Wn){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){let{isStopped:e,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(n.push(r),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!r.closed;s+=n?1:2)r.next(i[s]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){let{_bufferSize:r,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*r;if(r<1/0&&i<n.length&&n.splice(0,n.length-i),!o){let s=e.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var oo=class extends re{constructor(r,e){super()}schedule(r,e=0){return this}};var Gn={setInterval(t,r,...e){let{delegate:n}=Gn;return n?.setInterval?n.setInterval(t,r,...e):setInterval(t,r,...e)},clearInterval(t){let{delegate:r}=Gn;return(r?.clearInterval||clearInterval)(t)},delegate:void 0};var io=class extends oo{constructor(r,e){super(r,e),this.scheduler=r,this.work=e,this.pending=!1}schedule(r,e=0){var n;if(this.closed)return this;this.state=r;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(i,this.id,e),this}requestAsyncId(r,e,n=0){return Gn.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&Gn.clearInterval(e)}execute(r,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(r,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,e){let n=!1,o;try{this.work(r)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:r,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,kt(n,this),r!=null&&(this.id=this.recycleAsyncId(e,r,null)),this.delay=null,super.unsubscribe()}}};var cn=class t{constructor(r,e=t.now){this.schedulerActionCtor=r,this.now=e}schedule(r,e=0,n){return new this.schedulerActionCtor(this,r).schedule(n,e)}};cn.now=Wn.now;var so=class extends cn{constructor(r,e=cn.now){super(r,e),this.actions=[],this._active=!1}flush(r){let{actions:e}=this;if(this._active){e.push(r);return}let n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=e.shift());if(this._active=!1,n){for(;r=e.shift();)r.unsubscribe();throw n}}};var Rs=new so(io),Bl=Rs;var Ie=new k(t=>t.complete());function ao(t){return t&&A(t.schedule)}function Hl(t){return t[t.length-1]}function co(t){return A(Hl(t))?t.pop():void 0}function gt(t){return ao(Hl(t))?t.pop():void 0}function Wl(t,r,e,n){function o(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(d){try{l(n.next(d))}catch(f){s(f)}}function c(d){try{l(n.throw(d))}catch(f){s(f)}}function l(d){d.done?i(d.value):o(d.value).then(a,c)}l((n=n.apply(t,r||[])).next())})}function zl(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(t){return this instanceof Pt?(this.v=t,this):new Pt(t)}function ql(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(v){return Promise.resolve(v).then(h,f)}}function a(h,v){n[h]&&(o[h]=function(D){return new Promise(function(S,_){i.push([h,D,S,_])>1||c(h,D)})},v&&(o[h]=v(o[h])))}function c(h,v){try{l(n[h](v))}catch(D){g(i[0][3],D)}}function l(h){h.value instanceof Pt?Promise.resolve(h.value.v).then(d,f):g(i[0][2],h)}function d(h){c("next",h)}function f(h){c("throw",h)}function g(h,v){h(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Gl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof zl=="function"?zl(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var lo=t=>t&&typeof t.length=="number"&&typeof t!="function";function uo(t){return A(t?.then)}function fo(t){return A(t[on])}function ho(t){return Symbol.asyncIterator&&A(t?.[Symbol.asyncIterator])}function po(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function og(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var go=og();function mo(t){return A(t?.[go])}function vo(t){return ql(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:n,done:o}=yield Pt(e.read());if(o)return yield Pt(void 0);yield yield Pt(n)}}finally{e.releaseLock()}})}function yo(t){return A(t?.getReader)}function Y(t){if(t instanceof k)return t;if(t!=null){if(fo(t))return ig(t);if(lo(t))return sg(t);if(uo(t))return ag(t);if(ho(t))return Kl(t);if(mo(t))return cg(t);if(yo(t))return lg(t)}throw po(t)}function ig(t){return new k(r=>{let e=t[on]();if(A(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function sg(t){return new k(r=>{for(let e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}function ag(t){return new k(r=>{t.then(e=>{r.closed||(r.next(e),r.complete())},e=>r.error(e)).then(null,to)})}function cg(t){return new k(r=>{for(let e of t)if(r.next(e),r.closed)return;r.complete()})}function Kl(t){return new k(r=>{ug(t,r).catch(e=>r.error(e))})}function lg(t){return Kl(vo(t))}function ug(t,r){var e,n,o,i;return Wl(this,void 0,void 0,function*(){try{for(e=Gl(t);n=yield e.next(),!n.done;){let s=n.value;if(r.next(s),r.closed)return}}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}r.complete()})}function fe(t,r,e,n=0,o=!1){let i=r.schedule(function(){e(),o?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!o)return i}function wo(t,r=0){return x((e,n)=>{e.subscribe(M(n,o=>fe(n,t,()=>n.next(o),r),()=>fe(n,t,()=>n.complete(),r),o=>fe(n,t,()=>n.error(o),r)))})}function Do(t,r=0){return x((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),r))})}function Zl(t,r){return Y(t).pipe(Do(r),wo(r))}function Yl(t,r){return Y(t).pipe(Do(r),wo(r))}function Ql(t,r){return new k(e=>{let n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}function Jl(t,r){return new k(e=>{let n;return fe(e,r,()=>{n=t[go](),fe(e,r,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){e.error(s);return}i?e.complete():e.next(o)},0,!0)}),()=>A(n?.return)&&n.return()})}function So(t,r){if(!t)throw new Error("Iterable cannot be null");return new k(e=>{fe(e,r,()=>{let n=t[Symbol.asyncIterator]();fe(e,r,()=>{n.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Xl(t,r){return So(vo(t),r)}function eu(t,r){if(t!=null){if(fo(t))return Zl(t,r);if(lo(t))return Ql(t,r);if(uo(t))return Yl(t,r);if(ho(t))return So(t,r);if(mo(t))return Jl(t,r);if(yo(t))return Xl(t,r)}throw po(t)}function J(t,r){return r?eu(t,r):Y(t)}function m(...t){let r=gt(t);return J(t,r)}function E(t,r){let e=A(t)?t:()=>t,n=o=>o.error(e());return new k(r?o=>r.schedule(n,0,o):n)}function As(t){return!!t&&(t instanceof k||A(t.lift)&&A(t.subscribe))}var rt=pt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Io(t){return t instanceof Date&&!isNaN(t)}var Eo=pt(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function _s(t,r){let{first:e,each:n,with:o=dg,scheduler:i=r??Rs,meta:s=null}=Io(t)?{first:t}:typeof t=="number"?{each:t}:t;if(e==null&&n==null)throw new TypeError("No timeout provided.");return x((a,c)=>{let l,d,f=null,g=0,h=v=>{d=fe(c,i,()=>{try{l.unsubscribe(),Y(o({meta:s,lastValue:f,seen:g})).subscribe(c)}catch(D){c.error(D)}},v)};l=a.subscribe(M(c,v=>{d?.unsubscribe(),g++,c.next(f=v),n>0&&h(n)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),f=null})),!g&&h(e!=null?typeof e=="number"?e:+e-i.now():n)})}function dg(t){throw new Eo(t)}function w(t,r){return x((e,n)=>{let o=0;e.subscribe(M(n,i=>{n.next(t.call(r,i,o++))}))})}var{isArray:fg}=Array;function hg(t,r){return fg(r)?t(...r):t(r)}function Co(t){return w(r=>hg(t,r))}var{isArray:pg}=Array,{getPrototypeOf:gg,prototype:mg,keys:vg}=Object;function bo(t){if(t.length===1){let r=t[0];if(pg(r))return{args:r,keys:null};if(yg(r)){let e=vg(r);return{args:e.map(n=>r[n]),keys:e}}}return{args:t,keys:null}}function yg(t){return t&&typeof t=="object"&&gg(t)===mg}function To(t,r){return t.reduce((e,n,o)=>(e[n]=r[o],e),{})}function Mo(...t){let r=gt(t),e=co(t),{args:n,keys:o}=bo(t);if(n.length===0)return J([],r);let i=new k(wg(n,r,o?s=>To(o,s):le));return e?i.pipe(Co(e)):i}function wg(t,r,e=le){return n=>{tu(r,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)tu(r,()=>{let l=J(t[c],r),d=!1;l.subscribe(M(n,f=>{i[c]=f,d||(d=!0,a--),a||n.next(e(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}function tu(t,r,e){t?fe(e,t,r):r()}function nu(t,r,e,n,o,i,s,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&r.complete()},h=D=>l<n?v(D):c.push(D),v=D=>{i&&r.next(D),l++;let S=!1;Y(e(D,d++)).subscribe(M(r,_=>{o?.(_),i?h(_):r.next(_)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<n;){let _=c.shift();s?fe(r,s,()=>v(_)):v(_)}g()}catch(_){r.error(_)}}))};return t.subscribe(M(r,h,()=>{f=!0,g()})),()=>{a?.()}}function Q(t,r,e=1/0){return A(r)?Q((n,o)=>w((i,s)=>r(n,i,o,s))(Y(t(n,o))),e):(typeof r=="number"&&(e=r),x((n,o)=>nu(n,o,t,e)))}function xs(t=1/0){return Q(le,t)}function ru(){return xs(1)}function ln(...t){return ru()(J(t,gt(t)))}function Ro(t){return new k(r=>{Y(t()).subscribe(r)})}function Ft(...t){let r=co(t),{args:e,keys:n}=bo(t),o=new k(i=>{let{length:s}=e;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;Y(e[d]).subscribe(M(i,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||i.next(n?To(n,a):a),i.complete())}))}});return r?o.pipe(Co(r)):o}function Lt(t=0,r,e=Bl){let n=-1;return r!=null&&(ao(r)?e=r:n=r),new k(o=>{let i=Io(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function Ee(t,r){return x((e,n)=>{let o=0;e.subscribe(M(n,i=>t.call(r,i,o++)&&n.next(i)))})}function G(t){return x((r,e)=>{let n=null,o=!1,i;n=r.subscribe(M(e,void 0,void 0,s=>{i=Y(t(s,G(t)(r))),n?(n.unsubscribe(),n=null,i.subscribe(e)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(e))})}function ou(t,r,e,n,o){return(i,s)=>{let a=e,c=r,l=0;i.subscribe(M(s,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),n&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function P(t,r){return A(r)?Q(t,r,1):Q(t,1)}function mt(t){return x((r,e)=>{let n=!1;r.subscribe(M(e,o=>{n=!0,e.next(o)},()=>{n||e.next(t),e.complete()}))})}function me(t){return t<=0?()=>Ie:x((r,e)=>{let n=0;r.subscribe(M(e,o=>{++n<=t&&(e.next(o),t<=n&&e.complete())}))})}function ks(t){return w(()=>t)}function Ns(t,r=le){return t=t??Dg,x((e,n)=>{let o,i=!0;e.subscribe(M(n,s=>{let a=r(s);(i||!t(o,a))&&(i=!1,o=a,n.next(s))}))})}function Dg(t,r){return t===r}function Ao(t=Sg){return x((r,e)=>{let n=!1;r.subscribe(M(e,o=>{n=!0,e.next(o)},()=>n?e.complete():e.error(t())))})}function Sg(){return new rt}function He(t){return x((r,e)=>{try{r.subscribe(e)}finally{e.add(t)}})}function ot(t,r){let e=arguments.length>=2;return n=>n.pipe(t?Ee((o,i)=>t(o,i,n)):le,me(1),e?mt(r):Ao(()=>new rt))}function un(t){return t<=0?()=>Ie:x((r,e)=>{let n=[];r.subscribe(M(e,o=>{n.push(o),t<n.length&&n.shift()},()=>{for(let o of n)e.next(o);e.complete()},void 0,()=>{n=null}))})}function Os(t,r){let e=arguments.length>=2;return n=>n.pipe(t?Ee((o,i)=>t(o,i,n)):le,un(1),e?mt(r):Ao(()=>new rt))}function jt(t=1/0){let r;t&&typeof t=="object"?r=t:r={count:t};let{count:e=1/0,delay:n,resetOnSuccess:o=!1}=r;return e<=0?le:x((i,s)=>{let a=0,c,l=()=>{let d=!1;c=i.subscribe(M(s,f=>{o&&(a=0),s.next(f)},void 0,f=>{if(a++<e){let g=()=>{c?(c.unsubscribe(),c=null,l()):d=!0};if(n!=null){let h=typeof n=="number"?Lt(n):Y(n(f,a)),v=M(s,()=>{v.unsubscribe(),g()},()=>{s.complete()});h.subscribe(v)}else g()}else s.error(f)})),d&&(c.unsubscribe(),c=null,l())};l()})}function Kn(t){return x((r,e)=>{let n,o=!1,i,s=()=>{n=r.subscribe(M(e,void 0,void 0,a=>{i||(i=new X,Y(t(i)).subscribe(M(e,()=>n?s():o=!0))),i&&i.next(a)})),o&&(n.unsubscribe(),n=null,o=!1,s())};s()})}function Ps(t,r){return x(ou(t,r,arguments.length>=2,!0))}function Fs(...t){let r=gt(t);return x((e,n)=>{(r?ln(t,e,r):ln(t,e)).subscribe(n)})}function j(t,r){return x((e,n)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&n.complete();e.subscribe(M(n,c=>{o?.unsubscribe();let l=0,d=i++;Y(t(c,d)).subscribe(o=M(n,f=>n.next(r?r(c,f,d,l++):f),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ls(t){return x((r,e)=>{Y(t).subscribe(M(e,()=>e.complete(),zn)),!e.closed&&r.subscribe(e)})}function H(t,r,e){let n=A(t)||r||e?{next:t,error:r,complete:e}:t;return n?x((o,i)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;o.subscribe(M(i,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),i.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),i.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):le}var b=class extends Error{code;constructor(r,e){super(ti(r,e)),this.code=r}};function ti(t,r){return`${`NG0${Math.abs(t)}`}${r?": "+r:""}`}var Bu=Symbol("InputSignalNode#UNSET"),Ig=$(y({},ys),{transformFn:void 0,applyValueToInputSignal(t,r){Jr(t,r)}});function Hu(t,r){let e=Object.create(Ig);e.value=t,e.transformFn=r?.transform;function n(){if(Kr(e),e.value===Bu)throw new b(-950,!1);return e.value}return n[xe]=e,n}function Ta(t){return{toString:t}.toString()}function K(t){for(let r in t)if(t[r]===K)return r;throw Error("Could not find renamed property on target object.")}function be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let r=t.toString();if(r==null)return""+r;let e=r.indexOf(`
`);return e===-1?r:r.substring(0,e)}function iu(t,r){return t==null||t===""?r===null?"":r:r==null||r===""?t:t+" "+r}var Eg=K({__forward_ref__:K});function zu(t){return t.__forward_ref__=zu,t.toString=function(){return be(this())},t}function Ne(t){return Wu(t)?t():t}function Wu(t){return typeof t=="function"&&t.hasOwnProperty(Eg)&&t.__forward_ref__===zu}function p(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ni(t){return su(t,Gu)||su(t,Ku)}function qu(t){return ni(t)!==null}function su(t,r){return t.hasOwnProperty(r)?t[r]:null}function Cg(t){let r=t&&(t[Gu]||t[Ku]);return r||null}function au(t){return t&&(t.hasOwnProperty(cu)||t.hasOwnProperty(bg))?t[cu]:null}var Gu=K({\u0275prov:K}),cu=K({\u0275inj:K}),Ku=K({ngInjectableDef:K}),bg=K({ngInjectorDef:K}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(r,e){this._desc=r,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=p({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Zu(t){return t&&!!t.\u0275providers}var Tg=K({\u0275cmp:K}),Mg=K({\u0275dir:K}),Rg=K({\u0275pipe:K}),Ag=K({\u0275mod:K}),Po=K({\u0275fac:K}),Jn=K({__NG_ELEMENT_ID__:K}),lu=K({__NG_ENV_ID__:K});function Yu(t){return typeof t=="string"?t:t==null?"":String(t)}function _g(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yu(t)}function xg(t,r){let e=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new b(-200,t)}function Ma(t,r){throw new b(-201,!1)}var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(O||{}),Ws;function Qu(){return Ws}function ke(t){let r=Ws;return Ws=t,r}function Ju(t,r,e){let n=ni(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&O.Optional)return null;if(r!==void 0)return r;Ma(t,"Injector")}var kg={},Xn=kg,Ng="__NG_DI_FLAG__",Fo="ngTempTokenPath",Og="ngTokenPath",Pg=/\n/gm,Fg="\u0275",uu="__source",pn;function Lg(){return pn}function vt(t){let r=pn;return pn=t,r}function jg(t,r=O.Default){if(pn===void 0)throw new b(-203,!1);return pn===null?Ju(t,void 0,r):pn.get(t,r&O.Optional?null:void 0,r)}function T(t,r=O.Default){return(Qu()||jg)(Ne(t),r)}function u(t,r=O.Default){return T(t,ri(r))}function ri(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qs(t){let r=[];for(let e=0;e<t.length;e++){let n=Ne(t[e]);if(Array.isArray(n)){if(n.length===0)throw new b(900,!1);let o,i=O.Default;for(let s=0;s<n.length;s++){let a=n[s],c=Ug(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}r.push(T(o,i))}else r.push(T(n))}return r}function Ug(t){return t[Ng]}function Vg(t,r,e,n){let o=t[Fo];throw r[uu]&&o.unshift(r[uu]),t.message=$g(`
`+t.message,o,e,n),t[Og]=o,t[Fo]=null,t}function $g(t,r,e,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Fg?t.slice(2):t;let o=be(r);if(Array.isArray(r))o=r.map(be).join(" -> ");else if(typeof r=="object"){let i=[];for(let s in r)if(r.hasOwnProperty(s)){let a=r[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):be(a)))}o=`{${i.join(", ")}}`}return`${e}${n?"("+n+")":""}[${o}]: ${t.replace(Pg,`
  `)}`}function mn(t,r){let e=t.hasOwnProperty(Po);return e?t[Po]:null}function Ra(t,r){t.forEach(e=>Array.isArray(e)?Ra(e,r):r(e))}function Xu(t,r,e){r>=t.length?t.push(e):t.splice(r,0,e)}function Lo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}var er={},vn=[],yn=new C(""),ed=new C("",-1),td=new C(""),jo=class{get(r,e=Xn){if(e===Xn){let n=new Error(`NullInjectorError: No provider for ${be(r)}!`);throw n.name="NullInjectorError",n}return e}};function nd(t,r){let e=t[Ag]||null;if(!e&&r===!0)throw new Error(`Type ${be(t)} does not have '\u0275mod' property.`);return e}function $t(t){return t[Tg]||null}function rd(t){return t[Mg]||null}function od(t){return t[Rg]||null}function id(t){let r=$t(t)||rd(t)||od(t);return r!==null?r.standalone:!1}function Ct(t){return{\u0275providers:t}}function Bg(...t){return{\u0275providers:sd(!0,t),\u0275fromNgModule:!0}}function sd(t,...r){let e=[],n=new Set,o,i=s=>{e.push(s)};return Ra(r,s=>{let a=s;Gs(a,i,[],n)&&(o||=[],o.push(a))}),o!==void 0&&ad(o,i),e}function ad(t,r){for(let e=0;e<t.length;e++){let{ngModule:n,providers:o}=t[e];Aa(o,i=>{r(i,n)})}}function Gs(t,r,e,n){if(t=Ne(t),!t)return!1;let o=null,i=au(t),s=!i&&$t(t);if(!i&&!s){let c=t.ngModule;if(i=au(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Gs(l,r,e,n)}}else if(i){if(i.imports!=null&&!a){n.add(o);let l;try{Ra(i.imports,d=>{Gs(d,r,e,n)&&(l||=[],l.push(d))})}finally{}l!==void 0&&ad(l,r)}if(!a){let l=mn(o)||(()=>new o);r({provide:o,useFactory:l,deps:vn},o),r({provide:td,useValue:o,multi:!0},o),r({provide:yn,useValue:()=>T(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;Aa(c,d=>{r(d,l)})}}else return!1;return o!==t&&t.providers!==void 0}function Aa(t,r){for(let e of t)Zu(e)&&(e=e.\u0275providers),Array.isArray(e)?Aa(e,r):r(e)}var Hg=K({provide:String,useValue:K});function cd(t){return t!==null&&typeof t=="object"&&Hg in t}function zg(t){return!!(t&&t.useExisting)}function Wg(t){return!!(t&&t.useFactory)}function Ks(t){return typeof t=="function"}var oi=new C(""),_o={},qg={},js;function _a(){return js===void 0&&(js=new jo),js}var ve=class{},tr=class extends ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(r,e,n,o){super(),this.parent=e,this.source=n,this.scopes=o,Ys(r,s=>this.processProvider(s)),this.records.set(ed,dn(void 0,this)),o.has("environment")&&this.records.set(ve,dn(void 0,this));let i=this.records.get(oi);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(td,vn,O.Self))}destroy(){Yn(this),this._destroyed=!0;let r=B(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(r)}}onDestroy(r){return Yn(this),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){Yn(this);let e=vt(this),n=ke(void 0),o;try{return r()}finally{vt(e),ke(n)}}get(r,e=Xn,n=O.Default){if(Yn(this),r.hasOwnProperty(lu))return r[lu](this);n=ri(n);let o,i=vt(this),s=ke(void 0);try{if(!(n&O.SkipSelf)){let c=this.records.get(r);if(c===void 0){let l=Jg(r)&&ni(r);l&&this.injectableDefInScope(l)?c=dn(Zs(r),_o):c=null,this.records.set(r,c)}if(c!=null)return this.hydrate(r,c)}let a=n&O.Self?_a():this.parent;return e=n&O.Optional&&e===Xn?null:e,a.get(r,e)}catch(a){if(a.name==="NullInjectorError"){if((a[Fo]=a[Fo]||[]).unshift(be(r)),i)throw a;return Vg(a,r,"R3InjectorError",this.source)}else throw a}finally{ke(s),vt(i)}}resolveInjectorInitializers(){let r=B(null),e=vt(this),n=ke(void 0),o;try{let i=this.get(yn,vn,O.Self);for(let s of i)s()}finally{vt(e),ke(n),B(r)}}toString(){let r=[],e=this.records;for(let n of e.keys())r.push(be(n));return`R3Injector[${r.join(", ")}]`}processProvider(r){r=Ne(r);let e=Ks(r)?r:Ne(r&&r.provide),n=Kg(r);if(!Ks(r)&&r.multi===!0){let o=this.records.get(e);o||(o=dn(void 0,_o,!0),o.factory=()=>qs(o.multi),this.records.set(e,o)),e=r,o.multi.push(r)}this.records.set(e,n)}hydrate(r,e){let n=B(null);try{return e.value===_o&&(e.value=qg,e.value=e.factory()),typeof e.value=="object"&&e.value&&Qg(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{B(n)}}injectableDefInScope(r){if(!r.providedIn)return!1;let e=Ne(r.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(r){let e=this._onDestroyHooks.indexOf(r);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Zs(t){let r=ni(t),e=r!==null?r.factory:mn(t);if(e!==null)return e;if(t instanceof C)throw new b(204,!1);if(t instanceof Function)return Gg(t);throw new b(204,!1)}function Gg(t){if(t.length>0)throw new b(204,!1);let e=Cg(t);return e!==null?()=>e.factory(t):()=>new t}function Kg(t){if(cd(t))return dn(void 0,t.useValue);{let r=Zg(t);return dn(r,_o)}}function Zg(t,r,e){let n;if(Ks(t)){let o=Ne(t);return mn(o)||Zs(o)}else if(cd(t))n=()=>Ne(t.useValue);else if(Wg(t))n=()=>t.useFactory(...qs(t.deps||[]));else if(zg(t))n=()=>T(Ne(t.useExisting));else{let o=Ne(t&&(t.useClass||t.provide));if(Yg(t))n=()=>new o(...qs(t.deps));else return mn(o)||Zs(o)}return n}function Yn(t){if(t.destroyed)throw new b(205,!1)}function dn(t,r,e=!1){return{factory:t,value:r,multi:e?[]:void 0}}function Yg(t){return!!t.deps}function Qg(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jg(t){return typeof t=="function"||typeof t=="object"&&t instanceof C}function Ys(t,r){for(let e of t)Array.isArray(e)?Ys(e,r):e&&Zu(e)?Ys(e.\u0275providers,r):r(e)}function Me(t,r){t instanceof tr&&Yn(t);let e,n=vt(t),o=ke(void 0);try{return r()}finally{vt(n),ke(o)}}function ld(){return Qu()!==void 0||Lg()!=null}function ud(t){if(!ld())throw new b(-203,!1)}function Xg(t){return typeof t=="function"}var ct=0,L=1,R=2,he=3,Ve=4,$e=5,Uo=6,Vo=7,it=8,wn=9,wt=10,Pe=11,nr=12,du=13,lr=14,qe=15,rr=16,fn=17,ii=18,si=19,dd=20,yt=21,Us=22,$o=23,Te=24,Bt=25,fd=1;var Ht=7,Bo=8,Ho=9,Oe=10,zo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zo||{});function Ut(t){return Array.isArray(t)&&typeof t[fd]=="object"}function lt(t){return Array.isArray(t)&&t[fd]===!0}function hd(t){return(t.flags&4)!==0}function xa(t){return t.componentOffset>-1}function pd(t){return(t.flags&1)===1}function ur(t){return!!t.template}function Qs(t){return(t[R]&512)!==0}var Js=class{previousValue;currentValue;firstChange;constructor(r,e,n){this.previousValue=r,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function gd(t,r,e,n){r!==null?r.applyValueToInputSignal(r,n):t[e]=n}var ka=(()=>{let t=()=>md;return t.ngInherit=!0,t})();function md(t){return t.type.prototype.ngOnChanges&&(t.setInput=tm),em}function em(){let t=yd(this),r=t?.current;if(r){let e=t.previous;if(e===er)t.previous=r;else for(let n in r)e[n]=r[n];t.current=null,this.ngOnChanges(r)}}function tm(t,r,e,n,o){let i=this.declaredInputs[n],s=yd(t)||nm(t,{previous:er,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Js(l&&l.currentValue,e,c===er),gd(t,r,o,e)}var vd="__ngSimpleChanges__";function yd(t){return t[vd]||null}function nm(t,r){return t[vd]=r}var fu=null;var ze=function(t,r,e){fu?.(t,r,e)},rm="svg",om="math";function Ge(t){for(;Array.isArray(t);)t=t[ct];return t}function im(t,r){return Ge(r[t])}function Ze(t,r){return Ge(r[t.index])}function sm(t,r){return t.data[r]}function En(t,r){let e=r[t];return Ut(e)?e:e[ct]}function Na(t){return(t[R]&128)===128}function am(t){return lt(t[he])}function hu(t,r){return r==null?null:t[r]}function wd(t){t[fn]=0}function Oa(t){t[R]&1024||(t[R]|=1024,Na(t)&&ci(t))}function ai(t){return!!(t[R]&9216||t[Te]?.dirty)}function Xs(t){t[wt].changeDetectionScheduler?.notify(9),t[R]&64&&(t[R]|=1024),ai(t)&&ci(t)}function ci(t){t[wt].changeDetectionScheduler?.notify(0);let r=zt(t);for(;r!==null&&!(r[R]&8192||(r[R]|=8192,!Na(r)));)r=zt(r)}function Dd(t,r){if((t[R]&256)===256)throw new b(911,!1);t[yt]===null&&(t[yt]=[]),t[yt].push(r)}function cm(t,r){if(t[yt]===null)return;let e=t[yt].indexOf(r);e!==-1&&t[yt].splice(e,1)}function zt(t){let r=t[he];return lt(r)?r[he]:r}var z={lFrame:Rd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ea=!1;function lm(){return z.lFrame.elementDepthCount}function um(){z.lFrame.elementDepthCount++}function dm(){z.lFrame.elementDepthCount--}function Sd(){return z.bindingsEnabled}function fm(){return z.skipHydrationRootTNode!==null}function hm(t){return z.skipHydrationRootTNode===t}function pm(){z.skipHydrationRootTNode=null}function ye(){return z.lFrame.lView}function dr(){return z.lFrame.tView}function Ye(){let t=Id();for(;t!==null&&t.type===64;)t=t.parent;return t}function Id(){return z.lFrame.currentTNode}function gm(){let t=z.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function li(t,r){let e=z.lFrame;e.currentTNode=t,e.isParent=r}function Ed(){return z.lFrame.isParent}function mm(){z.lFrame.isParent=!1}function Cd(){return ea}function pu(t){let r=ea;return ea=t,r}function vm(t){return z.lFrame.bindingIndex=t}function ym(){return z.lFrame.bindingIndex++}function wm(){return z.lFrame.inI18n}function Dm(t,r){let e=z.lFrame;e.bindingIndex=e.bindingRootIndex=t,ta(r)}function Sm(){return z.lFrame.currentDirectiveIndex}function ta(t){z.lFrame.currentDirectiveIndex=t}function bd(t){z.lFrame.currentQueryIndex=t}function Im(t){let r=t[L];return r.type===2?r.declTNode:r.type===1?t[$e]:null}function Td(t,r,e){if(e&O.SkipSelf){let o=r,i=t;for(;o=o.parent,o===null&&!(e&O.Host);)if(o=Im(i),o===null||(i=i[lr],o.type&10))break;if(o===null)return!1;r=o,t=i}let n=z.lFrame=Md();return n.currentTNode=r,n.lView=t,!0}function Pa(t){let r=Md(),e=t[L];z.lFrame=r,r.currentTNode=e.firstChild,r.lView=t,r.tView=e,r.contextLView=t,r.bindingIndex=e.bindingStartIndex,r.inI18n=!1}function Md(){let t=z.lFrame,r=t===null?null:t.child;return r===null?Rd(t):r}function Rd(t){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=r),r}function Ad(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _d=Ad;function Fa(){let t=Ad();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function La(){return z.lFrame.selectedIndex}function Wt(t){z.lFrame.selectedIndex=t}function Em(){return z.lFrame.currentNamespace}var xd=!0;function kd(){return xd}function Nd(t){xd=t}function Cm(t,r,e){let{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=r.type.prototype;if(n){let s=md(r);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}o&&(e.preOrderHooks??=[]).push(0-t,o),i&&((e.preOrderHooks??=[]).push(t,i),(e.preOrderCheckHooks??=[]).push(t,i))}function Od(t,r){for(let e=r.directiveStart,n=r.directiveEnd;e<n;e++){let i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=i;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),d!=null&&(t.destroyHooks??=[]).push(e,d)}}function xo(t,r,e){Pd(t,r,3,e)}function ko(t,r,e,n){(t[R]&3)===e&&Pd(t,r,e,n)}function Vs(t,r){let e=t[R];(e&3)===r&&(e&=16383,e+=1,t[R]=e)}function Pd(t,r,e,n){let o=n!==void 0?t[fn]&65535:0,i=n??-1,s=r.length-1,a=0;for(let c=o;c<s;c++)if(typeof r[c+1]=="number"){if(a=r[c],n!=null&&a>=n)break}else r[c]<0&&(t[fn]+=65536),(a<i||i==-1)&&(bm(t,e,r,c),t[fn]=(t[fn]&4294901760)+c+2),c++}function gu(t,r){ze(4,t,r);let e=B(null);try{r.call(t)}finally{B(e),ze(5,t,r)}}function bm(t,r,e,n){let o=e[n]<0,i=e[n+1],s=o?-e[n]:e[n],a=t[s];o?t[R]>>14<t[fn]>>16&&(t[R]&3)===r&&(t[R]+=16384,gu(a,i)):gu(a,i)}var gn=-1,or=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(r,e,n){this.factory=r,this.canSeeViewProviders=e,this.injectImpl=n}};function Tm(t){return t instanceof or}function Mm(t){return(t.flags&8)!==0}function Rm(t){return(t.flags&16)!==0}function na(t,r,e){let n=0;for(;n<e.length;){let o=e[n];if(typeof o=="number"){if(o!==0)break;n++;let i=e[n++],s=e[n++],a=e[n++];t.setAttribute(r,s,a,i)}else{let i=o,s=e[++n];_m(i)?t.setProperty(r,i,s):t.setAttribute(r,i,s),n++}}return n}function Am(t){return t===3||t===4||t===6}function _m(t){return t.charCodeAt(0)===64}function ja(t,r){if(!(r===null||r.length===0))if(t===null||t.length===0)t=r.slice();else{let e=-1;for(let n=0;n<r.length;n++){let o=r[n];typeof o=="number"?e=o:e===0||(e===-1||e===2?mu(t,e,o,null,r[++n]):mu(t,e,o,null,null))}}return t}function mu(t,r,e,n,o){let i=0,s=t.length;if(r===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===r){s=-1;break}else if(a>r){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===e){if(n===null){o!==null&&(t[i+1]=o);return}else if(n===t[i+1]){t[i+2]=o;return}}i++,n!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,r),i=s+1),t.splice(i++,0,e),n!==null&&t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}var $s={},ra=class{injector;parentInjector;constructor(r,e){this.injector=r,this.parentInjector=e}get(r,e,n){n=ri(n);let o=this.injector.get(r,$s,n);return o!==$s||e===$s?o:this.parentInjector.get(r,e,n)}};function Fd(t){return t!==gn}function Wo(t){return t&32767}function xm(t){return t>>16}function qo(t,r){let e=xm(t),n=r;for(;e>0;)n=n[lr],e--;return n}var oa=!0;function vu(t){let r=oa;return oa=t,r}var km=256,Ld=km-1,jd=5,Nm=0,We={};function Om(t,r,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(Jn)&&(n=e[Jn]),n==null&&(n=e[Jn]=Nm++);let o=n&Ld,i=1<<o;r.data[t+(o>>jd)]|=i}function Ud(t,r){let e=Vd(t,r);if(e!==-1)return e;let n=r[L];n.firstCreatePass&&(t.injectorIndex=r.length,Bs(n.data,t),Bs(r,null),Bs(n.blueprint,null));let o=Ua(t,r),i=t.injectorIndex;if(Fd(o)){let s=Wo(o),a=qo(o,r),c=a[L].data;for(let l=0;l<8;l++)r[i+l]=a[s+l]|c[s+l]}return r[i+8]=o,i}function Bs(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Vd(t,r){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||r[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ua(t,r){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,n=null,o=r;for(;o!==null;){if(n=Wd(o),n===null)return gn;if(e++,o=o[lr],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return gn}function Pm(t,r,e){Om(t,r,e)}function $d(t,r,e){if(e&O.Optional||t!==void 0)return t;Ma(r,"NodeInjector")}function Bd(t,r,e,n){if(e&O.Optional&&n===void 0&&(n=null),!(e&(O.Self|O.Host))){let o=t[wn],i=ke(void 0);try{return o?o.get(r,n,e&O.Optional):Ju(r,n,e&O.Optional)}finally{ke(i)}}return $d(n,r,e)}function Hd(t,r,e,n=O.Default,o){if(t!==null){if(r[R]&2048&&!(n&O.Self)){let s=Vm(t,r,e,n,We);if(s!==We)return s}let i=zd(t,r,e,n,We);if(i!==We)return i}return Bd(r,e,n,o)}function zd(t,r,e,n,o){let i=jm(e);if(typeof i=="function"){if(!Td(r,t,n))return n&O.Host?$d(o,e,n):Bd(r,e,n,o);try{let s;if(s=i(n),s==null&&!(n&O.Optional))Ma(e);else return s}finally{_d()}}else if(typeof i=="number"){let s=null,a=Vd(t,r),c=gn,l=n&O.Host?r[qe][$e]:null;for((a===-1||n&O.SkipSelf)&&(c=a===-1?Ua(t,r):r[a+8],c===gn||!wu(n,!1)?a=-1:(s=r[L],a=Wo(c),r=qo(c,r)));a!==-1;){let d=r[L];if(yu(i,a,d.data)){let f=Fm(a,r,e,s,n,l);if(f!==We)return f}c=r[a+8],c!==gn&&wu(n,r[L].data[a+8]===l)&&yu(i,a,r)?(s=d,a=Wo(c),r=qo(c,r)):a=-1}}return o}function Fm(t,r,e,n,o,i){let s=r[L],a=s.data[t+8],c=n==null?xa(a)&&oa:n!=s&&(a.type&3)!==0,l=o&O.Host&&i===a,d=Lm(a,s,e,c,l);return d!==null?ir(r,s,d,a):We}function Lm(t,r,e,n,o){let i=t.providerIndexes,s=r.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,d=i>>20,f=n?a:a+d,g=o?a+d:l;for(let h=f;h<g;h++){let v=s[h];if(h<c&&e===v||h>=c&&v.type===e)return h}if(o){let h=s[c];if(h&&ur(h)&&h.type===e)return c}return null}function ir(t,r,e,n){let o=t[e],i=r.data;if(Tm(o)){let s=o;s.resolving&&xg(_g(i[e]));let a=vu(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ke(s.injectImpl):null,d=Td(t,n,O.Default);try{o=t[e]=s.factory(void 0,i,t,n),r.firstCreatePass&&e>=n.directiveStart&&Cm(e,i[e],r)}finally{l!==null&&ke(l),vu(a),s.resolving=!1,_d()}}return o}function jm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let r=t.hasOwnProperty(Jn)?t[Jn]:void 0;return typeof r=="number"?r>=0?r&Ld:Um:r}function yu(t,r,e){let n=1<<t;return!!(e[r+(t>>jd)]&n)}function wu(t,r){return!(t&O.Self)&&!(t&O.Host&&r)}var Vt=class{_tNode;_lView;constructor(r,e){this._tNode=r,this._lView=e}get(r,e,n){return Hd(this._tNode,this._lView,r,ri(n),e)}};function Um(){return new Vt(Ye(),ye())}function Va(t){return Ta(()=>{let r=t.prototype.constructor,e=r[Po]||ia(r),n=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==n;){let i=o[Po]||ia(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ia(t){return Wu(t)?()=>{let r=ia(Ne(t));return r&&r()}:mn(t)}function Vm(t,r,e,n,o){let i=t,s=r;for(;i!==null&&s!==null&&s[R]&2048&&!(s[R]&512);){let a=zd(i,s,e,n|O.Self,We);if(a!==We)return a;let c=i.parent;if(!c){let l=s[dd];if(l){let d=l.get(e,We,n);if(d!==We)return d}c=Wd(s),s=s[lr]}i=c}return o}function Wd(t){let r=t[L],e=r.type;return e===2?r.declTNode:e===1?t[$e]:null}function Du(t,r=null,e=null,n){let o=qd(t,r,e,n);return o.resolveInjectorInitializers(),o}function qd(t,r=null,e=null,n,o=new Set){let i=[e||vn,Bg(t)];return n=n||(typeof t=="object"?void 0:be(t)),new tr(i,r||_a(),n||null,o)}var st=class t{static THROW_IF_NOT_FOUND=Xn;static NULL=new jo;static create(r,e){if(Array.isArray(r))return Du({name:""},e,r,"");{let n=r.name??"";return Du({name:n},r.parent,r.providers,n)}}static \u0275prov=p({token:t,providedIn:"any",factory:()=>T(ed)});static __NG_ELEMENT_ID__=-1};var $m=new C("");$m.__NG_ELEMENT_ID__=t=>{let r=Ye();if(r===null)throw new b(204,!1);if(r.type&2)return r.value;if(t&O.Optional)return null;throw new b(204,!1)};var Gd=!1,fr=(()=>{class t{static __NG_ELEMENT_ID__=Bm;static __NG_ENV_ID__=e=>e}return t})(),sa=class extends fr{_lView;constructor(r){super(),this._lView=r}onDestroy(r){return Dd(this._lView,r),()=>cm(this._lView,r)}};function Bm(){return new sa(ye())}var sr=class{},ui=new C("",{providedIn:"root",factory:()=>!1});var Kd=new C(""),Zd=new C(""),ut=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=p({token:t,providedIn:"root",factory:()=>new t})}return t})();var aa=class extends X{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(r=!1){super(),this.__isAsync=r,ld()&&(this.destroyRef=u(fr,{optional:!0})??void 0,this.pendingTasks=u(ut,{optional:!0})??void 0)}emit(r){let e=B(null);try{super.next(r)}finally{B(e)}}subscribe(r,e,n){let o=r,i=e||(()=>null),s=n;if(r&&typeof r=="object"){let c=r;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return r instanceof re&&r.add(a),a}wrapInTimeout(r){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{r(e),n!==void 0&&this.pendingTasks?.remove(n)})}}},Ce=aa;function Go(...t){}function Yd(t){let r,e;function n(){t=Go;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),r!==void 0&&clearTimeout(r)}catch{}}return r=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),n()})),()=>n()}function Su(t){return queueMicrotask(()=>t()),()=>{t=Go}}var $a="isAngularZone",Ko=$a+"_ID",Hm=0,ee=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(r){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Gd}=r;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&n,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,qm(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($a)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(r,e,n){return this._inner.run(r,e,n)}runTask(r,e,n,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,r,zm,Go,Go);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(r,e,n){return this._inner.runGuarded(r,e,n)}runOutsideAngular(r){return this._outer.run(r)}},zm={};function Ba(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Wm(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function r(){Yd(()=>{t.callbackScheduled=!1,ca(t),t.isCheckStableRunning=!0,Ba(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{r()}):t._outer.run(()=>{r()}),ca(t)}function qm(t){let r=()=>{Wm(t)},e=Hm++;t._inner=t._inner.fork({name:"angular",properties:{[$a]:!0,[Ko]:e,[Ko+e]:!0},onInvokeTask:(n,o,i,s,a,c)=>{if(Gm(c))return n.invokeTask(i,s,a,c);try{return Iu(t),n.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&r(),Eu(t)}},onInvoke:(n,o,i,s,a,c,l)=>{try{return Iu(t),n.invoke(i,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Km(c)&&r(),Eu(t)}},onHasTask:(n,o,i,s)=>{n.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ca(t),Ba(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,o,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ca(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Iu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Eu(t){t._nesting--,Ba(t)}var la=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(r,e,n){return r.apply(e,n)}runGuarded(r,e,n){return r.apply(e,n)}runOutsideAngular(r){return r()}runTask(r,e,n,o){return r.apply(e,n)}};function Gm(t){return Qd(t,"__ignore_ng_zone__")}function Km(t){return Qd(t,"__scheduler_tick__")}function Qd(t,r){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[r]===!0}var Dt=class{_console=console;handleError(r){this._console.error("ERROR",r)}},Zm=new C("",{providedIn:"root",factory:()=>{let t=u(ee),r=u(Dt);return e=>t.runOutsideAngular(()=>r.handleError(e))}});function Cu(t,r){return Hu(t,r)}function Ym(t){return Hu(Bu,t)}var Jd=(Cu.required=Ym,Cu);function Qm(){return Ha(Ye(),ye())}function Ha(t,r){return new di(Ze(t,r))}var di=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Qm}return t})();function Xd(t){return(t.flags&128)===128}var ef=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ef||{}),tf=new Map,Jm=0;function Xm(){return Jm++}function ev(t){tf.set(t[si],t)}function ua(t){tf.delete(t[si])}var bu="__ngContext__";function Dn(t,r){Ut(r)?(t[bu]=r[si],ev(r)):t[bu]=r}function nf(t){return of(t[nr])}function rf(t){return of(t[Ve])}function of(t){for(;t!==null&&!lt(t);)t=t[Ve];return t}var da;function sf(t){da=t}function tv(){if(da!==void 0)return da;if(typeof document<"u")return document;throw new b(210,!1)}var za=new C("",{providedIn:"root",factory:()=>nv}),nv="ng",Wa=new C(""),Qe=new C("",{providedIn:"platform",factory:()=>"unknown"});var qa=new C("",{providedIn:"root",factory:()=>tv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rv="h",ov="b";var af=!1,iv=new C("",{providedIn:"root",factory:()=>af});var cf=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(cf||{}),lf=new C(""),Tu=new Set;function Cn(t){Tu.has(t)||(Tu.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var sv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=p({token:t,providedIn:"root",factory:()=>new t})}return t})();var av=()=>null;function Ga(t,r,e=!1){return av(t,r,e)}var Ke=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ke||{});function uf(t){return t instanceof Function?t():t}var St=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(St||{}),qt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qt||{}),cv;function Ka(t,r){return cv(t,r)}function hn(t,r,e,n,o){if(n!=null){let i,s=!1;lt(n)?i=n:Ut(n)&&(s=!0,n=n[ct]);let a=Ge(n);t===0&&e!==null?o==null?gf(r,e,a):Zo(r,e,a,o||null,!0):t===1&&e!==null?Zo(r,e,a,o||null,!0):t===2?Ev(r,a,s):t===3&&r.destroyNode(a),i!=null&&bv(r,t,i,e,o)}}function lv(t,r){return t.createText(r)}function uv(t,r,e){t.setValue(r,e)}function df(t,r,e){return t.createElement(r,e)}function dv(t,r){ff(t,r),r[ct]=null,r[$e]=null}function fv(t,r,e,n,o,i){n[ct]=o,n[$e]=r,fi(t,n,e,1,o,i)}function ff(t,r){r[wt].changeDetectionScheduler?.notify(10),fi(t,r,r[Pe],2,null,null)}function hv(t){let r=t[nr];if(!r)return Hs(t[L],t);for(;r;){let e=null;if(Ut(r))e=r[nr];else{let n=r[Oe];n&&(e=n)}if(!e){for(;r&&!r[Ve]&&r!==t;)Ut(r)&&Hs(r[L],r),r=r[he];r===null&&(r=t),Ut(r)&&Hs(r[L],r),e=r&&r[Ve]}r=e}}function pv(t,r,e,n){let o=Oe+n,i=e.length;n>0&&(e[o-1][Ve]=r),n<i-Oe?(r[Ve]=e[o],Xu(e,Oe+n,r)):(e.push(r),r[Ve]=null),r[he]=e;let s=r[rr];s!==null&&e!==s&&hf(s,r);let a=r[ii];a!==null&&a.insertView(t),Xs(r),r[R]|=128}function hf(t,r){let e=t[Ho],n=r[he];if(Ut(n))t[R]|=zo.HasTransplantedViews;else{let o=n[he][qe];r[qe]!==o&&(t[R]|=zo.HasTransplantedViews)}e===null?t[Ho]=[r]:e.push(r)}function Za(t,r){let e=t[Ho],n=e.indexOf(r);e.splice(n,1)}function fa(t,r){if(t.length<=Oe)return;let e=Oe+r,n=t[e];if(n){let o=n[rr];o!==null&&o!==t&&Za(o,n),r>0&&(t[e-1][Ve]=n[Ve]);let i=Lo(t,Oe+r);dv(n[L],n);let s=i[ii];s!==null&&s.detachView(i[L]),n[he]=null,n[Ve]=null,n[R]&=-129}return n}function pf(t,r){if(!(r[R]&256)){let e=r[Pe];e.destroyNode&&fi(t,r,e,3,null,null),hv(r)}}function Hs(t,r){if(r[R]&256)return;let e=B(null);try{r[R]&=-129,r[R]|=256,r[Te]&&vs(r[Te]),mv(t,r),gv(t,r),r[L].type===1&&r[Pe].destroy();let n=r[rr];if(n!==null&&lt(r[he])){n!==r[he]&&Za(n,r);let o=r[ii];o!==null&&o.detachView(t)}ua(r)}finally{B(e)}}function gv(t,r){let e=t.cleanup,n=r[Vo];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?n[a]():n[-a].unsubscribe(),s+=2}else{let a=n[e[s+1]];e[s].call(a)}n!==null&&(r[Vo]=null);let o=r[yt];if(o!==null){r[yt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=r[$o];if(i!==null){r[$o]=null;for(let s of i)s.destroy()}}function mv(t,r){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let o=r[e[n]];if(!(o instanceof or)){let i=e[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ze(4,a,c);try{c.call(a)}finally{ze(5,a,c)}}else{ze(4,o,i);try{i.call(o)}finally{ze(5,o,i)}}}}}function vv(t,r,e){return yv(t,r.parent,e)}function yv(t,r,e){let n=r;for(;n!==null&&n.type&168;)r=n,n=r.parent;if(n===null)return e[ct];{let{componentOffset:o}=n;if(o>-1){let{encapsulation:i}=t.data[n.directiveStart+o];if(i===Ke.None||i===Ke.Emulated)return null}return Ze(n,e)}}function Zo(t,r,e,n,o){t.insertBefore(r,e,n,o)}function gf(t,r,e){t.appendChild(r,e)}function Mu(t,r,e,n,o){n!==null?Zo(t,r,e,n,o):gf(t,r,e)}function mf(t,r){return t.parentNode(r)}function wv(t,r){return t.nextSibling(r)}function Dv(t,r,e){return Iv(t,r,e)}function Sv(t,r,e){return t.type&40?Ze(t,e):null}var Iv=Sv,Ru;function vf(t,r,e,n){let o=vv(t,n,r),i=r[Pe],s=n.parent||r[$e],a=Dv(s,n,r);if(o!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)Mu(i,o,e[c],a,!1);else Mu(i,o,e,a,!1);Ru!==void 0&&Ru(i,n,r,e,o)}function Qn(t,r){if(r!==null){let e=r.type;if(e&3)return Ze(r,t);if(e&4)return ha(-1,t[r.index]);if(e&8){let n=r.child;if(n!==null)return Qn(t,n);{let o=t[r.index];return lt(o)?ha(-1,o):Ge(o)}}else{if(e&128)return Qn(t,r.next);if(e&32)return Ka(r,t)()||Ge(t[r.index]);{let n=yf(t,r);if(n!==null){if(Array.isArray(n))return n[0];let o=zt(t[qe]);return Qn(o,n)}else return Qn(t,r.next)}}}return null}function yf(t,r){if(r!==null){let n=t[qe][$e],o=r.projection;return n.projection[o]}return null}function ha(t,r){let e=Oe+t+1;if(e<r.length){let n=r[e],o=n[L].firstChild;if(o!==null)return Qn(n,o)}return r[Ht]}function Ev(t,r,e){t.removeChild(null,r,e)}function Ya(t,r,e,n,o,i,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let a=n[e.index],c=e.type;if(s&&r===0&&(a&&Dn(Ge(a),n),e.flags|=2),(e.flags&32)!==32)if(c&8)Ya(t,r,e.child,n,o,i,!1),hn(r,t,o,a,i);else if(c&32){let l=Ka(e,n),d;for(;d=l();)hn(r,t,o,d,i);hn(r,t,o,a,i)}else c&16?Cv(t,r,n,e,o,i):hn(r,t,o,a,i);e=s?e.projectionNext:e.next}}function fi(t,r,e,n,o,i){Ya(e,n,t.firstChild,r,o,i,!1)}function Cv(t,r,e,n,o,i){let s=e[qe],c=s[$e].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];hn(r,t,o,d,i)}else{let l=c,d=s[he];Xd(n)&&(l.flags|=128),Ya(t,r,l,d,o,i,!0)}}function bv(t,r,e,n,o){let i=e[Ht],s=Ge(e);i!==s&&hn(r,t,n,i,o);for(let a=Oe;a<e.length;a++){let c=e[a];fi(c[L],c,t,r,n,i)}}function Tv(t,r,e){t.setAttribute(r,"style",e)}function wf(t,r,e){e===""?t.removeAttribute(r,"class"):t.setAttribute(r,"class",e)}function Df(t,r,e){let{mergedAttrs:n,classes:o,styles:i}=e;n!==null&&na(t,r,n),o!==null&&wf(t,r,o),i!==null&&Tv(t,r,i)}function Mv(t,r,e){let n=t.length;for(;;){let o=t.indexOf(r,e);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=r.length;if(o+i===n||t.charCodeAt(o+i)<=32)return o}e=o+1}}var Sf="ng-template";function Rv(t,r,e,n){let o=0;if(n){for(;o<r.length&&typeof r[o]=="string";o+=2)if(r[o]==="class"&&Mv(r[o+1].toLowerCase(),e,0)!==-1)return!0}else if(Qa(t))return!1;if(o=r.indexOf(1,o),o>-1){let i;for(;++o<r.length&&typeof(i=r[o])=="string";)if(i.toLowerCase()===e)return!0}return!1}function Qa(t){return t.type===4&&t.value!==Sf}function Av(t,r,e){let n=t.type===4&&!e?Sf:t.value;return r===n}function _v(t,r,e){let n=4,o=t.attrs,i=o!==null?Nv(o):0,s=!1;for(let a=0;a<r.length;a++){let c=r[a];if(typeof c=="number"){if(!s&&!Ue(n)&&!Ue(c))return!1;if(s&&Ue(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!Av(t,c,e)||c===""&&r.length===1){if(Ue(n))return!1;s=!0}}else if(n&8){if(o===null||!Rv(t,o,c,e)){if(Ue(n))return!1;s=!0}}else{let l=r[++a],d=xv(c,o,Qa(t),e);if(d===-1){if(Ue(n))return!1;s=!0;continue}if(l!==""){let f;if(d>i?f="":f=o[d+1].toLowerCase(),n&2&&l!==f){if(Ue(n))return!1;s=!0}}}}return Ue(n)||s}function Ue(t){return(t&1)===0}function xv(t,r,e,n){if(r===null)return-1;let o=0;if(n||!e){let i=!1;for(;o<r.length;){let s=r[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=r[++o];for(;typeof a=="string";)a=r[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Ov(r,t)}function kv(t,r,e=!1){for(let n=0;n<r.length;n++)if(_v(t,r[n],e))return!0;return!1}function Nv(t){for(let r=0;r<t.length;r++){let e=t[r];if(Am(e))return r}return t.length}function Ov(t,r){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let n=t[e];if(typeof n=="number")return-1;if(n===r)return e;e++}return-1}function Au(t,r){return t?":not("+r.trim()+")":r}function Pv(t){let r=t[0],e=1,n=2,o="",i=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(n&2){let a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?o+="."+s:n&4&&(o+=" "+s);else o!==""&&!Ue(s)&&(r+=Au(i,o),o=""),n=s,i=i||!Ue(n);e++}return o!==""&&(r+=Au(i,o)),r}function Fv(t){return t.map(Pv).join(",")}function Lv(t){let r=[],e=[],n=1,o=2;for(;n<t.length;){let i=t[n];if(typeof i=="string")o===2?i!==""&&r.push(i,t[++n]):o===8&&e.push(i);else{if(!Ue(o))break;o=i}n++}return{attrs:r,classes:e}}var hi={};function Ja(t=1){If(dr(),ye(),La()+t,!1)}function If(t,r,e,n){if(!n)if((r[R]&3)===3){let i=t.preOrderCheckHooks;i!==null&&xo(r,i,e)}else{let i=t.preOrderHooks;i!==null&&ko(r,i,0,e)}Wt(e)}function dt(t,r=O.Default){let e=ye();if(e===null)return T(t,r);let n=Ye();return Hd(n,e,Ne(t),r)}function Ef(t,r,e,n,o,i){let s=B(null);try{let a=null;o&St.SignalBased&&(a=r[n][xe]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&St.HasDecoratorInputTransform&&(i=t.inputTransforms[n].call(r,i)),t.setInput!==null?t.setInput(r,a,i,e,n):gd(r,a,n,i)}finally{B(s)}}function jv(t,r){let e=t.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let o=e[n];if(o<0)Wt(~o);else{let i=o,s=e[++n],a=e[++n];Dm(s,i);let c=r[i];a(2,c)}}}finally{Wt(-1)}}function Xa(t,r,e,n,o,i,s,a,c,l,d){let f=r.blueprint.slice();return f[ct]=o,f[R]=n|4|128|8|64|1024,(l!==null||t&&t[R]&2048)&&(f[R]|=2048),wd(f),f[he]=f[lr]=t,f[it]=e,f[wt]=s||t&&t[wt],f[Pe]=a||t&&t[Pe],f[wn]=c||t&&t[wn]||null,f[$e]=i,f[si]=Xm(),f[Uo]=d,f[dd]=l,f[qe]=r.type==2?t[qe]:f,f}function ec(t,r,e,n,o){let i=t.data[r];if(i===null)i=Uv(t,r,e,n,o),wm()&&(i.flags|=32);else if(i.type&64){i.type=e,i.value=n,i.attrs=o;let s=gm();i.injectorIndex=s===null?-1:s.injectorIndex}return li(i,!0),i}function Uv(t,r,e,n,o){let i=Id(),s=Ed(),a=s?i:i&&i.parent,c=t.data[r]=qv(t,a,e,r,n,o);return t.firstChild===null&&(t.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Cf(t,r,e,n){if(e===0)return-1;let o=r.length;for(let i=0;i<e;i++)r.push(n),t.blueprint.push(n),t.data.push(null);return o}function bf(t,r,e,n,o){let i=La(),s=n&2;try{Wt(-1),s&&r.length>Bt&&If(t,r,Bt,!1),ze(s?2:0,o),e(n,o)}finally{Wt(i),ze(s?3:1,o)}}function Tf(t,r,e){if(hd(r)){let n=B(null);try{let o=r.directiveStart,i=r.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=e[s];a.contentQueries(1,c,s)}}}finally{B(n)}}}function Vv(t,r,e){Sd()&&(Qv(t,r,e,Ze(e,r)),(e.flags&64)===64&&_f(t,r,e))}function $v(t,r,e=Ze){let n=r.localNames;if(n!==null){let o=r.index+1;for(let i=0;i<n.length;i+=2){let s=n[i+1],a=s===-1?e(r,t):t[s];t[o++]=a}}}function Mf(t){let r=t.tView;return r===null||r.incompleteFirstPass?t.tView=Rf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Rf(t,r,e,n,o,i,s,a,c,l,d){let f=Bt+n,g=f+o,h=Bv(f,g),v=typeof l=="function"?l():l;return h[L]={type:t,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:r,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}function Bv(t,r){let e=[];for(let n=0;n<r;n++)e.push(n<t?null:hi);return e}function Hv(t,r,e,n){let i=n.get(iv,af)||e===Ke.ShadowDom,s=t.selectRootElement(r,i);return zv(s),s}function zv(t){Wv(t)}var Wv=()=>null;function qv(t,r,e,n,o,i){let s=r?r.injectorIndex:-1,a=0;return fm()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _u(t,r,e,n,o){for(let i in r){if(!r.hasOwnProperty(i))continue;let s=r[i];if(s===void 0)continue;n??={};let a,c=St.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}t===0?xu(n,e,l,a,c):xu(n,e,l,a)}return n}function xu(t,r,e,n,o){let i;t.hasOwnProperty(e)?(i=t[e]).push(r,n):i=t[e]=[r,n],o!==void 0&&i.push(o)}function Gv(t,r,e){let n=r.directiveStart,o=r.directiveEnd,i=t.data,s=r.attrs,a=[],c=null,l=null;for(let d=n;d<o;d++){let f=i[d],g=e?e.get(f):null,h=g?g.inputs:null,v=g?g.outputs:null;c=_u(0,f.inputs,d,c,h),l=_u(1,f.outputs,d,l,v);let D=c!==null&&s!==null&&!Qa(r)?sy(c,d,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(r.flags|=8),c.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=a,r.inputs=c,r.outputs=l}function Kv(t,r,e,n){if(Sd()){let o=n===null?null:{"":-1},i=Xv(t,e),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Af(t,r,e,s,o,a),o&&ey(e,n,o)}e.mergedAttrs=ja(e.mergedAttrs,e.attrs)}function Af(t,r,e,n,o,i){for(let l=0;l<n.length;l++)Pm(Ud(e,r),t,n[l].type);ny(e,t.data.length,n.length);for(let l=0;l<n.length;l++){let d=n[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Cf(t,r,n.length,null);for(let l=0;l<n.length;l++){let d=n[l];e.mergedAttrs=ja(e.mergedAttrs,d.hostAttrs),ry(t,e,r,c,d),ty(c,d,o),d.contentQueries!==null&&(e.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(e.flags|=64);let f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}Gv(t,e,i)}function Zv(t,r,e,n,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~r.index;Yv(s)!=a&&s.push(a),s.push(e,n,i)}}function Yv(t){let r=t.length;for(;r>0;){let e=t[--r];if(typeof e=="number"&&e<0)return e}return 0}function Qv(t,r,e,n){let o=e.directiveStart,i=e.directiveEnd;xa(e)&&oy(r,e,t.data[o+e.componentOffset]),t.firstCreatePass||Ud(e,r),Dn(n,r);let s=e.initialInputs;for(let a=o;a<i;a++){let c=t.data[a],l=ir(r,t,a,e);if(Dn(l,r),s!==null&&iy(r,a-o,l,c,e,s),ur(c)){let d=En(e.index,r);d[it]=ir(r,t,a,e)}}}function _f(t,r,e){let n=e.directiveStart,o=e.directiveEnd,i=e.index,s=Sm();try{Wt(i);for(let a=n;a<o;a++){let c=t.data[a],l=r[a];ta(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Jv(c,l)}}finally{Wt(-1),ta(s)}}function Jv(t,r){t.hostBindings!==null&&t.hostBindings(1,r)}function Xv(t,r){let e=t.directiveRegistry,n=null,o=null;if(e)for(let i=0;i<e.length;i++){let s=e[i];if(kv(r,s.selectors,!1))if(n||(n=[]),ur(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s);let c=a.length;pa(t,r,c)}else n.unshift(s),pa(t,r,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return n===null?null:[n,o]}function pa(t,r,e){r.componentOffset=e,(t.components??=[]).push(r.index)}function ey(t,r,e){if(r){let n=t.localNames=[];for(let o=0;o<r.length;o+=2){let i=e[r[o+1]];if(i==null)throw new b(-301,!1);n.push(r[o],i)}}}function ty(t,r,e){if(e){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)e[r.exportAs[n]]=t;ur(r)&&(e[""]=t)}}function ny(t,r,e){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+e,t.providerIndexes=r}function ry(t,r,e,n,o){t.data[n]=o;let i=o.factory||(o.factory=mn(o.type,!0)),s=new or(i,ur(o),dt);t.blueprint[n]=s,e[n]=s,Zv(t,r,n,Cf(t,e,o.hostVars,hi),o)}function xf(t){let r=16;return t.signals?r=4096:t.onPush&&(r=64),r}function oy(t,r,e){let n=Ze(r,t),o=Mf(e),i=t[wt].rendererFactory,s=tc(t,Xa(t,o,null,xf(e),n,r,null,i.createRenderer(n,e),null,null,null));t[r.index]=s}function iy(t,r,e,n,o,i){let s=i[r];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],d=s[a++],f=s[a++];Ef(n,e,c,l,d,f)}}function sy(t,r,e){let n=null,o=0;for(;o<e.length;){let i=e[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){n===null&&(n=[]);let s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===r){n.push(i,s[a+1],s[a+2],e[o+1]);break}}o+=2}return n}function ay(t,r,e,n){return[t,!0,0,r,null,n,null,e,null,null]}function kf(t,r){let e=t.contentQueries;if(e!==null){let n=B(null);try{for(let o=0;o<e.length;o+=2){let i=e[o],s=e[o+1];if(s!==-1){let a=t.data[s];bd(i),a.contentQueries(2,r[s],s)}}}finally{B(n)}}}function tc(t,r){return t[nr]?t[du][Ve]=r:t[nr]=r,t[du]=r,r}function ga(t,r,e){bd(0);let n=B(null);try{r(t,e)}finally{B(n)}}function cy(t){return t[Vo]??=[]}function ly(t){return t.cleanup??=[]}function Nf(t,r){let e=t[wn],n=e?e.get(Dt,null):null;n&&n.handleError(r)}function Of(t,r,e,n,o){for(let i=0;i<e.length;){let s=e[i++],a=e[i++],c=e[i++],l=r[s],d=t.data[s];Ef(d,l,n,a,c,o)}}function uy(t,r,e){let n=im(r,t);uv(t[Pe],n,e)}function dy(t,r){let e=En(r,t),n=e[L];fy(n,e);let o=e[ct];o!==null&&e[Uo]===null&&(e[Uo]=Ga(o,e[wn])),Pf(n,e,e[it])}function fy(t,r){for(let e=r.length;e<t.blueprint.length;e++)r.push(t.blueprint[e])}function Pf(t,r,e){Pa(r);try{let n=t.viewQuery;n!==null&&ga(1,n,e);let o=t.template;o!==null&&bf(t,r,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),r[ii]?.finishViewCreation(t),t.staticContentQueries&&kf(t,r),t.staticViewQueries&&ga(2,t.viewQuery,e);let i=t.components;i!==null&&hy(r,i)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{r[R]&=-5,Fa()}}function hy(t,r){for(let e=0;e<r.length;e++)dy(t,r[e])}function ku(t,r){return!r||r.firstChild===null||Xd(t)}function py(t,r,e,n=!0){let o=r[L];if(pv(o,r,t,e),n){let s=ha(e,t),a=r[Pe],c=mf(a,t[Ht]);c!==null&&fv(o,t[$e],a,r,c,s)}let i=r[Uo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Yo(t,r,e,n,o=!1){for(;e!==null;){if(e.type===128){e=o?e.projectionNext:e.next;continue}let i=r[e.index];i!==null&&n.push(Ge(i)),lt(i)&&gy(i,n);let s=e.type;if(s&8)Yo(t,r,e.child,n);else if(s&32){let a=Ka(e,r),c;for(;c=a();)n.push(c)}else if(s&16){let a=yf(r,e);if(Array.isArray(a))n.push(...a);else{let c=zt(r[qe]);Yo(c[L],c,a,n,!0)}}e=o?e.projectionNext:e.next}return n}function gy(t,r){for(let e=Oe;e<t.length;e++){let n=t[e],o=n[L].firstChild;o!==null&&Yo(n[L],n,o,r)}t[Ht]!==t[ct]&&r.push(t[Ht])}var Ff=[];function my(t){return t[Te]??vy(t)}function vy(t){let r=Ff.pop()??Object.create(wy);return r.lView=t,r}function yy(t){t.lView[Te]!==t&&(t.lView=null,Ff.push(t))}var wy=$(y({},Hn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ci(t.lView)},consumerOnSignalRead(){this.lView[Te]=this}});function Dy(t){let r=t[Te]??Object.create(Sy);return r.lView=t,r}var Sy=$(y({},Hn),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let r=zt(t.lView);for(;r&&!Lf(r[L]);)r=zt(r);r&&Oa(r)},consumerOnSignalRead(){this.lView[Te]=this}});function Lf(t){return t.type!==2}function jf(t){if(t[$o]===null)return;let r=!0;for(;r;){let e=!1;for(let n of t[$o])n.dirty&&(e=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));r=e&&!!(t[R]&8192)}}var Iy=100;function Uf(t,r=!0,e=0){let o=t[wt].rendererFactory,i=!1;i||o.begin?.();try{Ey(t,e)}catch(s){throw r&&Nf(t,s),s}finally{i||o.end?.()}}function Ey(t,r){let e=Cd();try{pu(!0),ma(t,r);let n=0;for(;ai(t);){if(n===Iy)throw new b(103,!1);n++,ma(t,1)}}finally{pu(e)}}function Cy(t,r,e,n){let o=r[R];if((o&256)===256)return;let i=!1,s=!1;Pa(r);let a=!0,c=null,l=null;i||(Lf(t)?(l=my(r),c=Zr(l)):El()===null?(a=!1,l=Dy(r),c=Zr(l)):r[Te]&&(vs(r[Te]),r[Te]=null));try{wd(r),vm(t.bindingStartIndex),e!==null&&bf(t,r,e,2,n);let d=(o&3)===3;if(!i)if(d){let h=t.preOrderCheckHooks;h!==null&&xo(r,h,null)}else{let h=t.preOrderHooks;h!==null&&ko(r,h,0,null),Vs(r,0)}if(s||by(r),jf(r),Vf(r,0),t.contentQueries!==null&&kf(t,r),!i)if(d){let h=t.contentCheckHooks;h!==null&&xo(r,h)}else{let h=t.contentHooks;h!==null&&ko(r,h,1),Vs(r,1)}jv(t,r);let f=t.components;f!==null&&Bf(r,f,0);let g=t.viewQuery;if(g!==null&&ga(2,g,n),!i)if(d){let h=t.viewCheckHooks;h!==null&&xo(r,h)}else{let h=t.viewHooks;h!==null&&ko(r,h,2),Vs(r,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),r[Us]){for(let h of r[Us])h();r[Us]=null}i||(r[R]&=-73)}catch(d){throw i||ci(r),d}finally{l!==null&&(gs(l,c),a&&yy(l)),Fa()}}function Vf(t,r){for(let e=nf(t);e!==null;e=rf(e))for(let n=Oe;n<e.length;n++){let o=e[n];$f(o,r)}}function by(t){for(let r=nf(t);r!==null;r=rf(r)){if(!(r[R]&zo.HasTransplantedViews))continue;let e=r[Ho];for(let n=0;n<e.length;n++){let o=e[n];Oa(o)}}}function Ty(t,r,e){let n=En(r,t);$f(n,e)}function $f(t,r){Na(t)&&ma(t,r)}function ma(t,r){let n=t[L],o=t[R],i=t[Te],s=!!(r===0&&o&16);if(s||=!!(o&64&&r===0),s||=!!(o&1024),s||=!!(i?.dirty&&ms(i)),s||=!1,i&&(i.dirty=!1),t[R]&=-9217,s)Cy(n,t,n.template,t[it]);else if(o&8192){jf(t),Vf(t,1);let a=n.components;a!==null&&Bf(t,a,1)}}function Bf(t,r,e){for(let n=0;n<r.length;n++)Ty(t,r[n],e)}function nc(t,r){let e=Cd()?64:1088;for(t[wt].changeDetectionScheduler?.notify(r);t;){t[R]|=e;let n=zt(t);if(Qs(t)&&!n)return t;t=n}return null}var Sn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let r=this._lView,e=r[L];return Yo(e,r,e.firstChild,[])}constructor(r,e,n=!0){this._lView=r,this._cdRefInjectingView=e,this.notifyErrorHandler=n}get context(){return this._lView[it]}get dirty(){return!!(this._lView[R]&9280)||!!this._lView[Te]?.dirty}set context(r){this._lView[it]=r}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[he];if(lt(r)){let e=r[Bo],n=e?e.indexOf(this):-1;n>-1&&(fa(r,n),Lo(e,n))}this._attachedToViewContainer=!1}pf(this._lView[L],this._lView)}onDestroy(r){Dd(this._lView,r)}markForCheck(){nc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Oa(this._cdRefInjectingView||this._lView)}detach(){this._lView[R]&=-129}reattach(){Xs(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,Uf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=Qs(this._lView),e=this._lView[rr];e!==null&&!r&&Za(e,this._lView),ff(this._lView[L],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=r;let e=Qs(this._lView),n=this._lView[rr];n!==null&&!e&&hf(n,this._lView),Xs(this._lView)}};var gA=new RegExp(`^(\\d+)*(${ov}|${rv})*(.*)`);var My=()=>null;function Nu(t,r){return My(t,r)}var va=class{},Qo=class{},ya=class{resolveComponentFactory(r){throw Error(`No component factory found for ${be(r)}.`)}},In=class{static NULL=new ya},It=class{};var Ry=(()=>{class t{static \u0275prov=p({token:t,providedIn:"root",factory:()=>null})}return t})();function wa(t,r,e){let n=e?t.styles:null,o=e?t.classes:null,i=0;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];if(typeof a=="number")i=a;else if(i==1)o=iu(o,a);else if(i==2){let c=a,l=r[++s];n=iu(n,c+": "+l+";")}}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=o:t.classesWithoutHost=o}var Jo=class extends In{ngModule;constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let e=$t(r);return new ar(e,this.ngModule)}};function Ou(t,r){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let o=t[n];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:St.None;r?e.push({propName:s,templateName:n,isSignal:(a&St.SignalBased)!==0}):e.push({propName:s,templateName:n})}return e}function Ay(t){let r=t.toLowerCase();return r==="svg"?rm:r==="math"?om:null}var ar=class extends Qo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let r=this.componentDef,e=r.inputTransforms,n=Ou(r.inputs,!0);if(e!==null)for(let o of n)e.hasOwnProperty(o.propName)&&(o.transform=e[o.propName]);return n}get outputs(){return Ou(this.componentDef.outputs,!1)}constructor(r,e){super(),this.componentDef=r,this.ngModule=e,this.componentType=r.type,this.selector=Fv(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!e}create(r,e,n,o){let i=B(null);try{o=o||this.ngModule;let s=o instanceof ve?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ra(r,s):r,c=a.get(It,null);if(c===null)throw new b(407,!1);let l=a.get(Ry,null),d=a.get(sr,null),f={rendererFactory:c,sanitizer:l,changeDetectionScheduler:d},g=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",v=n?Hv(g,n,this.componentDef.encapsulation,a):df(g,h,Ay(h)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let S=null;v!==null&&(S=Ga(v,a,!0));let _=Rf(0,null,null,1,0,null,null,null,null,null,null),q=Xa(null,_,null,D,null,null,f,g,a,null,S);Pa(q);let I,ie,ge=null;try{let ae=this.componentDef,nt,cs=null;ae.findHostDirectiveDefs?(nt=[],cs=new Map,ae.findHostDirectiveDefs(ae,nt,cs),nt.push(ae)):nt=[ae];let $p=_y(q,v);ge=xy($p,v,ae,nt,q,f,g),ie=sm(_,Bt),v&&Oy(g,ae,v,n),e!==void 0&&Py(ie,this.ngContentSelectors,e),I=Ny(ge,ae,nt,cs,q,[Fy]),Pf(_,q,null)}catch(ae){throw ge!==null&&ua(ge),ua(q),ae}finally{Fa()}return new Da(this.componentType,I,Ha(ie,q),q,ie)}finally{B(i)}}},Da=class extends va{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(r,e,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Sn(o,void 0,!1),this.componentType=r}setInput(r,e){let n=this._tNode.inputs,o;if(n!==null&&(o=n[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),e))return;let i=this._rootLView;Of(i[L],i,o,r,e),this.previousInputValues.set(r,e);let s=En(this._tNode.index,i);nc(s,1)}}get injector(){return new Vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function _y(t,r){let e=t[L],n=Bt;return t[n]=r,ec(e,n,2,"#host",null)}function xy(t,r,e,n,o,i,s){let a=o[L];ky(n,t,r,s);let c=null;r!==null&&(c=Ga(r,o[wn]));let l=i.rendererFactory.createRenderer(r,e),d=Xa(o,Mf(e),null,xf(e),o[t.index],t,i,l,null,null,c);return a.firstCreatePass&&pa(a,t,n.length-1),tc(o,d),o[t.index]=d}function ky(t,r,e,n){for(let o of t)r.mergedAttrs=ja(r.mergedAttrs,o.hostAttrs);r.mergedAttrs!==null&&(wa(r,r.mergedAttrs,!0),e!==null&&Df(n,e,r))}function Ny(t,r,e,n,o,i){let s=Ye(),a=o[L],c=Ze(s,o);Af(a,o,s,e,null,n);for(let d=0;d<e.length;d++){let f=s.directiveStart+d,g=ir(o,a,f,s);Dn(g,o)}_f(a,o,s),c&&Dn(c,o);let l=ir(o,a,s.directiveStart+s.componentOffset,s);if(t[it]=o[it]=l,i!==null)for(let d of i)d(l,r);return Tf(a,s,o),l}function Oy(t,r,e,n){if(n)na(t,e,["ng-version","19.0.5"]);else{let{attrs:o,classes:i}=Lv(r.selectors[0]);o&&na(t,e,o),i&&i.length>0&&wf(t,e,i.join(" "))}}function Py(t,r,e){let n=t.projection=[];for(let o=0;o<r.length;o++){let i=e[o];n.push(i!=null&&i.length?Array.from(i):null)}}function Fy(){let t=Ye();Od(ye()[L],t)}var pi=(()=>{class t{static __NG_ELEMENT_ID__=Ly}return t})();function Ly(){let t=Ye();return Uy(t,ye())}var jy=pi,Hf=class extends jy{_lContainer;_hostTNode;_hostLView;constructor(r,e,n){super(),this._lContainer=r,this._hostTNode=e,this._hostLView=n}get element(){return Ha(this._hostTNode,this._hostLView)}get injector(){return new Vt(this._hostTNode,this._hostLView)}get parentInjector(){let r=Ua(this._hostTNode,this._hostLView);if(Fd(r)){let e=qo(r,this._hostLView),n=Wo(r),o=e[L].data[n+8];return new Vt(o,e)}else return new Vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let e=Pu(this._lContainer);return e!==null&&e[r]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(r,e,n){let o,i;typeof n=="number"?o=n:n!=null&&(o=n.index,i=n.injector);let s=Nu(this._lContainer,r.ssrId),a=r.createEmbeddedViewImpl(e||{},i,s);return this.insertImpl(a,o,ku(this._hostTNode,s)),a}createComponent(r,e,n,o,i){let s=r&&!Xg(r),a;if(s)a=e;else{let v=e||{};a=v.index,n=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}let c=s?r:new ar($t(r)),l=n||this.parentInjector;if(!i&&c.ngModule==null){let D=(s?l:this.parentInjector).get(ve,null);D&&(i=D)}let d=$t(c.componentType??{}),f=Nu(this._lContainer,d?.id??null),g=f?.firstChild??null,h=c.create(l,o,g,i);return this.insertImpl(h.hostView,a,ku(this._hostTNode,f)),h}insert(r,e){return this.insertImpl(r,e,!0)}insertImpl(r,e,n){let o=r._lView;if(am(o)){let a=this.indexOf(r);if(a!==-1)this.detach(a);else{let c=o[he],l=new Hf(c,c[$e],c[he]);l.detach(l.indexOf(r))}}let i=this._adjustIndex(e),s=this._lContainer;return py(s,o,i,n),r.attachToViewContainerRef(),Xu(zs(s),i,r),r}move(r,e){return this.insert(r,e)}indexOf(r){let e=Pu(this._lContainer);return e!==null?e.indexOf(r):-1}remove(r){let e=this._adjustIndex(r,-1),n=fa(this._lContainer,e);n&&(Lo(zs(this._lContainer),e),pf(n[L],n))}detach(r){let e=this._adjustIndex(r,-1),n=fa(this._lContainer,e);return n&&Lo(zs(this._lContainer),e)!=null?new Sn(n):null}_adjustIndex(r,e=0){return r??this.length+e}};function Pu(t){return t[Bo]}function zs(t){return t[Bo]||(t[Bo]=[])}function Uy(t,r){let e,n=r[t.index];return lt(n)?e=n:(e=ay(n,r,null,t),r[t.index]=e,tc(r,e)),$y(e,r,t,n),new Hf(e,t,r)}function Vy(t,r){let e=t[Pe],n=e.createComment(""),o=Ze(r,t),i=mf(e,o);return Zo(e,i,n,wv(e,o),!1),n}var $y=By;function By(t,r,e,n){if(t[Ht])return;let o;e.type&8?o=Ge(n):o=Vy(r,e),t[Ht]=o}function rc(t,r){Cn("NgSignals");let e=Nl(t),n=e[xe];return r?.equal&&(n.equal=r.equal),e.set=o=>Jr(n,o),e.update=o=>Ol(n,o),e.asReadonly=Hy.bind(e),e}function Hy(){let t=this[xe];if(t.readonlyFn===void 0){let r=()=>this();r[xe]=t,t.readonlyFn=r}return t.readonlyFn}var Et=class{},cr=class{};var Sa=class extends Et{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jo(this);constructor(r,e,n,o=!0){super(),this.ngModuleType=r,this._parent=e;let i=nd(r);this._bootstrapComponents=uf(i.bootstrap),this._r3Injector=qd(r,e,[{provide:Et,useValue:this},{provide:In,useValue:this.componentFactoryResolver},...n],be(r),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},Ia=class extends cr{moduleType;constructor(r){super(),this.moduleType=r}create(r){return new Sa(this.moduleType,r,[])}};var Xo=class extends Et{injector;componentFactoryResolver=new Jo(this);instance=null;constructor(r){super();let e=new tr([...r.providers,{provide:Et,useValue:this},{provide:In,useValue:this.componentFactoryResolver}],r.parent||_a(),r.debugName,new Set(["environment"]));this.injector=e,r.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function oc(t,r,e=null){return new Xo({providers:t,parent:r,debugName:e,runEnvironmentInitializers:!0}).injector}var zy=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=sd(!1,e.type),o=n.length>0?oc([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=p({token:t,providedIn:"environment",factory:()=>new t(T(ve))})}return t})();function we(t){return Ta(()=>{let r=zf(t),e=$(y({},r),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ef.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:r.standalone?o=>o.get(zy).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ke.Emulated,styles:t.styles||vn,_:null,schemas:t.schemas||null,tView:null,id:""});r.standalone&&Cn("NgStandalone"),Wf(e);let n=t.dependencies;return e.directiveDefs=Lu(n,!1),e.pipeDefs=Lu(n,!0),e.id=Gy(e),e})}function Wy(t){return $t(t)||rd(t)}function qy(t){return t!==null}function Fu(t,r){if(t==null)return er;let e={};for(let n in t)if(t.hasOwnProperty(n)){let o=t[n],i,s,a=St.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),r?(e[i]=a!==St.None?[n,a]:n,r[i]=s):e[i]=n}return e}function ic(t){return Ta(()=>{let r=zf(t);return Wf(r),r})}function zf(t){let r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||er,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fu(t.inputs,r),outputs:Fu(t.outputs),debugInfo:null}}function Wf(t){t.features?.forEach(r=>r(t))}function Lu(t,r){if(!t)return null;let e=r?od:Wy;return()=>(typeof t=="function"?t():t).map(n=>e(n)).filter(qy)}function Gy(t){let r=0,e=typeof t.consts=="function"?"":t.consts,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of n.join("|"))r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function Ky(t,r,e){let n=t[r];return Object.is(n,e)?!1:(t[r]=e,!0)}function Zy(t){return(t.flags&32)===32}var gi=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var qf=new C("");function hr(t){return!!t&&typeof t.then=="function"}function Gf(t){return!!t&&typeof t.subscribe=="function"}var sc=new C("");var Kf=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n});appInits=u(sc,{optional:!0})??[];injector=u(st);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let o of this.appInits){let i=Me(this.injector,o);if(hr(i))e.push(i);else if(Gf(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(o=>{this.reject(o)}),e.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yy=(()=>{class t{static \u0275prov=p({token:t,providedIn:"root",factory:()=>new Ea})}return t})(),Ea=class{queuedEffectCount=0;queues=new Map;schedule(r){this.enqueue(r)}enqueue(r){let e=r.zone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(r)||(this.queuedEffectCount++,n.add(r))}flush(){for(;this.queuedEffectCount>0;)for(let[r,e]of this.queues)r===null?this.flushQueue(e):r.run(()=>this.flushQueue(e))}flushQueue(r){for(let e of r)r.delete(e),this.queuedEffectCount--,e.run()}},mi=new C("");function Qy(){kl(()=>{throw new b(600,!1)})}function Jy(t){return t.isBoundToModule}var Xy=10;function ew(t,r,e){try{let n=e();return hr(n)?n.catch(o=>{throw r.runOutsideAngular(()=>t.handleError(o)),o}):n}catch(n){throw r.runOutsideAngular(()=>t.handleError(n)),n}}var at=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=u(Zm);afterRenderManager=u(sv);zonelessEnabled=u(ui);rootEffectScheduler=u(Yy);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new X;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=u(ut).hasPendingTasks.pipe(w(e=>!e));constructor(){u(lf,{optional:!0})}whenStable(){let e;return new Promise(n=>{e=this.isStable.subscribe({next:o=>{o&&n()}})}).finally(()=>{e.unsubscribe()})}_injector=u(ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,n){let o=e instanceof Qo;if(!this._injector.get(Kf).done){let g=!o&&id(e),h=!1;throw new b(405,h)}let s;o?s=e:s=this._injector.get(In).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=Jy(s)?void 0:this._injector.get(Et),c=n||s.selector,l=s.create(st.NULL,[],c,a),d=l.location.nativeElement,f=l.injector.get(qf,null);return f?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),No(this.components,l),f?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let n=this.tracingSnapshot;this.tracingSnapshot=null,n.run(cf.CHANGE_DETECTION,this._tick),n.dispose();return}if(this._runningTick)throw new b(101,!1);let e=B(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,B(e),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(It,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let e=0;for(;this.dirtyFlags!==0&&e++<Xy;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n,notifyErrorHandler:o}of this.allViews)tw(n,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ai(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;No(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(mi,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>No(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new b(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function No(t,r){let e=t.indexOf(r);e>-1&&t.splice(e,1)}function tw(t,r,e,n){if(!e&&!ai(t))return;Uf(t,r,e&&!n?0:1)}function nw(t,r,e,n){return Ky(t,ym(),e)?r+Yu(e)+n:hi}function ju(t,r,e,n,o){let i=r.inputs,s=o?"class":"style";Of(t,e,i[s],s,n)}function rw(t,r,e,n,o,i){let s=r.consts,a=hu(s,o),c=ec(r,t,2,n,a);return Kv(r,e,c,hu(s,i)),c.attrs!==null&&wa(c,c.attrs,!1),c.mergedAttrs!==null&&wa(c,c.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,c),c}function U(t,r,e,n){let o=ye(),i=dr(),s=Bt+t,a=o[Pe],c=i.firstCreatePass?rw(s,i,o,r,e,n):i.data[s],l=ow(i,o,c,a,r,t);o[s]=l;let d=pd(c);return li(c,!0),Df(a,l,c),!Zy(c)&&kd()&&vf(i,o,l,c),lm()===0&&Dn(l,o),um(),d&&(Vv(i,o,c),Tf(i,c,o)),n!==null&&$v(o,c),U}function W(){let t=Ye();Ed()?mm():(t=t.parent,li(t,!1));let r=t;hm(r)&&pm(),dm();let e=dr();return e.firstCreatePass&&(Od(e,t),hd(t)&&e.queries.elementEnd(t)),r.classesWithoutHost!=null&&Mm(r)&&ju(e,r,ye(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&Rm(r)&&ju(e,r,ye(),r.stylesWithoutHost,!1),W}function te(t,r,e,n){return U(t,r,e,n),W(),te}var ow=(t,r,e,n,o,i)=>(Nd(!0),df(n,o,Em()));var ei="en-US";var iw=ei;function sw(t){typeof t=="string"&&(iw=t.toLowerCase().replace(/_/g,"-"))}var aw=(t,r,e)=>{};function pr(t,r,e,n){let o=ye(),i=dr(),s=Ye();return lw(i,o,o[Pe],s,t,r,n),pr}function cw(t,r,e,n){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===e&&o[i+1]===n){let a=r[Vo],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function lw(t,r,e,n,o,i,s){let a=pd(n),l=t.firstCreatePass&&ly(t),d=r[it],f=cy(r),g=!0;if(n.type&3||s){let D=Ze(n,r),S=s?s(D):D,_=f.length,q=s?ie=>s(Ge(ie[n.index])):n.index,I=null;if(!s&&a&&(I=cw(t,r,o,n.index)),I!==null){let ie=I.__ngLastListenerFn__||I;ie.__ngNextListenerFn__=i,I.__ngLastListenerFn__=i,g=!1}else{i=Vu(n,r,d,i),aw(D,o,i);let ie=e.listen(S,o,i);f.push(i,ie),l&&l.push(o,q,_,_+1)}}else i=Vu(n,r,d,i);let h=n.outputs,v;if(g&&h!==null&&(v=h[o])){let D=v.length;if(D)for(let S=0;S<D;S+=2){let _=v[S],q=v[S+1],ge=r[_][q].subscribe(i),ae=f.length;f.push(i,ge),l&&l.push(o,n.index,ae,-(ae+1))}}}function Uu(t,r,e,n){let o=B(null);try{return ze(6,r,e),e(n)!==!1}catch(i){return Nf(t,i),!1}finally{ze(7,r,e),B(o)}}function Vu(t,r,e,n){return function o(i){if(i===Function)return n;let s=t.componentOffset>-1?En(t.index,r):r;nc(s,5);let a=Uu(r,e,n,i),c=o.__ngNextListenerFn__;for(;c;)a=Uu(r,e,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function ue(t,r=""){let e=ye(),n=dr(),o=t+Bt,i=n.firstCreatePass?ec(n,o,1,r,null):n.data[o],s=uw(n,e,i,r,t);e[o]=s,kd()&&vf(n,e,s,i),li(i,!1)}var uw=(t,r,e,n,o)=>(Nd(!0),lv(r[Pe],n));function vi(t){return Zf("",t,""),vi}function Zf(t,r,e){let n=ye(),o=nw(n,t,r,e);return o!==hi&&uy(n,La(),o),Zf}var Ca=class{ngModuleFactory;componentFactories;constructor(r,e){this.ngModuleFactory=r,this.componentFactories=e}},ac=(()=>{class t{compileModuleSync(e){return new Ia(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let n=this.compileModuleSync(e),o=nd(e),i=uf(o.declarations).reduce((s,a)=>{let c=$t(a);return c&&s.push(new ar(c)),s},[]);return new Ca(n,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dw=(()=>{class t{zone=u(ee);changeDetectionScheduler=u(sr);applicationRef=u(at);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fw=new C("",{factory:()=>!1});function Yf({ngZoneFactory:t,ignoreChangesOutsideZone:r,scheduleInRootZone:e}){return t??=()=>new ee($(y({},Jf()),{scheduleInRootZone:e})),[{provide:ee,useFactory:t},{provide:yn,multi:!0,useFactory:()=>{let n=u(dw,{optional:!0});return()=>n.initialize()}},{provide:yn,multi:!0,useFactory:()=>{let n=u(hw);return()=>{n.initialize()}}},r===!0?{provide:Kd,useValue:!0}:[],{provide:Zd,useValue:e??Gd}]}function Qf(t){let r=t?.ignoreChangesOutsideZone,e=t?.scheduleInRootZone,n=Yf({ngZoneFactory:()=>{let o=Jf(t);return o.scheduleInRootZone=e,o.shouldCoalesceEventChangeDetection&&Cn("NgZone_CoalesceEvent"),new ee(o)},ignoreChangesOutsideZone:r,scheduleInRootZone:e});return Ct([{provide:fw,useValue:!0},{provide:ui,useValue:!1},n])}function Jf(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hw=(()=>{class t{subscription=new re;initialized=!1;zone=u(ee);pendingTasks=u(ut);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pw=(()=>{class t{appRef=u(at);taskService=u(ut);ngZone=u(ee);zonelessEnabled=u(ui);tracing=u(lf,{optional:!0});disableScheduling=u(Kd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ko):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(u(Zd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof la||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let n=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 13:{this.appRef.dirtyFlags|=16,n=!0;break}case 14:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{n=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(n))return;let o=this.useMicrotaskScheduler?Su:Yd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ko+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(e),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Su(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gw(){return typeof $localize<"u"&&$localize.locale||ei}var cc=new C("",{providedIn:"root",factory:()=>u(cc,O.Optional|O.SkipSelf)||gw()});var ba=new C(""),mw=new C("");function Zn(t){return!t.moduleRef}function vw(t){let r=Zn(t)?t.r3Injector:t.moduleRef.injector,e=r.get(ee);return e.run(()=>{Zn(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let n=r.get(Dt,null),o;if(e.runOutsideAngular(()=>{o=e.onError.subscribe({next:i=>{n.handleError(i)}})}),Zn(t)){let i=()=>r.destroy(),s=t.platformInjector.get(ba);s.add(i),r.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ba);s.add(i),t.moduleRef.onDestroy(()=>{No(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return ew(n,e,()=>{let i=r.get(Kf);return i.runInitializers(),i.donePromise.then(()=>{let s=r.get(cc,ei);if(sw(s||ei),!r.get(mw,!0))return Zn(t)?r.get(at):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Zn(t)){let c=r.get(at);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return yw(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function yw(t,r){let e=t.injector.get(at);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new b(-403,!1);r.push(t)}var Oo=null;function ww(t=[],r){return st.create({name:r,providers:[{provide:oi,useValue:"platform"},{provide:ba,useValue:new Set([()=>Oo=null])},...t]})}function Dw(t=[]){if(Oo)return Oo;let r=ww(t);return Oo=r,Qy(),Sw(r),r}function Sw(t){let r=t.get(Wa,null);Me(t,()=>{r?.forEach(e=>e())})}function Xf(){return!1}var gr=(()=>{class t{static __NG_ELEMENT_ID__=Iw}return t})();function Iw(t){return Ew(Ye(),ye(),(t&16)===16)}function Ew(t,r,e){if(xa(t)&&!e){let n=En(t.index,r);return new Sn(n,n)}else if(t.type&175){let n=r[qe];return new Sn(n,r)}return null}function eh(t){try{let{rootComponent:r,appProviders:e,platformProviders:n}=t,o=Dw(n),i=[Yf({}),{provide:sr,useExisting:pw},...e||[]],s=new Xo({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return vw({r3Injector:s.injector,platformInjector:o,rootComponent:r})}catch(r){return Promise.reject(r)}}function th(t,r){Cn("NgSignals");let e=Al(t);return r?.equal&&(e[xe].equal=r.equal),e}var $u=class{[xe];constructor(r){this[xe]=r}destroy(){this[xe].destroy()}};var sh=null;function bn(){return sh}function ah(t){sh??=t}var yi=class{};var Z=new C(""),ch=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(Aw),providedIn:"platform"})}return t})();var Aw=(()=>{class t extends ch{_location;_history;_doc=u(Z);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bn().getBaseHref(this._doc)}onPopState(e){let n=bn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=bn().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,o){this._history.pushState(e,n,o)}replaceState(e,n,o){this._history.replaceState(e,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function lh(t,r){if(t.length==0)return r;if(r.length==0)return t;let e=0;return t.endsWith("/")&&e++,r.startsWith("/")&&e++,e==2?t+r.substring(1):e==1?t+r:t+"/"+r}function nh(t){let r=t.match(/#|\?|$/),e=r&&r.index||t.length,n=e-(t[e-1]==="/"?1:0);return t.slice(0,n)+t.slice(e)}function Gt(t){return t&&t[0]!=="?"?"?"+t:t}var Si=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(uh),providedIn:"root"})}return t})(),_w=new C(""),uh=(()=>{class t extends Si{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??u(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return lh(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Gt(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${n}${o}`:n}pushState(e,n,o,i){let s=this.prepareExternalUrl(o+Gt(i));this._platformLocation.pushState(e,n,s)}replaceState(e,n,o,i){let s=this.prepareExternalUrl(o+Gt(i));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(T(ch),T(_w,8))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mr=(()=>{class t{_subject=new X;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=Nw(nh(rh(n))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Gt(n))}normalize(e){return t.stripTrailingSlash(kw(this._basePath,rh(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",o=null){this._locationStrategy.pushState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gt(n)),o)}replaceState(e,n="",o=null){this._locationStrategy.replaceState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Gt(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(o=>o(e,n))}subscribe(e,n,o){return this._subject.subscribe({next:e,error:n??void 0,complete:o??void 0})}static normalizeQueryParams=Gt;static joinWithSlash=lh;static stripTrailingSlash=nh;static \u0275fac=function(n){return new(n||t)(T(Si))};static \u0275prov=p({token:t,factory:()=>xw(),providedIn:"root"})}return t})();function xw(){return new mr(T(Si))}function kw(t,r){if(!t||!r.startsWith(t))return r;let e=r.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:r}function rh(t){return t.replace(/\/index.html$/,"")}function Nw(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function Ii(t,r){r=encodeURIComponent(r);for(let e of t.split(";")){let n=e.indexOf("="),[o,i]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(o.trim()===r)return decodeURIComponent(i)}return null}var lc="browser",Ow="server";function dh(t){return t===lc}function Ei(t){return t===Ow}var Tn=class{};var yr=class{},bi=class{},pe=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let o=e.slice(0,n),i=e.slice(n+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let o=(r.op==="a"?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":let i=r.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(r,e){let n=r.toLowerCase();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=r.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(r,o)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var dc=class{encodeKey(r){return fh(r)}encodeValue(r){return fh(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Fw(t,r){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[r.decodeKey(o),""]:[r.decodeKey(o.slice(0,i)),r.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}var Lw=/%(\d[a-f0-9])/gi,jw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fh(t){return encodeURIComponent(t).replace(Lw,(r,e)=>jw[e]??r)}function Ci(t){return`${t}`}var Fe=class t{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new dc,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Fw(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],o=Array.isArray(n)?n.map(Ci):[Ci(n)];this.map.set(e,o)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let o=r[n];Array.isArray(o)?o.forEach(i=>{e.push({param:n,value:i,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(Ci(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],o=n.indexOf(Ci(r.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var fc=class{map=new Map;set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Uw(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hh(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ph(t){return typeof Blob<"u"&&t instanceof Blob}function gh(t){return typeof FormData<"u"&&t instanceof FormData}function Vw(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var vr=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(r,e,n,o){this.url=e,this.method=r.toUpperCase();let i;if(Uw(this.method)||o?(this.body=n!==void 0?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new pe,this.context??=new fc,!this.params)this.params=new Fe,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let a=e.indexOf("?"),c=a===-1?"?":a<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hh(this.body)||ph(this.body)||gh(this.body)||Vw(this.body)?this.body:this.body instanceof Fe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gh(this.body)?null:ph(this.body)?this.body.type||null:hh(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,o=r.responseType||this.responseType,i=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,a=r.withCredentials??this.withCredentials,c=r.reportProgress??this.reportProgress,l=r.headers||this.headers,d=r.params||this.params,f=r.context??this.context;return r.setHeaders!==void 0&&(l=Object.keys(r.setHeaders).reduce((g,h)=>g.set(h,r.setHeaders[h]),l)),r.setParams&&(d=Object.keys(r.setParams).reduce((g,h)=>g.set(h,r.setParams[h]),d)),new t(e,n,s,{params:d,headers:l,context:f,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}},bt=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(bt||{}),wr=class{headers;status;statusText;url;ok;type;constructor(r,e=200,n="OK"){this.headers=r.headers||new pe,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Ti=class t extends wr{constructor(r={}){super(r)}type=bt.ResponseHeader;clone(r={}){return new t({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Kt=class t extends wr{body;constructor(r={}){super(r),this.body=r.body!==void 0?r.body:null}type=bt.Response;clone(r={}){return new t({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Je=class extends wr{name="HttpErrorResponse";message;error;ok=!1;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Dh=200,$w=204;function uc(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Dr=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,o={}){let i;if(e instanceof vr)i=e;else{let c;o.headers instanceof pe?c=o.headers:c=new pe(o.headers);let l;o.params&&(o.params instanceof Fe?l=o.params:l=new Fe({fromObject:o.params})),i=new vr(e,n,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=m(i).pipe(P(c=>this.handler.handle(c)));if(e instanceof vr||o.observe==="events")return s;let a=s.pipe(Ee(c=>c instanceof Kt));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(w(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(w(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(w(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Fe().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,uc(o,n))}post(e,n,o={}){return this.request("POST",e,uc(o,n))}put(e,n,o={}){return this.request("PUT",e,uc(o,n))}static \u0275fac=function(n){return new(n||t)(T(yr))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Bw=/^\)\]\}',?\n/,Hw="X-Request-URL";function mh(t){if(t.url)return t.url;let r=Hw.toLocaleLowerCase();return t.headers.get(r)}var zw=(()=>{class t{fetchImpl=u(hc,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=u(ee);handle(e){return new k(n=>{let o=new AbortController;return this.doRequest(e,o.signal,n).then(pc,i=>n.error(new Je({error:i}))),()=>o.abort()})}doRequest(e,n,o){return $n(this,null,function*(){let i=this.createRequestInit(e),s;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(e.urlWithParams,y({signal:n},i)));Ww(h),o.next({type:bt.Sent}),s=yield h}catch(h){o.error(new Je({error:h,status:h.status??0,statusText:h.statusText,url:e.urlWithParams,headers:h.headers}));return}let a=new pe(s.headers),c=s.statusText,l=mh(s)??e.urlWithParams,d=s.status,f=null;if(e.reportProgress&&o.next(new Ti({headers:a,status:d,statusText:c,url:l})),s.body){let h=s.headers.get("content-length"),v=[],D=s.body.getReader(),S=0,_,q,I=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>$n(this,null,function*(){for(;;){let{done:ge,value:ae}=yield D.read();if(ge)break;if(v.push(ae),S+=ae.length,e.reportProgress){q=e.responseType==="text"?(q??"")+(_??=new TextDecoder).decode(ae,{stream:!0}):void 0;let nt=()=>o.next({type:bt.DownloadProgress,total:h?+h:void 0,loaded:S,partialText:q});I?I.run(nt):nt()}}}));let ie=this.concatChunks(v,S);try{let ge=s.headers.get("Content-Type")??"";f=this.parseBody(e,ie,ge)}catch(ge){o.error(new Je({error:ge,headers:new pe(s.headers),status:s.status,statusText:s.statusText,url:mh(s)??e.urlWithParams}));return}}d===0&&(d=f?Dh:0),d>=200&&d<300?(o.next(new Kt({body:f,headers:a,status:d,statusText:c,url:l})),o.complete()):o.error(new Je({error:f,headers:a,status:d,statusText:c,url:l}))})}parseBody(e,n,o){switch(e.responseType){case"json":let i=new TextDecoder().decode(n).replace(Bw,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:o});case"arraybuffer":return n.buffer}}createRequestInit(e){let n={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((i,s)=>n[i]=s.join(",")),e.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){let i=e.detectContentTypeHeader();i!==null&&(n["Content-Type"]=i)}return{body:e.serializeBody(),method:e.method,headers:n,credentials:o}}concatChunks(e,n){let o=new Uint8Array(n),i=0;for(let s of e)o.set(s,i),i+=s.length;return o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),hc=class{};function pc(){}function Ww(t){t.then(pc,pc)}function Sh(t,r){return r(t)}function qw(t,r){return(e,n)=>r.intercept(e,{handle:o=>t(o,n)})}function Gw(t,r,e){return(n,o)=>Me(e,()=>r(n,i=>t(i,o)))}var gc=new C(""),mc=new C(""),Kw=new C(""),Ih=new C("",{providedIn:"root",factory:()=>!0});function Zw(){let t=null;return(r,e)=>{t===null&&(t=(u(gc,{optional:!0})??[]).reduceRight(qw,Sh));let n=u(ut);if(u(Ih)){let i=n.add();return t(r,e).pipe(He(()=>n.remove(i)))}else return t(r,e)}}var vh=(()=>{class t extends yr{backend;injector;chain=null;pendingTasks=u(ut);contributeToStability=u(Ih);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(mc),...this.injector.get(Kw,[])]));this.chain=n.reduceRight((o,i)=>Gw(o,i,this.injector),Sh)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(He(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(T(bi),T(ve))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();var Yw=/^\)\]\}',?\n/;function Qw(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var yh=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new b(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?J(n.\u0275loadImpl()):m(null)).pipe(j(()=>new k(i=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((D,S)=>s.setRequestHeader(D,S.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){let D=e.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(e.responseType){let D=e.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=e.serializeBody(),c=null,l=()=>{if(c!==null)return c;let D=s.statusText||"OK",S=new pe(s.getAllResponseHeaders()),_=Qw(s)||e.url;return c=new Ti({headers:S,status:s.status,statusText:D,url:_}),c},d=()=>{let{headers:D,status:S,statusText:_,url:q}=l(),I=null;S!==$w&&(I=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=I?Dh:0);let ie=S>=200&&S<300;if(e.responseType==="json"&&typeof I=="string"){let ge=I;I=I.replace(Yw,"");try{I=I!==""?JSON.parse(I):null}catch(ae){I=ge,ie&&(ie=!1,I={error:ae,text:I})}}ie?(i.next(new Kt({body:I,headers:D,status:S,statusText:_,url:q||void 0})),i.complete()):i.error(new Je({error:I,headers:D,status:S,statusText:_,url:q||void 0}))},f=D=>{let{url:S}=l(),_=new Je({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(_)},g=!1,h=D=>{g||(i.next(l()),g=!0);let S={type:bt.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),e.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),i.next(S)},v=D=>{let S={type:bt.UploadProgress,loaded:D.loaded};D.lengthComputable&&(S.total=D.total),i.next(S)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),i.next({type:bt.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||t)(T(Tn))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Eh=new C(""),Jw="XSRF-TOKEN",Xw=new C("",{providedIn:"root",factory:()=>Jw}),eD="X-XSRF-TOKEN",tD=new C("",{providedIn:"root",factory:()=>eD}),Mi=class{},nD=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ii(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(T(Z),T(Qe),T(Xw))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();function rD(t,r){let e=t.url.toLowerCase();if(!u(Eh)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(t);let n=u(Mi).getToken(),o=u(tD);return n!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,n)})),r(t)}var Ch=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ch||{});function oD(t,r){return{\u0275kind:t,\u0275providers:r}}function vc(...t){let r=[Dr,yh,vh,{provide:yr,useExisting:vh},{provide:bi,useFactory:()=>u(zw,{optional:!0})??u(yh)},{provide:mc,useValue:rD,multi:!0},{provide:Eh,useValue:!0},{provide:Mi,useClass:nD}];for(let e of t)r.push(...e.\u0275providers);return Ct(r)}var wh=new C("");function yc(){return oD(Ch.LegacyInterceptors,[{provide:wh,useFactory:Zw},{provide:mc,useExisting:wh,multi:!0}])}var Dc=class extends yi{supportsDOMEvents=!0},Sc=class t extends Dc{static makeCurrent(){ah(new t)}onAndCancel(r,e,n){return r.addEventListener(e,n),()=>{r.removeEventListener(e,n)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.remove()}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=cD();return e==null?null:lD(e)}resetBaseElement(){Sr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ii(document.cookie,r)}},Sr=null;function cD(){return Sr=Sr||document.querySelector("base"),Sr?Sr.getAttribute("href"):null}function lD(t){return new URL(t,document.baseURI).pathname}var uD=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Ic=new C(""),_h=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,o){return this._findPluginFor(n).addEventListener(e,n,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(i=>i.supports(e)),!n)throw new b(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(T(Ic),T(ee))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Ai=class{_doc;constructor(r){this._doc=r}manager},Ri="ng-app-id";function bh(t){for(let r of t)r.remove()}function Th(t,r){let e=r.createElement("style");return e.textContent=t,e}function dD(t,r,e,n){let o=t.head?.querySelectorAll(`style[${Ri}="${r}"],link[${Ri}="${r}"]`);if(o)for(let i of o)i.removeAttribute(Ri),i instanceof HTMLLinkElement?n.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Ec(t,r){let e=r.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var xh=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,o,i={}){this.doc=e,this.appId=n,this.nonce=o,this.isServer=Ei(i),dD(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let o of e)this.addUsage(o,this.inline,Th);n?.forEach(o=>this.addUsage(o,this.external,Ec))}removeStyles(e,n){for(let o of e)this.removeUsage(o,this.inline);n?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,n,o){let i=n.get(e);i?i.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,n){let o=n.get(e);o&&(o.usage--,o.usage<=0&&(bh(o.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])bh(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:o}]of this.inline)o.push(this.addElement(e,Th(n,this.doc)));for(let[n,{elements:o}]of this.external)o.push(this.addElement(e,Ec(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(Ri,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(T(Z),T(za),T(qa,8),T(Qe))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),wc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bc=/%COMP%/g,kh="%COMP%",fD=`_nghost-${kh}`,hD=`_ngcontent-${kh}`,pD=!0,gD=new C("",{providedIn:"root",factory:()=>pD});function mD(t){return hD.replace(bc,t)}function vD(t){return fD.replace(bc,t)}function Nh(t,r){return r.map(e=>e.replace(bc,t))}var Mh=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,o,i,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.platformIsServer=Ei(a),this.defaultRenderer=new Ir(e,s,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ke.ShadowDom&&(n=$(y({},n),{encapsulation:Ke.Emulated}));let o=this.getOrCreateRenderer(e,n);return o instanceof _i?o.applyToHost(e):o instanceof Er&&o.applyStyles(),o}getOrCreateRenderer(e,n){let o=this.rendererByCompId,i=o.get(n.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case Ke.Emulated:i=new _i(c,l,n,this.appId,d,s,a,f);break;case Ke.ShadowDom:return new Cc(c,l,e,n,s,a,this.nonce,f);default:i=new Er(c,l,n,d,s,a,f);break}o.set(n.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(n){return new(n||t)(T(_h),T(xh),T(za),T(gD),T(Z),T(Qe),T(ee),T(qa))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Ir=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,e,n,o){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=o}destroy(){}destroyNode=null;createElement(r,e){return e?this.doc.createElementNS(wc[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(Rh(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(Rh(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){e.remove()}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new b(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,o){if(o){e=o+":"+e;let i=wc[o];i?r.setAttributeNS(i,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let o=wc[n];o?r.removeAttributeNS(o,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,o){o&(qt.DashCase|qt.Important)?r.style.setProperty(e,n,o&qt.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&qt.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n){if(typeof r=="string"&&(r=bn().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${e}`);return this.eventManager.addEventListener(r,e,this.decoratePreventDefault(n))}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(e)):r(e))===!1&&e.preventDefault()}}};function Rh(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Cc=class extends Ir{sharedStylesHost;hostEl;shadowRoot;constructor(r,e,n,o,i,s,a,c){super(r,i,s,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Nh(o.id,o.styles);for(let f of l){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=f,this.shadowRoot.appendChild(g)}let d=o.getExternalStyles?.();if(d)for(let f of d){let g=Ec(f,i);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Er=class extends Ir{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,e,n,o,i,s,a,c){super(r,i,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?Nh(c,n.styles):n.styles,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_i=class extends Er{contentAttr;hostAttr;constructor(r,e,n,o,i,s,a,c){let l=o+"-"+n.id;super(r,e,n,i,s,a,c,l),this.contentAttr=mD(l),this.hostAttr=vD(l)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}},yD=(()=>{class t extends Ai{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,o){return e.addEventListener(n,o,!1),()=>this.removeEventListener(e,n,o)}removeEventListener(e,n,o){return e.removeEventListener(n,o)}static \u0275fac=function(n){return new(n||t)(T(Z))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})(),Ah=["alt","control","meta","shift"],wD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DD={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SD=(()=>{class t extends Ai{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,o){let i=t.parseEventName(n),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bn().onAndCancel(e,i.domEventName,s))}static parseEventName(e){let n=e.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),Ah.forEach(l=>{let d=n.indexOf(l);d>-1&&(n.splice(d,1),s+=l+".")}),s+=i,n.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let o=wD[e.key]||e.key,i="";return n.indexOf("code.")>-1&&(o=e.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ah.forEach(s=>{if(s!==o){let a=DD[s];a(e)&&(i+=s+".")}}),i+=o,i===n)}static eventCallback(e,n,o){return i=>{t.matchEventFullKeyCode(i,e)&&o.runGuarded(()=>n(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(T(Z))};static \u0275prov=p({token:t,factory:t.\u0275fac})}return t})();function Oh(t,r){return eh(y({rootComponent:t},ID(r)))}function ID(t){return{appProviders:[...MD,...t?.providers??[]],platformProviders:TD}}function ED(){Sc.makeCurrent()}function CD(){return new Dt}function bD(){return sf(document),document}var TD=[{provide:Qe,useValue:lc},{provide:Wa,useValue:ED,multi:!0},{provide:Z,useFactory:bD,deps:[]}];var MD=[{provide:oi,useValue:"root"},{provide:Dt,useFactory:CD,deps:[]},{provide:Ic,useClass:yD,multi:!0,deps:[Z,ee,Qe]},{provide:Ic,useClass:SD,multi:!0,deps:[Z]},Mh,xh,_h,{provide:It,useExisting:Mh},{provide:Tn,useClass:uD,deps:[]},[]];var Ph=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(T(Z))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N="primary",Vr=Symbol("RouteTitle"),_c=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function kn(t){return new _c(t)}function AD(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let o={};for(let i=0;i<n.length;i++){let s=n[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function _D(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!Xe(t[e],r[e]))return!1;return!0}function Xe(t,r){let e=t?xc(t):void 0,n=r?xc(r):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!Hh(t[o],r[o]))return!1;return!0}function xc(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Hh(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((o,i)=>n[i]===o)}else return t===r}function zh(t){return t.length>0?t[t.length-1]:null}function Tt(t){return As(t)?t:hr(t)?J(Promise.resolve(t)):m(t)}var xD={exact:qh,subset:Gh},Wh={exact:kD,subset:ND,ignored:()=>!0};function Fh(t,r,e){return xD[e.paths](t.root,r.root,e.matrixParams)&&Wh[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function kD(t,r){return Xe(t,r)}function qh(t,r,e){if(!Yt(t.segments,r.segments)||!Ni(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!qh(t.children[n],r.children[n],e))return!1;return!0}function ND(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>Hh(t[e],r[e]))}function Gh(t,r,e){return Kh(t,r,r.segments,e)}function Kh(t,r,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!Yt(o,e)||r.hasChildren()||!Ni(o,e,n))}else if(t.segments.length===e.length){if(!Yt(t.segments,e)||!Ni(t.segments,e,n))return!1;for(let o in r.children)if(!t.children[o]||!Gh(t.children[o],r.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!Yt(t.segments,o)||!Ni(t.segments,o,n)||!t.children[N]?!1:Kh(t.children[N],r,i,n)}}function Ni(t,r,e){return r.every((n,o)=>Wh[e](t[o].parameters,n.parameters))}var ht=class{root;queryParams;fragment;_queryParamMap;constructor(r=new V([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=kn(this.queryParams),this._queryParamMap}toString(){return FD.serialize(this)}},V=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oi(this)}},Zt=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=kn(this.parameters),this._parameterMap}toString(){return Yh(this)}};function OD(t,r){return Yt(t,r)&&t.every((e,n)=>Xe(e.parameters,r[n].parameters))}function Yt(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function PD(t,r){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===N&&(e=e.concat(r(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==N&&(e=e.concat(r(o,n)))}),e}var rl=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>new _r,providedIn:"root"})}return t})(),_r=class{parse(r){let e=new Nc(r);return new ht(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${Cr(r.root,!0)}`,n=UD(r.queryParams),o=typeof r.fragment=="string"?`#${LD(r.fragment)}`:"";return`${e}${n}${o}`}},FD=new _r;function Oi(t){return t.segments.map(r=>Yh(r)).join("/")}function Cr(t,r){if(!t.hasChildren())return Oi(t);if(r){let e=t.children[N]?Cr(t.children[N],!1):"",n=[];return Object.entries(t.children).forEach(([o,i])=>{o!==N&&n.push(`${o}:${Cr(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=PD(t,(n,o)=>o===N?[Cr(t.children[N],!1)]:[`${o}:${Cr(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[N]!=null?`${Oi(t)}/${e[0]}`:`${Oi(t)}/(${e.join("//")})`}}function Zh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xi(t){return Zh(t).replace(/%3B/gi,";")}function LD(t){return encodeURI(t)}function kc(t){return Zh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pi(t){return decodeURIComponent(t)}function Lh(t){return Pi(t.replace(/\+/g,"%20"))}function Yh(t){return`${kc(t.path)}${jD(t.parameters)}`}function jD(t){return Object.entries(t).map(([r,e])=>`;${kc(r)}=${kc(e)}`).join("")}function UD(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${xi(e)}=${xi(o)}`).join("&"):`${xi(e)}=${xi(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var VD=/^[^\/()?;#]+/;function Tc(t){let r=t.match(VD);return r?r[0]:""}var $D=/^[^\/()?;=#]+/;function BD(t){let r=t.match($D);return r?r[0]:""}var HD=/^[^=?&#]+/;function zD(t){let r=t.match(HD);return r?r[0]:""}var WD=/^[^&#]+/;function qD(t){let r=t.match(WD);return r?r[0]:""}var Nc=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new V([],{}):new V([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[N]=new V(r,e)),n}parseSegment(){let r=Tc(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(r),new Zt(Pi(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=BD(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=Tc(this.remaining);o&&(n=o,this.capture(n))}r[Pi(e)]=Pi(n)}parseQueryParam(r){let e=zD(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=qD(this.remaining);s&&(n=s,this.capture(n))}let o=Lh(e),i=Lh(n);if(r.hasOwnProperty(o)){let s=r[o];Array.isArray(s)||(s=[s],r[o]=s),s.push(i)}else r[o]=i}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Tc(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new b(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):r&&(i=N);let s=this.parseChildren();e[i]=Object.keys(s).length===1?s[N]:new V([],s),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new b(4011,!1)}};function Qh(t){return t.segments.length>0?new V([],{[N]:t}):t}function Jh(t){let r={};for(let[n,o]of Object.entries(t.children)){let i=Jh(o);if(n===N&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))r[s]=a;else(i.segments.length>0||i.hasChildren())&&(r[n]=i)}let e=new V(t.segments,r);return GD(e)}function GD(t){if(t.numberOfChildren===1&&t.children[N]){let r=t.children[N];return new V(t.segments.concat(r.segments),r.children)}return t}function xr(t){return t instanceof ht}function KD(t,r,e=null,n=null){let o=Xh(t);return ep(o,r,e,n)}function Xh(t){let r;function e(i){let s={};for(let c of i.children){let l=e(c);s[c.outlet]=l}let a=new V(i.url,s);return i===t&&(r=a),a}let n=e(t.root),o=Qh(n);return r??o}function ep(t,r,e,n){let o=t;for(;o.parent;)o=o.parent;if(r.length===0)return Mc(o,o,o,e,n);let i=ZD(r);if(i.toRoot())return Mc(o,o,new V([],{}),e,n);let s=YD(i,o,t),a=s.processChildren?Mr(s.segmentGroup,s.index,i.commands):np(s.segmentGroup,s.index,i.commands);return Mc(o,s.segmentGroup,a,e,n)}function Fi(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kr(t){return typeof t=="object"&&t!=null&&t.outlets}function Mc(t,r,e,n,o){let i={};n&&Object.entries(n).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;t===r?s=e:s=tp(t,r,e);let a=Qh(Jh(s));return new ht(a,i,o)}function tp(t,r,e){let n={};return Object.entries(t.children).forEach(([o,i])=>{i===r?n[o]=e:n[o]=tp(i,r,e)}),new V(t.segments,n)}var Li=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&Fi(n[0]))throw new b(4003,!1);let o=n.find(kr);if(o&&o!==zh(n))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZD(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Li(!0,0,t);let r=0,e=!1,n=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?e=!0:a===".."?r++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Li(e,r,n)}var An=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function YD(t,r,e){if(t.isAbsolute)return new An(r,!0,0);if(!e)return new An(r,!1,NaN);if(e.parent===null)return new An(e,!0,0);let n=Fi(t.commands[0])?0:1,o=e.segments.length-1+n;return QD(e,o,t.numberOfDoubleDots)}function QD(t,r,e){let n=t,o=r,i=e;for(;i>o;){if(i-=o,n=n.parent,!n)throw new b(4005,!1);o=n.segments.length}return new An(n,!1,o-i)}function JD(t){return kr(t[0])?t[0].outlets:{[N]:t}}function np(t,r,e){if(t??=new V([],{}),t.segments.length===0&&t.hasChildren())return Mr(t,r,e);let n=XD(t,r,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new V(t.segments.slice(0,n.pathIndex),{});return i.children[N]=new V(t.segments.slice(n.pathIndex),t.children),Mr(i,0,o)}else return n.match&&o.length===0?new V(t.segments,{}):n.match&&!t.hasChildren()?Oc(t,r,e):n.match?Mr(t,0,o):Oc(t,r,e)}function Mr(t,r,e){if(e.length===0)return new V(t.segments,{});{let n=JD(e),o={};if(Object.keys(n).some(i=>i!==N)&&t.children[N]&&t.numberOfChildren===1&&t.children[N].segments.length===0){let i=Mr(t.children[N],r,e);return new V(t.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=np(t.children[i],r,s))}),Object.entries(t.children).forEach(([i,s])=>{n[i]===void 0&&(o[i]=s)}),new V(t.segments,o)}}function XD(t,r,e){let n=0,o=r,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return i;let s=t.segments[o],a=e[n];if(kr(a))break;let c=`${a}`,l=n<e.length-1?e[n+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Uh(c,l,s))return i;n+=2}else{if(!Uh(c,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function Oc(t,r,e){let n=t.segments.slice(0,r),o=0;for(;o<e.length;){let i=e[o];if(kr(i)){let c=eS(i.outlets);return new V(n,c)}if(o===0&&Fi(e[0])){let c=t.segments[r];n.push(new Zt(c.path,jh(e[0]))),o++;continue}let s=kr(i)?i.outlets[N]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Fi(a)?(n.push(new Zt(s,jh(a))),o+=2):(n.push(new Zt(s,{})),o++)}return new V(n,{})}function eS(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=Oc(new V([],{}),0,n))}),r}function jh(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Uh(t,r,e){return t==e.path&&Xe(r,e.parameters)}var Rr="imperative",de=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(de||{}),Le=class{id;url;constructor(r,e){this.id=r,this.url=e}},Nr=class extends Le{type=de.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",o=null){super(r,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Le{urlAfterRedirects;type=de.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_e=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_e||{}),Pc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pc||{}),ft=class extends Le{reason;code;type=de.NavigationCancel;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Jt=class extends Le{reason;code;type=de.NavigationSkipped;constructor(r,e,n,o){super(r,e),this.reason=n,this.code=o}},Or=class extends Le{error;target;type=de.NavigationError;constructor(r,e,n,o){super(r,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ji=class extends Le{urlAfterRedirects;state;type=de.RoutesRecognized;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fc=class extends Le{urlAfterRedirects;state;type=de.GuardsCheckStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lc=class extends Le{urlAfterRedirects;state;shouldActivate;type=de.GuardsCheckEnd;constructor(r,e,n,o,i){super(r,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jc=class extends Le{urlAfterRedirects;state;type=de.ResolveStart;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uc=class extends Le{urlAfterRedirects;state;type=de.ResolveEnd;constructor(r,e,n,o){super(r,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vc=class{route;type=de.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$c=class{route;type=de.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bc=class{snapshot;type=de.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hc=class{snapshot;type=de.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zc=class{snapshot;type=de.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=de.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Pr=class{},Nn=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function tS(t,r){return t.providers&&!t._injector&&(t._injector=oc(t.providers,r,`Route: ${t.path}`)),t._injector??r}function Be(t){return t.outlet||N}function nS(t,r){let e=t.filter(n=>Be(n)===r);return e.push(...t.filter(n=>Be(n)!==r)),e}function $r(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var qc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $r(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new Wi(this.rootInjector)}},Wi=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new qc(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(T(ve))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ui=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=Gc(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=Gc(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=Kc(r,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return Kc(r,this._root).map(e=>e.value)}};function Gc(t,r){if(t===r.value)return r;for(let e of r.children){let n=Gc(t,e);if(n)return n}return null}function Kc(t,r){if(t===r.value)return[r];for(let e of r.children){let n=Kc(t,e);if(n.length)return n.unshift(r),n}return[]}var Ae=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function Rn(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var Vi=class extends Ui{snapshot;constructor(r,e){super(r),this.snapshot=e,ol(this,r)}toString(){return this.snapshot.toString()}};function rp(t){let r=rS(t),e=new oe([new Zt("",{})]),n=new oe({}),o=new oe({}),i=new oe({}),s=new oe(""),a=new On(e,n,i,s,o,N,t,r.root);return a.snapshot=r.root,new Vi(new Ae(a,[]),r)}function rS(t){let r={},e={},n={},o="",i=new _n([],r,n,o,e,N,t,null,{});return new Bi("",new Ae(i,[]))}var On=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,o,i,s,a,c){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(w(l=>l[Vr]))??m(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(w(r=>kn(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(w(r=>kn(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $i(t,r,e="emptyOnly"){let n,{routeConfig:o}=t;return r!==null&&(e==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:y(y({},r.params),t.params),data:y(y({},r.data),t.data),resolve:y(y(y(y({},t.data),r.data),o?.data),t._resolvedData)}:n={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},o&&ip(o)&&(n.resolve[Vr]=o.title),n}var _n=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vr]}constructor(r,e,n,o,i,s,a,c,l){this.url=r,this.params=e,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=kn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=kn(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},Bi=class extends Ui{url;constructor(r,e){super(e),this.url=r,ol(this,e)}toString(){return op(this._root)}};function ol(t,r){r.value._routerState=t,r.children.forEach(e=>ol(t,e))}function op(t){let r=t.children.length>0?` { ${t.children.map(op).join(", ")} } `:"";return`${t.value}${r}`}function Rc(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Xe(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Xe(r.params,e.params)||t.paramsSubject.next(e.params),_D(r.url,e.url)||t.urlSubject.next(e.url),Xe(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zc(t,r){let e=Xe(t.params,r.params)&&OD(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Zc(t.parent,r.parent))}function ip(t){return typeof t.title=="string"||t.title===null}var oS=new C(""),Br=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=Jd(void 0);parentContexts=u(Wi);location=u(pi);changeDetector=u(gr);inputBinder=u(il,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Yc(e,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ic({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ka]})}return t})(),Yc=class t{route;childContexts;parent;outletData;__ngOutletInjector(r){return new t(this.route,this.childContexts,r,this.outletData)}constructor(r,e,n,o){this.route=r,this.childContexts=e,this.parent=n,this.outletData=o}get(r,e){return r===On?this.route:r===Wi?this.childContexts:r===oS?this.outletData:this.parent.get(r,e)}},il=new C("");function iS(t,r,e){let n=Fr(t,r._root,e?e._root:void 0);return new Vi(n,r)}function Fr(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let o=sS(t,r,e);return new Ae(n,o)}else{if(t.shouldAttach(r.value)){let i=t.retrieve(r.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(a=>Fr(t,a)),s}}let n=aS(r.value),o=r.children.map(i=>Fr(t,i));return new Ae(n,o)}}function sS(t,r,e){return r.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return Fr(t,n,o);return Fr(t,n)})}function aS(t){return new On(new oe(t.url),new oe(t.params),new oe(t.queryParams),new oe(t.fragment),new oe(t.data),t.outlet,t.component,t)}var Lr=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},sp="ngNavigationCancelingError";function Hi(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=xr(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=ap(!1,_e.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function ap(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[sp]=!0,e.cancellationCode=r,e}function cS(t){return cp(t)&&xr(t.url)}function cp(t){return!!t&&t[sp]}var lS=(t,r,e,n)=>w(o=>(new Qc(r,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),Qc=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,o,i){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),Rc(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let o=Rn(e);r.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(o===i)if(o.component){let s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(r,e,s.children)}else this.deactivateChildRoutes(r,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Rn(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:a})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),o=n&&r.value.component?n.children:e,i=Rn(r);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let o=Rn(e);r.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new Wc(i.value.snapshot))}),r.children.length&&this.forwardEvent(new Hc(r.value.snapshot))}activateRoutes(r,e,n){let o=r.value,i=e?e.value:null;if(Rc(o),o===i)if(o.component){let s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(r,e,s.children)}else this.activateChildRoutes(r,e,n);else if(o.component){let s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rc(a.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},zi=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},xn=class{component;route;constructor(r,e){this.component=r,this.route=e}};function uS(t,r,e){let n=t._root,o=r?r._root:null;return br(n,o,e,[n.value])}function dS(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function Fn(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!qu(t)?t:r.get(t):n}function br(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Rn(r);return t.children.forEach(s=>{fS(s,i[s.value.outlet],e,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ar(a,e.getContext(s),o)),o}function fS(t,r,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=r?r.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=hS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new zi(n)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?br(t,r,a?a.children:null,n,o):br(t,r,e,n,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new xn(a.outlet.component,s))}else s&&Ar(r,a,o),o.canActivateChecks.push(new zi(n)),i.component?br(t,null,a?a.children:null,n,o):br(t,null,e,n,o);return o}function hS(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!Yt(t.url,r.url);case"pathParamsOrQueryParamsChange":return!Yt(t.url,r.url)||!Xe(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zc(t,r)||!Xe(t.queryParams,r.queryParams);case"paramsChange":default:return!Zc(t,r)}}function Ar(t,r,e){let n=Rn(t),o=t.value;Object.entries(n).forEach(([i,s])=>{o.component?r?Ar(s,r.children.getContext(i),e):Ar(s,null,e):Ar(s,r,e)}),o.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new xn(r.outlet.component,o)):e.canDeactivateChecks.push(new xn(null,o)):e.canDeactivateChecks.push(new xn(null,o))}function Hr(t){return typeof t=="function"}function pS(t){return typeof t=="boolean"}function gS(t){return t&&Hr(t.canLoad)}function mS(t){return t&&Hr(t.canActivate)}function vS(t){return t&&Hr(t.canActivateChild)}function yS(t){return t&&Hr(t.canDeactivate)}function wS(t){return t&&Hr(t.canMatch)}function lp(t){return t instanceof rt||t?.name==="EmptyError"}var ki=Symbol("INITIAL_VALUE");function Pn(){return j(t=>Mo(t.map(r=>r.pipe(me(1),Fs(ki)))).pipe(w(r=>{for(let e of r)if(e!==!0){if(e===ki)return ki;if(e===!1||DS(e))return e}return!0}),Ee(r=>r!==ki),me(1)))}function DS(t){return xr(t)||t instanceof Lr}function SS(t,r){return Q(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return s.length===0&&i.length===0?m($(y({},e),{guardsResult:!0})):IS(s,n,o,t).pipe(Q(a=>a&&pS(a)?ES(n,i,t,r):m(a)),w(a=>$(y({},e),{guardsResult:a})))})}function IS(t,r,e,n){return J(t).pipe(Q(o=>RS(o.component,o.route,e,r,n)),ot(o=>o!==!0,!0))}function ES(t,r,e,n){return J(r).pipe(P(o=>ln(bS(o.route.parent,n),CS(o.route,n),MS(t,o.path,e),TS(t,o.route,e))),ot(o=>o!==!0,!0))}function CS(t,r){return t!==null&&r&&r(new zc(t)),m(!0)}function bS(t,r){return t!==null&&r&&r(new Bc(t)),m(!0)}function TS(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return m(!0);let o=n.map(i=>Ro(()=>{let s=$r(r)??e,a=Fn(i,s),c=mS(a)?a.canActivate(r,t):Me(s,()=>a(r,t));return Tt(c).pipe(ot())}));return m(o).pipe(Pn())}function MS(t,r,e){let n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(s=>dS(s)).filter(s=>s!==null).map(s=>Ro(()=>{let a=s.guards.map(c=>{let l=$r(s.node)??e,d=Fn(c,l),f=vS(d)?d.canActivateChild(n,t):Me(l,()=>d(n,t));return Tt(f).pipe(ot())});return m(a).pipe(Pn())}));return m(i).pipe(Pn())}function RS(t,r,e,n,o){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return m(!0);let s=i.map(a=>{let c=$r(r)??o,l=Fn(a,c),d=yS(l)?l.canDeactivate(t,r,e,n):Me(c,()=>l(t,r,e,n));return Tt(d).pipe(ot())});return m(s).pipe(Pn())}function AS(t,r,e,n){let o=r.canLoad;if(o===void 0||o.length===0)return m(!0);let i=o.map(s=>{let a=Fn(s,t),c=gS(a)?a.canLoad(r,e):Me(t,()=>a(r,e));return Tt(c)});return m(i).pipe(Pn(),up(n))}function up(t){return Cs(H(r=>{if(typeof r!="boolean")throw Hi(t,r)}),w(r=>r===!0))}function _S(t,r,e,n){let o=r.canMatch;if(!o||o.length===0)return m(!0);let i=o.map(s=>{let a=Fn(s,t),c=wS(a)?a.canMatch(r,e):Me(t,()=>a(r,e));return Tt(c)});return m(i).pipe(Pn(),up(n))}var jr=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},Ur=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function Mn(t){return E(new jr(t))}function xS(t){return E(new b(4e3,!1))}function kS(t){return E(ap(!1,_e.GuardRejected))}var Jc=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return m(n);if(o.numberOfChildren>1||!o.children[N])return xS(`${r.redirectTo}`);o=o.children[N]}}applyRedirectCommands(r,e,n,o,i){if(typeof e!="string"){let a=e,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,params:h,data:v,title:D}=o,S=Me(i,()=>a({params:h,data:v,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,title:D}));if(S instanceof ht)throw new Ur(S);e=S}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),r,n);if(e[0]==="/")throw new Ur(s);return s}applyRedirectCreateUrlTree(r,e,n,o){let i=this.createSegmentGroup(r,e.root,n,o);return new ht(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);n[o]=e[a]}else n[o]=i}),n}createSegmentGroup(r,e,n,o){let i=this.createSegments(r,e.segments,n,o),s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(r,c,n,o)}),new V(i,s)}createSegments(r,e,n,o){return e.map(i=>i.path[0]===":"?this.findPosParam(r,i,o):this.findOrReturn(i,n))}findPosParam(r,e,n){let o=n[e.path.substring(1)];if(!o)throw new b(4001,!1);return o}findOrReturn(r,e){let n=0;for(let o of e){if(o.path===r.path)return e.splice(n),o;n++}return r}},Xc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NS(t,r,e,n,o){let i=dp(t,r,e);return i.matched?(n=tS(r,n),_S(n,r,e,o).pipe(w(s=>s===!0?i:y({},Xc)))):m(i)}function dp(t,r,e){if(r.path==="**")return OS(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?y({},Xc):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(r.matcher||AD)(e,t,r);if(!o)return y({},Xc);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?y(y({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function OS(t){return{matched:!0,parameters:t.length>0?zh(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Vh(t,r,e,n){return e.length>0&&LS(t,e,n)?{segmentGroup:new V(r,FS(n,new V(e,t.children))),slicedSegments:[]}:e.length===0&&jS(t,e,n)?{segmentGroup:new V(t.segments,PS(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new V(t.segments,t.children),slicedSegments:e}}function PS(t,r,e,n){let o={};for(let i of e)if(qi(t,r,i)&&!n[Be(i)]){let s=new V([],{});o[Be(i)]=s}return y(y({},n),o)}function FS(t,r){let e={};e[N]=r;for(let n of t)if(n.path===""&&Be(n)!==N){let o=new V([],{});e[Be(n)]=o}return e}function LS(t,r,e){return e.some(n=>qi(t,r,n)&&Be(n)!==N)}function jS(t,r,e){return e.some(n=>qi(t,r,n))}function qi(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function US(t,r,e){return r.length===0&&!t.children[e]}var el=class{};function VS(t,r,e,n,o,i,s="emptyOnly"){return new tl(t,r,e,n,o,s,i).recognize()}var $S=31,tl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,o,i,s,a){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jc(this.urlSerializer,this.urlTree)}noMatchError(r){return new b(4002,`'${r.segmentGroup}'`)}recognize(){let r=Vh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(w(({children:e,rootSnapshot:n})=>{let o=new Ae(n,e),i=new Bi("",o),s=KD(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(r){let e=new _n([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,N,e).pipe(w(n=>({children:n,rootSnapshot:e})),G(n=>{if(n instanceof Ur)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof jr?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,o,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,i):this.processSegment(r,e,n,n.segments,o,!0,i).pipe(w(s=>s instanceof Ae?[s]:[]))}processChildren(r,e,n,o){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return J(i).pipe(P(s=>{let a=n.children[s],c=nS(e,s);return this.processSegmentGroup(r,c,a,s,o)}),Ps((s,a)=>(s.push(...a),s)),mt(null),Os(),Q(s=>{if(s===null)return Mn(n);let a=fp(s);return BS(a),m(a)}))}processSegment(r,e,n,o,i,s,a){return J(e).pipe(P(c=>this.processSegmentAgainstRoute(c._injector??r,e,c,n,o,i,s,a).pipe(G(l=>{if(l instanceof jr)return m(null);throw l}))),ot(c=>!!c),G(c=>{if(lp(c))return US(n,o,i)?m(new el):Mn(n);throw c}))}processSegmentAgainstRoute(r,e,n,o,i,s,a,c){return Be(n)!==s&&(s===N||!qi(o,i,n))?Mn(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,n,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,o,e,n,i,s,c):Mn(o)}expandSegmentAgainstRouteUsingRedirect(r,e,n,o,i,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=dp(e,o,i);if(!c)return Mn(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$S&&(this.allowRedirects=!1));let h=new _n(i,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,$h(o),Be(o),o.component??o._loadedComponent??null,o,Bh(o)),v=$i(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let D=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,f,h,r);return this.applyRedirects.lineralizeSegments(o,D).pipe(Q(S=>this.processSegment(r,n,e,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(r,e,n,o,i,s){let a=NS(e,n,o,r,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(j(c=>c.matched?(r=n._injector??r,this.getChildConfig(r,n,o).pipe(j(({routes:l})=>{let d=n._loadedInjector??r,{parameters:f,consumedSegments:g,remainingSegments:h}=c,v=new _n(g,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,$h(n),Be(n),n.component??n._loadedComponent??null,n,Bh(n)),D=$i(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let{segmentGroup:S,slicedSegments:_}=Vh(e,g,h,l);if(_.length===0&&S.hasChildren())return this.processChildren(d,l,S,v).pipe(w(I=>new Ae(v,I)));if(l.length===0&&_.length===0)return m(new Ae(v,[]));let q=Be(n)===i;return this.processSegment(d,l,S,_,q?N:i,!0,v).pipe(w(I=>new Ae(v,I instanceof Ae?[I]:[])))}))):Mn(e)))}getChildConfig(r,e,n){return e.children?m({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?m({routes:e._loadedRoutes,injector:e._loadedInjector}):AS(r,e,n,this.urlSerializer).pipe(Q(o=>o?this.configLoader.loadChildren(r,e).pipe(H(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):kS(e))):m({routes:[],injector:r})}};function BS(t){t.sort((r,e)=>r.value.outlet===N?-1:e.value.outlet===N?1:r.value.outlet.localeCompare(e.value.outlet))}function HS(t){let r=t.value.routeConfig;return r&&r.path===""}function fp(t){let r=[],e=new Set;for(let n of t){if(!HS(n)){r.push(n);continue}let o=r.find(i=>n.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):r.push(n)}for(let n of e){let o=fp(n.children);r.push(new Ae(n.value,o))}return r.filter(n=>!e.has(n))}function $h(t){return t.data||{}}function Bh(t){return t.resolve||{}}function zS(t,r,e,n,o,i){return Q(s=>VS(t,r,e,n,s.extractedUrl,o,i).pipe(w(({state:a,tree:c})=>$(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function WS(t,r){return Q(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return m(e);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of hp(c))s.add(l);let a=0;return J(s).pipe(P(c=>i.has(c)?qS(c,n,t,r):(c.data=$i(c,c.parent,t).resolve,m(void 0))),H(()=>a++),un(1),Q(c=>a===s.size?m(e):Ie))})}function hp(t){let r=t.children.map(e=>hp(e)).flat();return[t,...r]}function qS(t,r,e,n){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!ip(o)&&(i[Vr]=o.title),GS(i,t,r,n).pipe(w(s=>(t._resolvedData=s,t.data=$i(t,t.parent,e).resolve,null)))}function GS(t,r,e,n){let o=xc(t);if(o.length===0)return m({});let i={};return J(o).pipe(Q(s=>KS(t[s],r,e,n).pipe(ot(),H(a=>{if(a instanceof Lr)throw Hi(new _r,a);i[s]=a}))),un(1),ks(i),G(s=>lp(s)?Ie:E(s)))}function KS(t,r,e,n){let o=$r(r)??n,i=Fn(t,o),s=i.resolve?i.resolve(r,e):Me(o,()=>i(r,e));return Tt(s)}function Ac(t){return j(r=>{let e=t(r);return e?J(e).pipe(w(()=>r)):m(r)})}var pp=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(i=>i.outlet===N);return n}getResolvedTitleForRoute(e){return e.data[Vr]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(ZS),providedIn:"root"})}return t})(),ZS=(()=>{class t extends pp{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(T(Ph))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sl=new C("",{providedIn:"root",factory:()=>({})}),YS=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=we({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,o){n&1&&te(0,"router-outlet")},dependencies:[Br],encapsulation:2})}return t})();function al(t){let r=t.children&&t.children.map(al),e=r?$(y({},t),{children:r}):y({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==N&&(e.component=YS),e}var cl=new C(""),QS=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=u(ac);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return m(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Tt(e.loadComponent()).pipe(w(gp),H(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),He(()=>{this.componentLoaders.delete(e)})),o=new an(n,()=>new X).pipe(sn());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return m({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=JS(n,this.compiler,e,this.onLoadEndListener).pipe(He(()=>{this.childrenLoaders.delete(n)})),s=new an(i,()=>new X).pipe(sn());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JS(t,r,e,n){return Tt(t.loadChildren()).pipe(w(gp),Q(o=>o instanceof cr||Array.isArray(o)?m(o):J(r.compileModuleAsync(o))),w(o=>{n&&n(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(e).injector,s=i.get(cl,[],{optional:!0,self:!0}).flat()),{routes:s.map(al),injector:i}}))}function XS(t){return t&&typeof t=="object"&&"default"in t}function gp(t){return XS(t)?t.default:t}var ll=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(eI),providedIn:"root"})}return t})(),eI=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tI=new C("");var nI=new C(""),rI=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new X;transitionAbortSubject=new X;configLoader=u(QS);environmentInjector=u(ve);urlSerializer=u(rl);rootContexts=u(Wi);location=u(mr);inputBindingEnabled=u(il,{optional:!0})!==null;titleStrategy=u(pp);options=u(sl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=u(ll);createViewTransition=u(tI,{optional:!0});navigationErrorHandler=u(nI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>m(void 0);rootComponentType=null;constructor(){let e=o=>this.events.next(new Vc(o)),n=o=>this.events.next(new $c(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next($(y(y({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,o){return this.transitions=new oe({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Rr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ee(i=>i.id!==0),w(i=>$(y({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),j(i=>{let s=!1,a=!1;return m(i).pipe(j(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",_e.SupersededByNewNavigation),Ie;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&d!=="reload"){let f="";return this.events.next(new Jt(c.id,this.urlSerializer.serialize(c.rawUrl),f,Pc.IgnoredSameUrlNavigation)),c.resolve(!1),Ie}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return m(c).pipe(j(f=>{let g=this.transitions?.getValue();return this.events.next(new Nr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?Ie:Promise.resolve(f)}),zS(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),H(f=>{i.targetSnapshot=f.targetSnapshot,i.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=$(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new ji(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:g,source:h,restoredState:v,extras:D}=c,S=new Nr(f,this.urlSerializer.serialize(g),h,v);this.events.next(S);let _=rp(this.rootComponentType).snapshot;return this.currentTransition=i=$(y({},c),{targetSnapshot:_,urlAfterRedirects:g,extras:$(y({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,m(i)}else{let f="";return this.events.next(new Jt(c.id,this.urlSerializer.serialize(c.extractedUrl),f,Pc.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Ie}}),H(c=>{let l=new Fc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),w(c=>(this.currentTransition=i=$(y({},c),{guards:uS(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),SS(this.environmentInjector,c=>this.events.next(c)),H(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Hi(this.urlSerializer,c.guardsResult);let l=new Lc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Ee(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",_e.GuardRejected),!1)),Ac(c=>{if(c.guards.canActivateChecks.length)return m(c).pipe(H(l=>{let d=new jc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),j(l=>{let d=!1;return m(l).pipe(WS(this.paramsInheritanceStrategy,this.environmentInjector),H({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",_e.NoDataFromResolver)}}))}),H(l=>{let d=new Uc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Ac(c=>{let l=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(H(g=>{d.component=g}),w(()=>{})));for(let g of d.children)f.push(...l(g));return f};return Mo(l(c.targetSnapshot.root)).pipe(mt(null),me(1))}),Ac(()=>this.afterPreactivation()),j(()=>{let{currentSnapshot:c,targetSnapshot:l}=i,d=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return d?J(d).pipe(w(()=>i)):m(i)}),w(c=>{let l=iS(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=$(y({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),H(()=>{this.events.next(new Pr)}),lS(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),me(1),H({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Ls(this.transitionAbortSubject.pipe(H(c=>{throw c}))),He(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",_e.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),G(c=>{if(a=!0,cp(c))this.events.next(new ft(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),cS(c)?this.events.next(new Nn(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let l=new Or(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let d=Me(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof Lr){let{message:f,cancellationCode:g}=Hi(this.urlSerializer,d);this.events.next(new ft(i.id,this.urlSerializer.serialize(i.extractedUrl),f,g)),this.events.next(new Nn(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(d){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(d)}}return Ie}))}))}cancelNavigationTransition(e,n,o){let i=new ft(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function oI(t){return t!==Rr}var iI=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(sI),providedIn:"root"})}return t})(),nl=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},sI=(()=>{class t extends nl{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Va(t)))(o||t)}})();static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:()=>u(aI),providedIn:"root"})}return t})(),aI=(()=>{class t extends mp{location=u(mr);urlSerializer=u(rl);options=u(sl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=u(ll);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ht;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=rp(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Nr)this.stateMemento=this.createStateMemento();else if(e instanceof Jt)this.rawUrlTree=n.initialUrl;else if(e instanceof ji){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else e instanceof Pr?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof ft&&(e.code===_e.GuardRejected||e.code===_e.NoDataFromResolver)?this.restoreHistory(n):e instanceof Or?this.restoreHistory(n,!0):e instanceof Qt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let o=e instanceof ht?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let i=this.browserPageId,s=y(y({},n.extras.state),this.generateNgRouterState(n.id,i));this.location.replaceState(o,"",s)}else{let i=y(y({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===e.finalUrl&&i===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Va(t)))(o||t)}})();static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Tr||{});function cI(t,r){t.events.pipe(Ee(e=>e instanceof Qt||e instanceof ft||e instanceof Or||e instanceof Jt),w(e=>e instanceof Qt||e instanceof Jt?Tr.COMPLETE:(e instanceof ft?e.code===_e.Redirect||e.code===_e.SupersededByNewNavigation:!1)?Tr.REDIRECTING:Tr.FAILED),Ee(e=>e!==Tr.REDIRECTING),me(1)).subscribe(()=>{r()})}var lI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=u(gi);stateManager=u(mp);options=u(sl,{optional:!0})||{};pendingTasks=u(ut);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=u(rI);urlSerializer=u(rl);location=u(mr);urlHandlingStrategy=u(ll);_events=new X;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=u(iI);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=u(cl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!u(il,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof ft&&n.code!==_e.Redirect&&n.code!==_e.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Qt)this.navigated=!0;else if(n instanceof Nn){let s=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),c=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oI(o.source)},s);this.scheduleNavigation(a,Rr,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}fI(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=y({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(al),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=y(y({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let g=o?o.snapshot:this.routerState.snapshot.root;f=Xh(g)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return ep(f,e,d,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=xr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Rr,null,n)}navigate(e,n={skipLocationChange:!1}){return dI(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=y({},lI):n===!1?o=y({},uI):o=n,xr(e))return Fh(this.currentUrlTree,e,o);let i=this.parseUrl(e);return Fh(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,i])=>(i!=null&&(n[o]=i),n),{})}scheduleNavigation(e,n,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,g)=>{a=f,c=g});let d=this.pendingTasks.add();return cI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dI(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new b(4008,!1)}function fI(t){return!(t instanceof Pr)&&!(t instanceof Nn)}var hI=new C("");function vp(t,...r){return Ct([{provide:cl,multi:!0,useValue:t},[],{provide:On,useFactory:pI,deps:[Mt]},{provide:mi,multi:!0,useFactory:gI},r.map(e=>e.\u0275providers)])}function pI(t){return t.routerState.root}function gI(){let t=u(st);return r=>{let e=t.get(at);if(r!==e.components[0])return;let n=t.get(Mt),o=t.get(mI);t.get(vI)===1&&n.initialNavigation(),t.get(yI,null,O.Optional)?.setUpPreloading(),t.get(hI,null,O.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var mI=new C("",{factory:()=>new X}),vI=new C("",{providedIn:"root",factory:()=>1});var yI=new C("");var Ln=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=we({type:t,selectors:[["app-logo"]],decls:7,vars:2,consts:[[1,"font-light","text-red-300"],[1,"font-medium","text-blue-600"]],template:function(e,n){e&1&&(U(0,"span")(1,"span",0),ue(2),W(),U(3,"span",1),ue(4,"BytePipe"),W(),U(5,"span",0),ue(6),W()()),e&2&&(Ja(2),vi("{"),Ja(4),vi("}"))},encapsulation:2})};var yp={chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bits:6};var wp={parse:function(r,e){return DI(r,yp,e)},stringify:function(r,e){return SI(r,yp,e)}};function DI(t,r,e){var n;if(e===void 0&&(e={}),!r.codes){r.codes={};for(var o=0;o<r.chars.length;++o)r.codes[r.chars[o]]=o}if(!e.loose&&t.length*r.bits&7)throw new SyntaxError("Invalid padding");for(var i=t.length;t[i-1]==="=";)if(--i,!e.loose&&!((t.length-i)*r.bits&7))throw new SyntaxError("Invalid padding");for(var s=new((n=e.out)!=null?n:Uint8Array)(i*r.bits/8|0),a=0,c=0,l=0,d=0;d<i;++d){var f=r.codes[t[d]];if(f===void 0)throw new SyntaxError("Invalid character "+t[d]);c=c<<r.bits|f,a+=r.bits,a>=8&&(a-=8,s[l++]=255&c>>a)}if(a>=r.bits||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s}function SI(t,r,e){e===void 0&&(e={});for(var n=e,o=n.pad,i=o===void 0?!0:o,s=(1<<r.bits)-1,a="",c=0,l=0,d=0;d<t.length;++d)for(l=l<<8|255&t[d],c+=8;c>r.bits;)c-=r.bits,a+=r.chars[s&l>>c];if(c&&(a+=r.chars[s&l<<r.bits-c]),i)for(;a.length*r.bits&7;)a+="=";return a}function Gi(t,r){let e=!r?.manualCleanup;e&&!r?.injector&&ud(Gi);let n=e?r?.injector?.get(fr)??u(fr):null,o=II(r?.equal),i;r?.requireSync?i=rc({kind:0},{equal:o}):i=rc({kind:1,value:r?.initialValue},{equal:o});let s=t.subscribe({next:a=>i.set({kind:1,value:a}),error:a=>{if(r?.rejectErrors)throw a;i.set({kind:2,error:a})}});if(r?.requireSync&&i().kind===0)throw new b(601,!1);return n?.onDestroy(s.unsubscribe.bind(s)),th(()=>{let a=i();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new b(601,!1)}},{equal:r?.equal})}function II(t=Object.is){return(r,e)=>r.kind===1&&e.kind===1&&t(r.value,e.value)}var Ki=class{},dl=class{constructor(r){this.passedConfigs=r}loadConfigs(){return Array.isArray(this.passedConfigs)?m(this.passedConfigs):m([this.passedConfigs])}};function EI(t){if(!t?.config)throw new Error("No config provided!");return new dl(t.config)}var Dp=new C("PASSED_CONFIG"),bp=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CI=(()=>{class t{logError(e,...n){console.error(e,...n)}logWarning(e,...n){console.warn(e,...n)}logDebug(e,...n){console.debug(e,...n)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rt=function(t){return t[t.None=0]="None",t[t.Debug=1]="Debug",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t}(Rt||{}),F=(()=>{class t{constructor(){this.abstractLoggerService=u(bp)}logError(e,n,...o){if(this.loggingIsTurnedOff(e))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logError(`[ERROR] ${i} - ${s}`,...o):this.abstractLoggerService.logError(`[ERROR] ${i} - ${s}`)}logWarning(e,n,...o){if(!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,Rt.Warn))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logWarning(`[WARN] ${i} - ${s}`,...o):this.abstractLoggerService.logWarning(`[WARN] ${i} - ${s}`)}logDebug(e,n,...o){if(!e||!this.logLevelIsSet(e)||this.loggingIsTurnedOff(e)||!this.currentLogLevelIsEqualOrSmallerThan(e,Rt.Debug))return;let{configId:i}=e,s=this.isObject(n)?JSON.stringify(n):n;o&&o.length?this.abstractLoggerService.logDebug(`[DEBUG] ${i} - ${s}`,...o):this.abstractLoggerService.logDebug(`[DEBUG] ${i} - ${s}`)}currentLogLevelIsEqualOrSmallerThan(e,n){let{logLevel:o}=e||{};return o?o<=n:!1}logLevelIsSet(e){let{logLevel:n}=e||{};return n===null?!1:n!==void 0}loggingIsTurnedOff(e){let{logLevel:n}=e||{};return n===Rt.None}isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),De=function(t){return t[t.ConfigLoaded=0]="ConfigLoaded",t[t.CheckingAuth=1]="CheckingAuth",t[t.CheckingAuthFinished=2]="CheckingAuthFinished",t[t.CheckingAuthFinishedWithError=3]="CheckingAuthFinishedWithError",t[t.ConfigLoadingFailed=4]="ConfigLoadingFailed",t[t.CheckSessionReceived=5]="CheckSessionReceived",t[t.UserDataChanged=6]="UserDataChanged",t[t.NewAuthenticationResult=7]="NewAuthenticationResult",t[t.TokenExpired=8]="TokenExpired",t[t.IdTokenExpired=9]="IdTokenExpired",t[t.SilentRenewStarted=10]="SilentRenewStarted",t[t.SilentRenewFailed=11]="SilentRenewFailed",t}(De||{}),Xt=(()=>{class t{constructor(){this.notify=new qn(1)}fireEvent(e,n){this.notify.next({type:e,value:n})}registerForEvents(){return this.notify.asObservable()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yi=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bI=(()=>{class t{constructor(){this.loggerService=u(F),this.abstractSecurityStorage=u(Yi)}read(e,n){let{configId:o}=n;if(!o)return this.loggerService.logDebug(n,`Wanted to read '${e}' but configId was '${o}'`),null;if(!this.hasStorage())return this.loggerService.logDebug(n,`Wanted to read '${e}' but Storage was undefined`),null;let i=this.abstractSecurityStorage.read(o);return i?JSON.parse(i):null}write(e,n){let{configId:o}=n;return o?this.hasStorage()?(e=e||null,this.abstractSecurityStorage.write(o,JSON.stringify(e)),!0):(this.loggerService.logDebug(n,"Wanted to write but Storage was falsy"),!1):(this.loggerService.logDebug(n,`Wanted to write but configId was '${o}'`),!1)}remove(e,n){return this.hasStorage()?(this.abstractSecurityStorage.remove(e),!0):(this.loggerService.logDebug(n,`Wanted to remove '${e}' but Storage was falsy`),!1)}clear(e){return this.hasStorage()?(this.abstractSecurityStorage.clear(),!0):(this.loggerService.logDebug(e,"Wanted to clear storage but Storage was falsy"),!1)}hasStorage(){return typeof Storage<"u"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),se=(()=>{class t{constructor(){this.browserStorageService=u(bI)}read(e,n){return(this.browserStorageService.read(e,n)||{})[e]}write(e,n,o){let i=this.browserStorageService.read(e,o)||{};return i[e]=n,this.browserStorageService.write(i,o)}remove(e,n){let o=this.browserStorageService.read(e,n)||{};delete o[e],this.browserStorageService.write(o,n)}clear(e){this.browserStorageService.clear(e)}resetStorageFlowData(e){this.remove("session_state",e),this.remove("storageSilentRenewRunning",e),this.remove("storageCodeFlowInProgress",e),this.remove("codeVerifier",e),this.remove("userData",e),this.remove("storageCustomParamsAuthRequest",e),this.remove("access_token_expires_at",e),this.remove("storageCustomParamsRefresh",e),this.remove("storageCustomParamsEndSession",e),this.remove("reusable_refresh_token",e)}resetAuthStateInStorage(e){this.remove("authzData",e),this.remove("reusable_refresh_token",e),this.remove("authnResult",e)}getAccessToken(e){return this.read("authzData",e)}getIdToken(e){return this.read("authnResult",e)?.id_token}getRefreshToken(e){let n=this.read("authnResult",e)?.refresh_token;return!n&&e.allowUnsafeReuseRefreshToken?this.read("reusable_refresh_token",e):n}getAuthenticationResult(e){return this.read("authnResult",e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Tp=(()=>{class t{extractJwk(e,n,o=!0){if(e.length===0)throw TI;let i=e.filter(s=>n?.kid?s.kid===n.kid:!0).filter(s=>n?.use?s.use===n.use:!0).filter(s=>n?.kty?s.kty===n.kty:!0);if(i.length===0&&o)throw MI;if(i.length>1&&n==null)throw RI;return i}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hl(t){return Tp.name+": "+t}var TI={name:hl("InvalidArgumentError"),message:"Array of keys was empty. Unable to extract"},MI={name:hl("NoMatchingKeysError"),message:"No key found matching the spec"},RI={name:hl("SeveralMatchingKeysError"),message:"More than one key found. Please use spec to filter"},Sp=3,Qi=(()=>{class t{constructor(){this.loggerService=u(F),this.document=u(Z)}getTokenExpirationDate(e){if(!Object.prototype.hasOwnProperty.call(e,"exp"))return new Date(new Date().toUTCString());let n=new Date(0);return n.setUTCSeconds(e.exp),n}getSigningInputFromToken(e,n,o){if(!this.tokenIsValid(e,o))return"";let i=this.getHeaderFromToken(e,n,o),s=this.getPayloadFromToken(e,n,o);return[i,s].join(".")}getHeaderFromToken(e,n,o){return this.tokenIsValid(e,o)?this.getPartOfToken(e,0,n):{}}getPayloadFromToken(e,n,o){return o?this.tokenIsValid(e,o)?this.getPartOfToken(e,1,n):{}:{}}getSignatureFromToken(e,n,o){return this.tokenIsValid(e,o)?this.getPartOfToken(e,2,n):{}}getPartOfToken(e,n,o){let i=this.extractPartOfToken(e,n);if(o)return i;let s=this.urlBase64Decode(i);return JSON.parse(s)}urlBase64Decode(e){let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw Error("Illegal base64url string!")}let o=typeof this.document.defaultView<"u"?this.document.defaultView?.atob(n):Buffer.from(n,"base64").toString("binary");if(!o)return"";try{return decodeURIComponent(o.split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch{return o}}tokenIsValid(e,n){return e?e.includes(".")?e.split(".").length!==Sp?(this.loggerService.logError(n,`token '${e}' is not valid --> token has to have exactly ${Sp-1} dots`),!1):!0:(this.loggerService.logError(n,`token '${e}' is not valid --> no dots included`),!1):(this.loggerService.logError(n,`token '${e}' is not valid --> token falsy`),!1)}extractPartOfToken(e,n){return e.split(".")[n]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pl=(()=>{class t{constructor(){this.document=u(Z)}getCrypto(){return this.document.defaultView?.crypto||this.document.defaultView?.msCrypto}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AI=(()=>{class t{constructor(){this.cryptoService=u(pl)}importVerificationKey(e,n){return this.cryptoService.getCrypto().subtle.importKey("jwk",e,n,!1,["verify"])}verifyKey(e,n,o,i){return this.cryptoService.getCrypto().subtle.verify(e,n,o,new TextEncoder().encode(i))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Mp=(()=>{class t{constructor(){this.cryptoService=u(pl)}generateCodeChallenge(e){return this.calcHash(e).pipe(w(n=>this.base64UrlEncode(n)))}generateAtHash(e,n){return this.calcHash(e,n).pipe(w(o=>{let i=o.substr(0,o.length/2);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}))}calcHash(e,n="SHA-256"){let o=new TextEncoder().encode(e);return J(this.cryptoService.getCrypto().subtle.digest(n,o)).pipe(w(i=>{let s=i,a=Array.from(new Uint8Array(s));return this.toHashString(a)}))}toHashString(e){let n="";for(let o of e)n+=String.fromCharCode(o);return n}base64UrlEncode(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _I(t){switch(t.charAt(0)){case"R":return{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"};case"E":return t.includes("256")?{name:"ECDSA",hash:"SHA-256"}:t.includes("384")?{name:"ECDSA",hash:"SHA-384"}:null;default:return null}}function xI(t){switch(t.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+t)}}function kI(t){switch(t.charAt(0)){case"R":return t.includes("256")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"}:t.includes("384")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-384"}:t.includes("512")?{name:"RSASSA-PKCS1-v1_5",hash:"SHA-512"}:null;case"E":return t.includes("256")?{name:"ECDSA",namedCurve:"P-256"}:t.includes("384")?{name:"ECDSA",namedCurve:"P-384"}:null;default:return null}}var Ji=(()=>{class t{constructor(){this.keyAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.tokenHelperService=u(Qi),this.loggerService=u(F),this.jwkExtractor=u(Tp),this.jwkWindowCryptoService=u(AI),this.jwtWindowCryptoService=u(Mp)}static{this.refreshTokenNoncePlaceholder="--RefreshToken--"}hasIdTokenExpired(e,n,o){let i=this.tokenHelperService.getPayloadFromToken(e,!1,n);return!this.validateIdTokenExpNotExpired(i,n,o)}validateIdTokenExpNotExpired(e,n,o){let i=this.tokenHelperService.getTokenExpirationDate(e);if(o=o||0,!i)return!1;let s=i.valueOf(),a=this.calculateNowWithOffset(o),c=s>a;return this.loggerService.logDebug(n,`Has idToken expired: ${!c} --> expires in ${this.millisToMinutesAndSeconds(s-a)} , ${new Date(s).toLocaleTimeString()} > ${new Date(a).toLocaleTimeString()}`),c}validateAccessTokenNotExpired(e,n,o){if(!e)return!0;o=o||0;let i=e.valueOf(),s=this.calculateNowWithOffset(o),a=i>s;return this.loggerService.logDebug(n,`Has accessToken expired: ${!a} --> expires in ${this.millisToMinutesAndSeconds(i-s)} , ${new Date(i).toLocaleTimeString()} > ${new Date(s).toLocaleTimeString()}`),a}validateRequiredIdToken(e,n){let o=!0;return Object.prototype.hasOwnProperty.call(e,"iss")||(o=!1,this.loggerService.logWarning(n,"iss is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"sub")||(o=!1,this.loggerService.logWarning(n,"sub is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"aud")||(o=!1,this.loggerService.logWarning(n,"aud is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"exp")||(o=!1,this.loggerService.logWarning(n,"exp is missing, this is required in the id_token")),Object.prototype.hasOwnProperty.call(e,"iat")||(o=!1,this.loggerService.logWarning(n,"iat is missing, this is required in the id_token")),o}validateIdTokenIatMaxOffset(e,n,o,i){if(o)return!0;if(!Object.prototype.hasOwnProperty.call(e,"iat"))return!1;let s=new Date(0);s.setUTCSeconds(e.iat),n=n||0;let c=new Date(new Date().toUTCString()).valueOf()-s.valueOf(),l=n*1e3;return this.loggerService.logDebug(i,`validate id token iat max offset ${c} < ${l}`),c>0?c<l:-c<l}validateIdTokenNonce(e,n,o,i){return!((e.nonce===void 0||o)&&n===t.refreshTokenNoncePlaceholder)&&e.nonce!==n?(this.loggerService.logDebug(i,"Validate_id_token_nonce failed, dataIdToken.nonce: "+e.nonce+" local_nonce:"+n),!1):!0}validateIdTokenIss(e,n,o){return e.iss!==n?(this.loggerService.logDebug(o,"Validate_id_token_iss failed, dataIdToken.iss: "+e.iss+" authWellKnownEndpoints issuer:"+n),!1):!0}validateIdTokenAud(e,n,o){return Array.isArray(e.aud)?e.aud.includes(n)?!0:(this.loggerService.logDebug(o,"Validate_id_token_aud array failed, dataIdToken.aud: "+e.aud+" client_id:"+n),!1):e.aud!==n?(this.loggerService.logDebug(o,"Validate_id_token_aud failed, dataIdToken.aud: "+e.aud+" client_id:"+n),!1):!0}validateIdTokenAzpExistsIfMoreThanOneAud(e){return e?!(Array.isArray(e.aud)&&e.aud.length>1&&!e.azp):!1}validateIdTokenAzpValid(e,n){return e?.azp?e.azp===n:!0}validateStateFromHashCallback(e,n,o){return e!==n?(this.loggerService.logDebug(o,"ValidateStateFromHashCallback failed, state: "+e+" local_state:"+n),!1):!0}validateSignatureIdToken(e,n,o){if(!e)return m(!0);if(!n||!n.keys)return m(!1);let i=this.tokenHelperService.getHeaderFromToken(e,!1,o);if(Object.keys(i).length===0&&i.constructor===Object)return this.loggerService.logWarning(o,"id token has no header data"),m(!1);let s=i.kid,a=i.alg,c=n.keys,l,d;if(!this.keyAlgorithms.includes(a))return this.loggerService.logWarning(o,"alg not supported",a),m(!1);let f=xI(a),g="sig";try{l=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:f,use:g},!1):this.jwkExtractor.extractJwk(c,{kty:f,use:g},!1),l.length===0&&(l=s?this.jwkExtractor.extractJwk(c,{kid:s,kty:f}):this.jwkExtractor.extractJwk(c,{kty:f})),d=l[0]}catch(S){return this.loggerService.logError(o,S),m(!1)}let h=kI(a),v=this.tokenHelperService.getSigningInputFromToken(e,!0,o),D=this.tokenHelperService.getSignatureFromToken(e,!0,o);return J(this.jwkWindowCryptoService.importVerificationKey(d,h)).pipe(Q(S=>{let _=wp.parse(D,{loose:!0}),q=_I(a);return J(this.jwkWindowCryptoService.verifyKey(q,S,_,v))}),H(S=>{S||this.loggerService.logWarning(o,"incorrect Signature, validation failed for id_token")}))}validateIdTokenAtHash(e,n,o,i){this.loggerService.logDebug(i,"at_hash from the server:"+n);let s="SHA-256";return o.includes("384")?s="SHA-384":o.includes("512")&&(s="SHA-512"),this.jwtWindowCryptoService.generateAtHash(""+e,s).pipe(Q(a=>(this.loggerService.logDebug(i,"at_hash client validation not decoded:"+a),a===n?m(!0):this.jwtWindowCryptoService.generateAtHash(""+decodeURIComponent(e),s).pipe(w(c=>(this.loggerService.logDebug(i,"-gen access--"+a),c===n))))))}millisToMinutesAndSeconds(e){let n=Math.floor(e/6e4),o=(e%6e4/1e3).toFixed(0);return n+":"+(+o<10?"0":"")+o}calculateNowWithOffset(e){return new Date(new Date().toUTCString()).valueOf()+e*1e3}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NI={isAuthenticated:!1,allConfigsAuthenticated:[]},et=(()=>{class t{constructor(){this.storagePersistenceService=u(se),this.loggerService=u(F),this.publicEventsService=u(Xt),this.tokenValidationService=u(Ji),this.authenticatedInternal$=new oe(NI)}get authenticated$(){return this.authenticatedInternal$.asObservable().pipe(Ns())}setAuthenticatedAndFireEvent(e){let n=this.composeAuthenticatedResult(e);this.authenticatedInternal$.next(n)}setUnauthenticatedAndFireEvent(e,n){this.storagePersistenceService.resetAuthStateInStorage(e);let o=this.composeUnAuthenticatedResult(n);this.authenticatedInternal$.next(o)}updateAndPublishAuthState(e){this.publicEventsService.fireEvent(De.NewAuthenticationResult,e)}setAuthorizationData(e,n,o,i){this.loggerService.logDebug(o,`storing the accessToken '${e}'`),this.storagePersistenceService.write("authzData",e,o),this.persistAccessTokenExpirationTime(n,o),this.setAuthenticatedAndFireEvent(i)}getAccessToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getAccessToken(e);return this.decodeURIComponentSafely(n)}getIdToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getIdToken(e);return this.decodeURIComponentSafely(n)}getRefreshToken(e){if(!e||!this.isAuthenticated(e))return"";let n=this.storagePersistenceService.getRefreshToken(e);return this.decodeURIComponentSafely(n)}getAuthenticationResult(e){return!e||!this.isAuthenticated(e)?null:this.storagePersistenceService.getAuthenticationResult(e)}areAuthStorageTokensValid(e){return!e||!this.isAuthenticated(e)?!1:this.hasIdTokenExpiredAndRenewCheckIsEnabled(e)?(this.loggerService.logDebug(e,"persisted idToken is expired"),!1):this.hasAccessTokenExpiredIfExpiryExists(e)?(this.loggerService.logDebug(e,"persisted accessToken is expired"),!1):(this.loggerService.logDebug(e,"persisted idToken and accessToken are valid"),!0)}hasIdTokenExpiredAndRenewCheckIsEnabled(e){let{renewTimeBeforeTokenExpiresInSeconds:n,triggerRefreshWhenIdTokenExpired:o,disableIdTokenValidation:i}=e;if(!o||i)return!1;let s=this.storagePersistenceService.getIdToken(e),a=this.tokenValidationService.hasIdTokenExpired(s,e,n);return a&&this.publicEventsService.fireEvent(De.IdTokenExpired,a),a}hasAccessTokenExpiredIfExpiryExists(e){let{renewTimeBeforeTokenExpiresInSeconds:n}=e,o=this.storagePersistenceService.read("access_token_expires_at",e),s=!this.tokenValidationService.validateAccessTokenNotExpired(o,e,n);return s&&this.publicEventsService.fireEvent(De.TokenExpired,s),s}isAuthenticated(e){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module")),!1;let n=!!this.storagePersistenceService.getAccessToken(e),o=!!this.storagePersistenceService.getIdToken(e);return n&&o}decodeURIComponentSafely(e){return e?decodeURIComponent(e):""}persistAccessTokenExpirationTime(e,n){if(e?.expires_in){let o=new Date(new Date().toUTCString()).valueOf()+e.expires_in*1e3;this.storagePersistenceService.write("access_token_expires_at",o,n)}}composeAuthenticatedResult(e){if(e.length===1){let{configId:n}=e[0];return{isAuthenticated:!0,allConfigsAuthenticated:[{configId:n??"",isAuthenticated:!0}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}composeUnAuthenticatedResult(e){if(e.length===1){let{configId:n}=e[0];return{isAuthenticated:!1,allConfigsAuthenticated:[{configId:n??"",isAuthenticated:!1}]}}return this.checkAllConfigsIfTheyAreAuthenticated(e)}checkAllConfigsIfTheyAreAuthenticated(e){let n=e.map(i=>({configId:i.configId??"",isAuthenticated:this.isAuthenticated(i)})),o=n.every(i=>!!i.isAuthenticated);return{allConfigsAuthenticated:n,isAuthenticated:o}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ul="redirect",OI=(()=>{class t{constructor(){this.storageService=u(se),this.router=u(Mt)}checkSavedRedirectRouteAndNavigate(e){if(!e)return;let n=this.getStoredRedirectRoute(e);n!=null&&(this.deleteStoredRedirectRoute(e),this.router.navigateByUrl(n))}saveRedirectRoute(e,n){e&&this.storageService.write(ul,n,e)}getStoredRedirectRoute(e){return this.storageService.read(ul,e)}deleteStoredRedirectRoute(e){this.storageService.remove(ul,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),At=(()=>{class t{isCurrentFlowCodeFlow(e){return this.currentFlowIs("code",e)}isCurrentFlowAnyImplicitFlow(e){return this.isCurrentFlowImplicitFlowWithAccessToken(e)||this.isCurrentFlowImplicitFlowWithoutAccessToken(e)}isCurrentFlowCodeFlowWithRefreshTokens(e){if(!e)return!1;let{useRefreshToken:n}=e;return this.isCurrentFlowCodeFlow(e)&&!!n}isCurrentFlowImplicitFlowWithAccessToken(e){return this.currentFlowIs("id_token token",e)}currentFlowIs(e,n){let{responseType:o}=n;return Array.isArray(e)?e.some(i=>o===i):o===e}isCurrentFlowImplicitFlowWithoutAccessToken(e){return this.currentFlowIs("id_token",e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PI=(()=>{class t{constructor(){this.loggerService=u(F),this.cryptoService=u(pl)}createRandom(e,n){if(e<=0)return"";e>0&&e<7&&(this.loggerService.logWarning(n,`RandomService called with ${e} but 7 chars is the minimum, returning 10 chars`),e=10);let o=e-6,i=new Uint8Array(Math.floor(o/2)),s=this.cryptoService.getCrypto();return s&&s.getRandomValues(i),Array.from(i,this.toHex).join("")+this.randomString(7)}toHex(e){return("0"+e.toString(16)).substr(-2)}randomString(e){let n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=new Uint32Array(e),s=this.cryptoService.getCrypto();if(s){s.getRandomValues(i);for(let a=0;a<e;a++)n+=o[i[a]%o.length]}return n}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Se=(()=>{class t{constructor(){this.loggerService=u(F),this.storagePersistenceService=u(se),this.randomService=u(PI)}createNonce(e){let n=this.randomService.createRandom(40,e);return this.loggerService.logDebug(e,"Nonce created. nonce:"+n),this.setNonce(n,e),n}setNonce(e,n){this.storagePersistenceService.write("authNonce",e,n)}getAuthStateControl(e){return e?this.storagePersistenceService.read("authStateControl",e):""}setAuthStateControl(e,n){return n?this.storagePersistenceService.write("authStateControl",e,n):!1}getExistingOrCreateAuthStateControl(e){let n=this.storagePersistenceService.read("authStateControl",e);return n||(n=this.randomService.createRandom(40,e),this.storagePersistenceService.write("authStateControl",n,e)),n}setSessionState(e,n){this.storagePersistenceService.write("session_state",e,n)}resetStorageFlowData(e){this.storagePersistenceService.resetStorageFlowData(e)}getCodeVerifier(e){return this.storagePersistenceService.read("codeVerifier",e)}createCodeVerifier(e){let n=this.randomService.createRandom(67,e);return this.storagePersistenceService.write("codeVerifier",n,e),n}isCodeFlowInProgress(e){return!!this.storagePersistenceService.read("storageCodeFlowInProgress",e)}setCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!0,e)}resetCodeFlowInProgress(e){this.storagePersistenceService.write("storageCodeFlowInProgress",!1,e)}isSilentRenewRunning(e){let{configId:n,silentRenewTimeoutInSeconds:o}=e,i=this.getSilentRenewRunningStorageEntry(e);if(!i||i.state==="not-running")return!1;let s=(o??0)*1e3,a=Date.parse(i.dateOfLaunchedProcessUtc),c=Date.parse(new Date().toISOString());return Math.abs(c-a)>s?(this.loggerService.logDebug(e,"silent renew process is probably stuck, state will be reset.",n),this.resetSilentRenewRunning(e),!1):i.state==="running"}setSilentRenewRunning(e){let n={state:"running",dateOfLaunchedProcessUtc:new Date().toISOString()};this.storagePersistenceService.write("storageSilentRenewRunning",JSON.stringify(n),e)}resetSilentRenewRunning(e){e&&this.storagePersistenceService.write("storageSilentRenewRunning","",e)}getSilentRenewRunningStorageEntry(e){let n=this.storagePersistenceService.read("storageSilentRenewRunning",e);return n?JSON.parse(n):{dateOfLaunchedProcessUtc:"",state:"not-running"}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fl=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},FI=["code","state","token","id_token"],LI="auth0.com",tt=(()=>{class t{constructor(){this.loggerService=u(F),this.flowsDataService=u(Se),this.flowHelper=u(At),this.storagePersistenceService=u(se),this.jwtWindowCryptoService=u(Mp)}getUrlParameter(e,n){if(!e||!n)return"";n=n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");let i=new RegExp("[\\?&#]"+n+"=([^&#]*)").exec(e);return i===null?"":decodeURIComponent(i[1])}getUrlWithoutQueryParameters(e){let n=new URL(e.toString()),o=[];for(let i of n.searchParams.keys())o.push(i);return o.forEach(i=>{n.searchParams.delete(i)}),n}queryParametersExist(e,n){let o=!0;return e.forEach((i,s)=>{n.has(s)||(o=!1)}),o}isCallbackFromSts(e,n){if(n&&n.checkRedirectUrlWhenCheckingIfIsCallback){let o=new URL(e),i=this.getRedirectUrl(n);if(!i)return this.loggerService.logError(n,"UrlService.isCallbackFromSts: could not get redirectUrl from config, was: ",i),!1;let s=new URL(i),a=this.getUrlWithoutQueryParameters(s).toString(),c=this.getUrlWithoutQueryParameters(o).toString(),l=this.queryParametersExist(s.searchParams,o.searchParams);if(a!==c||!l)return!1}return FI.some(o=>!!this.getUrlParameter(e,o))}getRefreshSessionSilentRenewUrl(e,n){return this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowWithSilentRenew(e,n):m(this.createUrlImplicitFlowWithSilentRenew(e,n))}getAuthorizeParUrl(e,n){let o=this.storagePersistenceService.read("authWellKnownEndPoints",n);if(!o)return this.loggerService.logError(n,"authWellKnownEndpoints is undefined"),null;let i=o.authorizationEndpoint;if(!i)return this.loggerService.logError(n,`Can not create an authorize URL when authorizationEndpoint is '${i}'`),null;let{clientId:s}=n;if(!s)return this.loggerService.logError(n,"getAuthorizeParUrl could not add clientId because it was: ",s),null;let a=i.split("?"),c=a[0],l=a[1],d=this.createHttpParams(l);return d=d.set("request_uri",e),d=d.append("client_id",s),`${c}?${d}`}getAuthorizeUrl(e,n){return e?this.flowHelper.isCurrentFlowCodeFlow(e)?this.createUrlCodeFlowAuthorize(e,n):m(this.createUrlImplicitFlowAuthorize(e,n)||""):m(null)}getEndSessionEndpoint(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.endSessionEndpoint;if(!o)return{url:"",existingParams:""};let i=o.split("?"),s=i[0],a=i[1]??"";return{url:s,existingParams:a}}getEndSessionUrl(e,n){if(!e)return null;let o=this.storagePersistenceService.getIdToken(e),{customParamsEndSessionRequest:i}=e,s=y(y({},i),n);return this.createEndSessionUrl(o,e,s)}createRevocationEndpointBodyAccessToken(e,n){let o=this.getClientId(n);if(!o)return null;let i=this.createHttpParams();return i=i.set("client_id",o),i=i.set("token",e),i=i.set("token_type_hint","access_token"),i.toString()}createRevocationEndpointBodyRefreshToken(e,n){let o=this.getClientId(n);if(!o)return null;let i=this.createHttpParams();return i=i.set("client_id",o),i=i.set("token",e),i=i.set("token_type_hint","refresh_token"),i.toString()}getRevocationEndpointUrl(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.revocationEndpoint;return o?o.split("?")[0]:null}createBodyForCodeFlowCodeRequest(e,n,o){let i=this.getClientId(n);if(!i)return null;let s=this.createHttpParams();if(s=s.set("grant_type","authorization_code"),s=s.set("client_id",i),!n.disablePkce){let l=this.flowsDataService.getCodeVerifier(n);if(!l)return this.loggerService.logError(n,"CodeVerifier is not set ",l),null;s=s.set("code_verifier",l)}s=s.set("code",e),o&&(s=this.appendCustomParams(y({},o),s));let a=this.getSilentRenewUrl(n);if(this.flowsDataService.isSilentRenewRunning(n)&&a)return s=s.set("redirect_uri",a),s.toString();let c=this.getRedirectUrl(n);return c?(s=s.set("redirect_uri",c),s.toString()):null}createBodyForCodeFlowRefreshTokensRequest(e,n,o){let i=this.getClientId(n);if(!i)return null;let s=this.createHttpParams();return s=s.set("grant_type","refresh_token"),s=s.set("client_id",i),s=s.set("refresh_token",e),o&&(s=this.appendCustomParams(y({},o),s)),s.toString()}createBodyForParCodeFlowRequest(e,n){let o=this.getRedirectUrl(e,n);if(!o)return m(null);let i=this.flowsDataService.getExistingOrCreateAuthStateControl(e),s=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+i);let a=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(a).pipe(w(c=>{let{clientId:l,responseType:d,scope:f,hdParam:g,customParamsAuthRequest:h}=e,v=this.createHttpParams("");return v=v.set("client_id",l??""),v=v.append("redirect_uri",o),v=v.append("response_type",d??""),v=v.append("scope",f??""),v=v.append("nonce",s),v=v.append("state",i),v=v.append("code_challenge",c),v=v.append("code_challenge_method","S256"),g&&(v=v.append("hd",g)),h&&(v=this.appendCustomParams(y({},h),v)),n?.customParams&&(v=this.appendCustomParams(y({},n.customParams),v)),v.toString()}))}getPostLogoutRedirectUrl(e){let{postLogoutRedirectUri:n}=e;return n||(this.loggerService.logError(e,"could not get postLogoutRedirectUri, was: ",n),null)}createEndSessionUrl(e,n,o){if(this.isAuth0Endpoint(n))return this.composeAuth0Endpoint(n);let{url:i,existingParams:s}=this.getEndSessionEndpoint(n);if(!i)return null;let a=this.createHttpParams(s);e&&(a=a.set("id_token_hint",e));let c=this.getPostLogoutRedirectUrl(n);return c&&(a=a.append("post_logout_redirect_uri",c)),o&&(a=this.appendCustomParams(y({},o),a)),`${i}?${a}`}createAuthorizeUrl(e,n,o,i,s,a,c){let d=this.storagePersistenceService.read("authWellKnownEndPoints",s)?.authorizationEndpoint;if(!d)return this.loggerService.logError(s,`Can not create an authorize URL when authorizationEndpoint is '${d}'`),"";let{clientId:f,responseType:g,scope:h,hdParam:v,customParamsAuthRequest:D}=s;if(!f)return this.loggerService.logError(s,"createAuthorizeUrl could not add clientId because it was: ",f),"";if(!g)return this.loggerService.logError(s,"createAuthorizeUrl could not add responseType because it was: ",g),"";if(!h)return this.loggerService.logError(s,"createAuthorizeUrl could not add scope because it was: ",h),"";let S=d.split("?"),_=S[0],q=S[1],I=this.createHttpParams(q);I=I.set("client_id",f),I=I.append("redirect_uri",n),I=I.append("response_type",g),I=I.append("scope",h),I=I.append("nonce",o),I=I.append("state",i),this.flowHelper.isCurrentFlowCodeFlow(s)&&(I=I.append("code_challenge",e),I=I.append("code_challenge_method","S256"));let ie=y(y({},D),c);return Object.keys(ie).length>0&&(I=this.appendCustomParams(y({},ie),I)),a&&(I=this.overWriteParam(I,"prompt",a)),v&&(I=I.append("hd",v)),`${_}?${I}`}createUrlImplicitFlowWithSilentRenew(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e),s=this.getSilentRenewUrl(e);return s?(this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: ",o),this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl("",s,i,o,e,"none",n):(this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null)):null}createUrlCodeFlowWithSilentRenew(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"RefreshSession created. adding myautostate: "+o);let s=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(s).pipe(w(a=>{let c=this.getSilentRenewUrl(e);return c?this.storagePersistenceService.read("authWellKnownEndPoints",e)?this.createAuthorizeUrl(a,c,i,o,e,"none",n):(this.loggerService.logWarning(e,"authWellKnownEndpoints is undefined"),""):""}))}createUrlImplicitFlowAuthorize(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let s=this.getRedirectUrl(e,n);if(!s)return null;if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:c}=n||{};return this.createAuthorizeUrl("",s,i,o,e,"",c)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),null}createUrlCodeFlowAuthorize(e,n){let o=this.flowsDataService.getExistingOrCreateAuthStateControl(e),i=this.flowsDataService.createNonce(e);this.loggerService.logDebug(e,"Authorize created. adding myautostate: "+o);let s=this.getRedirectUrl(e,n);return s?this.getCodeChallenge(e).pipe(w(a=>{if(this.storagePersistenceService.read("authWellKnownEndPoints",e)){let{customParams:l}=n||{};return this.createAuthorizeUrl(a,s,i,o,e,"",l)}return this.loggerService.logError(e,"authWellKnownEndpoints is undefined"),""})):m(null)}getCodeChallenge(e){if(e.disablePkce)return m("");let n=this.flowsDataService.createCodeVerifier(e);return this.jwtWindowCryptoService.generateCodeChallenge(n)}getRedirectUrl(e,n){let{redirectUrl:o}=e;return n?.redirectUrl&&(o=n.redirectUrl),o||(this.loggerService.logError(e,"could not get redirectUrl, was: ",o),null)}getSilentRenewUrl(e){let{silentRenewUrl:n}=e;return n||(this.loggerService.logError(e,"could not get silentRenewUrl, was: ",n),null)}getClientId(e){let{clientId:n}=e;return n||(this.loggerService.logError(e,"could not get clientId, was: ",n),null)}appendCustomParams(e,n){for(let[o,i]of Object.entries(y({},e)))n=n.append(o,i.toString());return n}overWriteParam(e,n,o){return e.set(n,o)}createHttpParams(e){return e=e??"",new Fe({fromString:e,encoder:new fl})}isAuth0Endpoint(e){let{authority:n,useCustomAuth0Domain:o}=e;return n?n.endsWith(LI)||!!o:!1}composeAuth0Endpoint(e){let{authority:n,clientId:o}=e,i=this.getPostLogoutRedirectUrl(e);return`${n}/v2/logout?client_id=${o}&returnTo=${i}`}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jI=(()=>{class t{constructor(){this.http=u(Dr)}get(e,n){return this.http.get(e,n)}post(e,n,o){return this.http.post(e,n,o)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UI="ngsw-bypass",en=(()=>{class t{constructor(){this.httpClient=u(jI)}get(e,n,o){let i=this.prepareHeaders(o),s=this.prepareParams(n);return this.httpClient.get(e,{headers:i,params:s})}post(e,n,o,i){let s=i||this.prepareHeaders(),a=this.prepareParams(o);return this.httpClient.post(e??"",n,{headers:s,params:a})}prepareHeaders(e){let n=new pe;return n=n.set("Accept","application/json"),e&&(n=n.set("Authorization","Bearer "+decodeURIComponent(e))),n}prepareParams(e){let n=new Fe,{ngswBypass:o}=e;return o&&(n=n.set(UI,"")),n}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rp=t=>!!t&&t instanceof Je&&(t.error instanceof ProgressEvent&&t.error.type==="error"||t.status===0&&!!t.error),VI=(()=>{class t{constructor(){this.urlService=u(tt),this.loggerService=u(F),this.tokenValidationService=u(Ji),this.flowsDataService=u(Se),this.storagePersistenceService=u(se),this.dataService=u(en)}codeFlowCallback(e,n){let o=this.urlService.getUrlParameter(e,"code"),i=this.urlService.getUrlParameter(e,"state"),s=this.urlService.getUrlParameter(e,"session_state");return i?o?(this.loggerService.logDebug(n,"running validation for callback",e),m({code:o,refreshToken:"",state:i,sessionState:s,authResult:null,isRenewProcess:!1,jwtKeys:null,validationResult:null,existingIdToken:null})):(this.loggerService.logDebug(n,"no code in url"),E(()=>new Error("no code in url"))):(this.loggerService.logDebug(n,"no state in url"),E(()=>new Error("no state in url")))}codeFlowCodeRequest(e,n){let o=this.flowsDataService.getAuthStateControl(n);if(!this.tokenValidationService.validateStateFromHashCallback(e.state,o,n))return E(()=>new Error("codeFlowCodeRequest incorrect state"));let a=this.storagePersistenceService.read("authWellKnownEndPoints",n)?.tokenEndpoint;if(!a)return E(()=>new Error("Token Endpoint not defined"));let c=new pe;c=c.set("Content-Type","application/x-www-form-urlencoded");let l=this.urlService.createBodyForCodeFlowCodeRequest(e.code,n,n?.customParamsCodeRequest);return this.dataService.post(a,l,n,c).pipe(j(d=>{if(d){let f=$(y({},d),{state:e.state,session_state:e.sessionState});e.authResult=f}return m(e)}),Kn(d=>this.handleRefreshRetry(d,n)),G(d=>{let{authority:f}=n,g=`OidcService code request ${f}`;return this.loggerService.logError(n,g,d),E(()=>new Error(g))}))}handleRefreshRetry(e,n){return e.pipe(Q(o=>{if(Rp(o)){let{authority:i,refreshTokenRetryInSeconds:s}=n,a=`OidcService code request ${i} - no internet connection`;return this.loggerService.logWarning(n,a,o),Lt((s??0)*1e3)}return E(()=>o)}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ne=function(t){return t.NotSet="NotSet",t.StatesDoNotMatch="StatesDoNotMatch",t.SignatureFailed="SignatureFailed",t.IncorrectNonce="IncorrectNonce",t.RequiredPropertyMissing="RequiredPropertyMissing",t.MaxOffsetExpired="MaxOffsetExpired",t.IssDoesNotMatchIssuer="IssDoesNotMatchIssuer",t.NoAuthWellKnownEndPoints="NoAuthWellKnownEndPoints",t.IncorrectAud="IncorrectAud",t.IncorrectIdTokenClaimsAfterRefresh="IncorrectIdTokenClaimsAfterRefresh",t.IncorrectAzp="IncorrectAzp",t.TokenExpired="TokenExpired",t.IncorrectAtHash="IncorrectAtHash",t.Ok="Ok",t.LoginRequired="LoginRequired",t.SecureTokenServerError="SecureTokenServerError",t}(ne||{}),$I={userData:null,allUserData:[]},jn=(()=>{class t{constructor(){this.userDataInternal$=new oe($I),this.loggerService=u(F),this.tokenHelperService=u(Qi),this.flowHelper=u(At),this.oidcDataService=u(en),this.storagePersistenceService=u(se),this.eventService=u(Xt)}get userData$(){return this.userDataInternal$.asObservable()}getAndPersistUserDataInStore(e,n,o=!1,i,s){i=i||this.storagePersistenceService.getIdToken(e),s=s||this.tokenHelperService.getPayloadFromToken(i,!1,e);let a=this.getUserDataFromStore(e),c=!!a,l=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(e),d=this.flowHelper.isCurrentFlowCodeFlow(e),f=this.storagePersistenceService.getAccessToken(e);if(!(l||d))return this.loggerService.logDebug(e,`authCallback idToken flow with accessToken ${f}`),this.setUserDataToStore(s,e,n),m(s);let{renewUserInfoAfterTokenRenew:g}=e;return!o||g||!c?this.getUserDataOidcFlowAndSave(s.sub,e,n).pipe(j(h=>(this.loggerService.logDebug(e,"Received user data: ",h),h?(this.loggerService.logDebug(e,"accessToken: ",f),m(h)):E(()=>new Error("Received no user data, request failed"))))):m(a)}getUserDataFromStore(e){return e?this.storagePersistenceService.read("userData",e)||null:E(()=>new Error("Please provide a configuration before setting up the module"))}publishUserDataIfExists(e,n){let o=this.getUserDataFromStore(e);o&&this.fireUserDataEvent(e,n,o)}setUserDataToStore(e,n,o){this.storagePersistenceService.write("userData",e,n),this.fireUserDataEvent(n,o,e)}resetUserDataInStore(e,n){this.storagePersistenceService.remove("userData",e),this.fireUserDataEvent(e,n,null)}getUserDataOidcFlowAndSave(e,n,o){return this.getIdentityUserData(n).pipe(w(i=>this.validateUserDataSubIdToken(n,e,i?.sub)?(this.setUserDataToStore(i,n,o),i):(this.loggerService.logWarning(n,"User data sub does not match sub in id_token, resetting"),this.resetUserDataInStore(n,o),null)))}getIdentityUserData(e){let n=this.storagePersistenceService.getAccessToken(e),o=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!o)return this.loggerService.logWarning(e,"init check session: authWellKnownEndpoints is undefined"),E(()=>new Error("authWellKnownEndpoints is undefined"));let i=o.userInfoEndpoint;return i?this.oidcDataService.get(i,e,n).pipe(jt(2)):(this.loggerService.logError(e,"init check session: authWellKnownEndpoints.userinfo_endpoint is undefined; set auto_userinfo = false in config"),E(()=>new Error("authWellKnownEndpoints.userinfo_endpoint is undefined")))}validateUserDataSubIdToken(e,n,o){return!n||!o?!1:n.toString()!==o.toString()?(this.loggerService.logDebug(e,"validateUserDataSubIdToken failed",n,o),!1):!0}fireUserDataEvent(e,n,o){let i=this.composeSingleOrMultipleUserDataObject(e,n,o);this.userDataInternal$.next(i);let{configId:s}=e;this.eventService.fireEvent(De.UserDataChanged,{configId:s,userData:o})}composeSingleOrMultipleUserDataObject(e,n,o){if(!(n.length>1)){let{configId:a}=e;return this.composeSingleUserDataResult(a??"",o)}return{userData:null,allUserData:n.map(a=>{let c=e.configId??"",l=a.configId??"";if(this.currentConfigIsToUpdate(c,a))return{configId:l,userData:o};let d=this.storagePersistenceService.read("userData",a)||null;return{configId:l,userData:d}})}}composeSingleUserDataResult(e,n){return{userData:n,allUserData:[{configId:e,userData:n}]}}currentConfigIsToUpdate(e,n){return n.configId===e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_t=(()=>{class t{constructor(){this.loggerService=u(F),this.userService=u(jn),this.flowsDataService=u(Se),this.authStateService=u(et)}resetAuthorizationData(e,n){e&&(this.userService.resetUserDataInStore(e,n),this.flowsDataService.resetStorageFlowData(e),this.authStateService.setUnauthenticatedAndFireEvent(e,n),this.loggerService.logDebug(e,"Local Login information cleaned up and event fired"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),BI=(()=>{class t{constructor(){this.loggerService=u(F),this.storagePersistenceService=u(se),this.dataService=u(en)}getSigningKeys(e){let o=this.storagePersistenceService.read("authWellKnownEndPoints",e)?.jwksUri;if(!o){let i=`getSigningKeys: authWellKnownEndpoints.jwksUri is: '${o}'`;return this.loggerService.logWarning(e,i),E(()=>new Error(i))}return this.loggerService.logDebug(e,"Getting signinkeys from ",o),this.dataService.get(o,e).pipe(jt(2),G(i=>this.handleErrorGetSigningKeys(i,e)))}handleErrorGetSigningKeys(e,n){let o="";if(e instanceof Kt){let i=e.body||{},s=JSON.stringify(i),{status:a,statusText:c}=e;o=`${a||""} - ${c||""} ${s||""}`}else{let{message:i}=e;o=i||`${e}`}return this.loggerService.logError(n,o),E(()=>new Error(o))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ip="jwtKeys",HI=(()=>{class t{constructor(){this.loggerService=u(F),this.authStateService=u(et),this.flowsDataService=u(Se),this.signInKeyDataService=u(BI),this.storagePersistenceService=u(se),this.resetAuthDataService=u(_t),this.document=u(Z)}callbackHistoryAndResetJwtKeys(e,n,o){let i=y({},e.authResult);if(!this.responseHasIdToken(e)){let s=this.storagePersistenceService.getIdToken(n);i=$(y({},i),{id_token:s})}if(this.storagePersistenceService.write("authnResult",i,n),n.allowUnsafeReuseRefreshToken&&e.authResult?.refresh_token&&this.storagePersistenceService.write("reusable_refresh_token",e.authResult.refresh_token,n),this.historyCleanUpTurnedOn(n)&&!e.isRenewProcess?this.resetBrowserHistory():this.loggerService.logDebug(n,"history clean up inactive"),e.authResult?.error){let s=`AuthCallback AuthResult came with error: ${e.authResult.error}`;return this.loggerService.logDebug(n,s),this.resetAuthDataService.resetAuthorizationData(n,o),this.flowsDataService.setNonce("",n),this.handleResultErrorFromCallback(e.authResult,e.isRenewProcess),E(()=>new Error(s))}return this.loggerService.logDebug(n,`AuthResult '${JSON.stringify(e.authResult,null,2)}'.
      AuthCallback created, begin token validation`),this.signInKeyDataService.getSigningKeys(n).pipe(H(s=>this.storeSigningKeys(s,n)),G(s=>{let a=this.readSigningKeys(n);return a?(this.loggerService.logWarning(n,"Failed to retrieve signing keys, fallback to stored keys"),m(a)):E(()=>new Error(s))}),j(s=>{if(s)return e.jwtKeys=s,m(e);let a="Failed to retrieve signing key";return this.loggerService.logWarning(n,a),E(()=>new Error(a))}),G(s=>{let a=`Failed to retrieve signing key with error: ${s}`;return this.loggerService.logWarning(n,a),E(()=>new Error(a))}))}responseHasIdToken(e){return!!e?.authResult?.id_token}handleResultErrorFromCallback(e,n){let o=ne.SecureTokenServerError;e&&typeof e=="object"&&"error"in e&&e.error==="login_required"&&(o=ne.LoginRequired),this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:o,isRenewProcess:n})}historyCleanUpTurnedOn(e){let{historyCleanupOff:n}=e;return!n}resetBrowserHistory(){this.document.defaultView?.history.replaceState({},this.document.title,this.document.defaultView.location.origin+this.document.defaultView.location.pathname)}storeSigningKeys(e,n){this.storagePersistenceService.write(Ip,e,n)}readSigningKeys(e){return this.storagePersistenceService.read(Ip,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zI=(()=>{class t{constructor(){this.loggerService=u(F),this.resetAuthDataService=u(_t),this.flowsDataService=u(Se),this.document=u(Z)}implicitFlowCallback(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e);this.loggerService.logDebug(e,"BEGIN callback, no auth data"),i||this.resetAuthDataService.resetAuthorizationData(e,n),o=o||this.document.location.hash.substring(1);let a={code:"",refreshToken:"",state:"",sessionState:null,authResult:o.split("&").reduce((c,l)=>{let d=l.split("=");return c[d.shift()]=d.join("="),c},{}),isRenewProcess:i,jwtKeys:null,validationResult:null,existingIdToken:null};return m(a)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WI=(()=>{class t{constructor(){this.loggerService=u(F),this.authStateService=u(et),this.flowsDataService=u(Se)}refreshSessionWithRefreshTokens(e){let n=this.flowsDataService.getExistingOrCreateAuthStateControl(e);this.loggerService.logDebug(e,"RefreshSession created. Adding myautostate: "+n);let o=this.authStateService.getRefreshToken(e),i=this.authStateService.getIdToken(e);if(o){let s={code:"",refreshToken:o,state:n,sessionState:null,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:i};return this.loggerService.logDebug(e,"found refresh code, obtaining new credentials with refresh code"),this.flowsDataService.setNonce(Ji.refreshTokenNoncePlaceholder,e),m(s)}else{let s="no refresh token found, please login";return this.loggerService.logError(e,s),E(()=>new Error(s))}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qI=(()=>{class t{constructor(){this.urlService=u(tt),this.loggerService=u(F),this.dataService=u(en),this.storagePersistenceService=u(se)}refreshTokensRequestTokens(e,n,o){let i=new pe;i=i.set("Content-Type","application/x-www-form-urlencoded");let a=this.storagePersistenceService.read("authWellKnownEndPoints",n)?.tokenEndpoint;if(!a)return E(()=>new Error("Token Endpoint not defined"));let c=this.urlService.createBodyForCodeFlowRefreshTokensRequest(e.refreshToken,n,o);return this.dataService.post(a,c,n,i).pipe(j(l=>(this.loggerService.logDebug(n,`token refresh response: ${l}`),l&&(l.state=e.state),e.authResult=l,m(e))),Kn(l=>this.handleRefreshRetry(l,n)),G(l=>{let{authority:d}=n,f=`OidcService code request ${d}`;return this.loggerService.logError(n,f,l),E(()=>new Error(f))}))}handleRefreshRetry(e,n){return e.pipe(Q(o=>{if(Rp(o)){let{authority:i,refreshTokenRetryInSeconds:s}=n,a=`OidcService code request ${i} - no internet connection`;return this.loggerService.logWarning(n,a,o),Lt((s??0)*1e3)}return E(()=>o)}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GI=(()=>{class t{isStringEqualOrNonOrderedArrayEqual(e,n){return this.isNullOrUndefined(e)||this.isNullOrUndefined(n)||this.oneValueIsStringAndTheOtherIsArray(e,n)?!1:this.bothValuesAreStrings(e,n)?e===n:this.arraysHaveEqualContent(e,n)}areEqual(e,n){if(!e||!n)return!1;if(this.bothValuesAreArrays(e,n))return this.arraysStrictEqual(e,n);if(this.bothValuesAreStrings(e,n))return e===n;if(this.bothValuesAreObjects(e,n))return JSON.stringify(e).toLowerCase()===JSON.stringify(n).toLowerCase();if(this.oneValueIsStringAndTheOtherIsArray(e,n)){if(Array.isArray(e)&&this.valueIsString(n))return e[0]===n;if(Array.isArray(n)&&this.valueIsString(e))return n[0]===e}return e===n}oneValueIsStringAndTheOtherIsArray(e,n){return Array.isArray(e)&&this.valueIsString(n)||Array.isArray(n)&&this.valueIsString(e)}bothValuesAreObjects(e,n){return this.valueIsObject(e)&&this.valueIsObject(n)}bothValuesAreStrings(e,n){return this.valueIsString(e)&&this.valueIsString(n)}bothValuesAreArrays(e,n){return Array.isArray(e)&&Array.isArray(n)}valueIsString(e){return typeof e=="string"||e instanceof String}valueIsObject(e){return typeof e=="object"}arraysStrictEqual(e,n){if(e.length!==n.length)return!1;for(let o=e.length;o--;)if(e[o]!==n[o])return!1;return!0}arraysHaveEqualContent(e,n){return e.length!==n.length?!1:e.some(o=>n.includes(o))}isNullOrUndefined(e){return e==null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zi=class{constructor(r="",e="",n=!1,o={at_hash:""},i=ne.NotSet){this.accessToken=r,this.idToken=e,this.authResponseIsValid=n,this.decodedIdToken=o,this.state=i}},KI=(()=>{class t{constructor(){this.storagePersistenceService=u(se),this.tokenValidationService=u(Ji),this.tokenHelperService=u(Qi),this.loggerService=u(F),this.equalityService=u(GI),this.flowHelper=u(At)}getValidatedStateResult(e,n){let o=!!e.authResult?.error;return!!!e||o?m(new Zi("","",!1,{})):this.validateState(e,n)}validateState(e,n){let o=new Zi,i=this.storagePersistenceService.read("authStateControl",n);if(!this.tokenValidationService.validateStateFromHashCallback(e.authResult?.state,i,n))return this.loggerService.logWarning(n,"authCallback incorrect state"),o.state=ne.StatesDoNotMatch,this.handleUnsuccessfulValidation(n),m(o);let s=this.flowHelper.isCurrentFlowImplicitFlowWithAccessToken(n),a=this.flowHelper.isCurrentFlowCodeFlow(n);if((s||a)&&(o.accessToken=e.authResult?.access_token??""),n.disableIdTokenValidation)return o.state=ne.Ok,o.authResponseIsValid=!0,m(o);let l=e.isRenewProcess&&!!e.refreshToken,d=!!e.authResult?.id_token;if(l&&!d)return o.state=ne.Ok,o.authResponseIsValid=!0,m(o);if(d){let{clientId:f,issValidationOff:g,maxIdTokenIatOffsetAllowedInSeconds:h,disableIatOffsetValidation:v,ignoreNonceAfterRefresh:D,renewTimeBeforeTokenExpiresInSeconds:S}=n;return o.idToken=e.authResult?.id_token??"",o.decodedIdToken=this.tokenHelperService.getPayloadFromToken(o.idToken,!1,n),this.tokenValidationService.validateSignatureIdToken(o.idToken,e.jwtKeys,n).pipe(Q(_=>{if(!_)return this.loggerService.logDebug(n,"authCallback Signature validation failed id_token"),o.state=ne.SignatureFailed,this.handleUnsuccessfulValidation(n),m(o);let q=this.storagePersistenceService.read("authNonce",n);if(!this.tokenValidationService.validateIdTokenNonce(o.decodedIdToken,q,!!D,n))return this.loggerService.logWarning(n,"authCallback incorrect nonce, did you call the checkAuth() method multiple times?"),o.state=ne.IncorrectNonce,this.handleUnsuccessfulValidation(n),m(o);if(!this.tokenValidationService.validateRequiredIdToken(o.decodedIdToken,n))return this.loggerService.logDebug(n,"authCallback Validation, one of the REQUIRED properties missing from id_token"),o.state=ne.RequiredPropertyMissing,this.handleUnsuccessfulValidation(n),m(o);if(!l&&!this.tokenValidationService.validateIdTokenIatMaxOffset(o.decodedIdToken,h??120,!!v,n))return this.loggerService.logWarning(n,"authCallback Validation, iat rejected id_token was issued too far away from the current time"),o.state=ne.MaxOffsetExpired,this.handleUnsuccessfulValidation(n),m(o);let I=this.storagePersistenceService.read("authWellKnownEndPoints",n);if(I){if(g)this.loggerService.logDebug(n,"iss validation is turned off, this is not recommended!");else if(!g&&!this.tokenValidationService.validateIdTokenIss(o.decodedIdToken,I.issuer,n))return this.loggerService.logWarning(n,"authCallback incorrect iss does not match authWellKnownEndpoints issuer"),o.state=ne.IssDoesNotMatchIssuer,this.handleUnsuccessfulValidation(n),m(o)}else return this.loggerService.logWarning(n,"authWellKnownEndpoints is undefined"),o.state=ne.NoAuthWellKnownEndPoints,this.handleUnsuccessfulValidation(n),m(o);return this.tokenValidationService.validateIdTokenAud(o.decodedIdToken,f,n)?this.tokenValidationService.validateIdTokenAzpExistsIfMoreThanOneAud(o.decodedIdToken)?this.tokenValidationService.validateIdTokenAzpValid(o.decodedIdToken,f)?this.isIdTokenAfterRefreshTokenRequestValid(e,o.decodedIdToken,n)?!l&&!this.tokenValidationService.validateIdTokenExpNotExpired(o.decodedIdToken,n,S)?(this.loggerService.logWarning(n,"authCallback id token expired"),o.state=ne.TokenExpired,this.handleUnsuccessfulValidation(n),m(o)):this.validateDefault(s,a,o,n,e):(this.loggerService.logWarning(n,"authCallback pre, post id_token claims do not match in refresh"),o.state=ne.IncorrectIdTokenClaimsAfterRefresh,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback incorrect azp"),o.state=ne.IncorrectAzp,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback missing azp"),o.state=ne.IncorrectAzp,this.handleUnsuccessfulValidation(n),m(o)):(this.loggerService.logWarning(n,"authCallback incorrect aud"),o.state=ne.IncorrectAud,this.handleUnsuccessfulValidation(n),m(o))}))}else this.loggerService.logDebug(n,"No id_token found, skipping id_token validation");return this.validateDefault(s,a,o,n,e)}validateDefault(e,n,o,i,s){if(!e&&!n)return o.authResponseIsValid=!0,o.state=ne.Ok,this.handleSuccessfulValidation(i),this.handleUnsuccessfulValidation(i),m(o);if(s.authResult?.id_token){let a=this.tokenHelperService.getHeaderFromToken(o.idToken,!1,i);if(n&&!o.decodedIdToken.at_hash)this.loggerService.logDebug(i,"Code Flow active, and no at_hash in the id_token, skipping check!");else return this.tokenValidationService.validateIdTokenAtHash(o.accessToken,o.decodedIdToken.at_hash,a.alg,i).pipe(w(c=>!c||!o.accessToken?(this.loggerService.logWarning(i,"authCallback incorrect at_hash"),o.state=ne.IncorrectAtHash,this.handleUnsuccessfulValidation(i),o):(o.authResponseIsValid=!0,o.state=ne.Ok,this.handleSuccessfulValidation(i),o)))}return o.authResponseIsValid=!0,o.state=ne.Ok,this.handleSuccessfulValidation(i),m(o)}isIdTokenAfterRefreshTokenRequestValid(e,n,o){let{useRefreshToken:i,disableRefreshIdTokenAuthTimeValidation:s}=o;if(!i||!e.existingIdToken)return!0;let a=this.tokenHelperService.getPayloadFromToken(e.existingIdToken,!1,o);return a.iss!==n.iss?(this.loggerService.logDebug(o,`iss do not match: ${a.iss} ${n.iss}`),!1):a.azp!==n.azp?(this.loggerService.logDebug(o,`azp do not match: ${a.azp} ${n.azp}`),!1):a.sub!==n.sub?(this.loggerService.logDebug(o,`sub do not match: ${a.sub} ${n.sub}`),!1):this.equalityService.isStringEqualOrNonOrderedArrayEqual(a?.aud,n?.aud)?s?!0:a.auth_time!==n.auth_time?(this.loggerService.logDebug(o,`auth_time do not match: ${a.auth_time} ${n.auth_time}`),!1):!0:(this.loggerService.logDebug(o,`aud in new id_token is not valid: '${a?.aud}' '${n.aud}'`),!1)}handleSuccessfulValidation(e){let{autoCleanStateAfterAuthentication:n}=e;this.storagePersistenceService.write("authNonce",null,e),n&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) validated, continue")}handleUnsuccessfulValidation(e){let{autoCleanStateAfterAuthentication:n}=e;this.storagePersistenceService.write("authNonce",null,e),n&&this.storagePersistenceService.write("authStateControl","",e),this.loggerService.logDebug(e,"authCallback token(s) invalid")}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZI=(()=>{class t{constructor(){this.loggerService=u(F),this.stateValidationService=u(KI),this.authStateService=u(et),this.resetAuthDataService=u(_t),this.document=u(Z)}callbackStateValidation(e,n,o){return this.stateValidationService.getValidatedStateResult(e,n).pipe(w(i=>{if(e.validationResult=i,i.authResponseIsValid)return this.authStateService.setAuthorizationData(i.accessToken,e.authResult,n,o),e;{let s=`authorizedCallback, token(s) validation failed, resetting. Hash: ${this.document.location.hash}`;throw this.loggerService.logWarning(n,s),this.resetAuthDataService.resetAuthorizationData(n,o),this.publishUnauthorizedState(e.validationResult,e.isRenewProcess),new Error(s)}}))}publishUnauthorizedState(e,n){this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:n})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YI=(()=>{class t{constructor(){this.loggerService=u(F),this.authStateService=u(et),this.flowsDataService=u(Se),this.userService=u(jn),this.resetAuthDataService=u(_t)}callbackUser(e,n,o){let{isRenewProcess:i,validationResult:s,authResult:a,refreshToken:c}=e,{autoUserInfo:l,renewUserInfoAfterTokenRenew:d}=n;return l?this.userService.getAndPersistUserDataInStore(n,o,i,s?.idToken,s?.decodedIdToken).pipe(j(f=>{if(f)return c||this.flowsDataService.setSessionState(a?.session_state,n),this.publishAuthState(s,i),m(e);{this.resetAuthDataService.resetAuthorizationData(n,o),this.publishUnauthenticatedState(s,i);let g=`Called for userData but they were ${f}`;return this.loggerService.logWarning(n,g),E(()=>new Error(g))}}),G(f=>{let g=`Failed to retrieve user info with error:  ${f}`;return this.loggerService.logWarning(n,g),E(()=>new Error(g))})):((!i||d)&&s?.decodedIdToken&&this.userService.setUserDataToStore(s.decodedIdToken,n,o),!i&&!c&&this.flowsDataService.setSessionState(a?.session_state,n),this.publishAuthState(s,i),m(e))}publishAuthState(e,n){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!0,validationResult:e.state,isRenewProcess:n})}publishUnauthenticatedState(e,n){e&&this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:e.state,isRenewProcess:n})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xi=(()=>{class t{constructor(){this.codeFlowCallbackHandlerService=u(VI),this.implicitFlowCallbackHandlerService=u(zI),this.historyJwtKeysCallbackHandlerService=u(HI),this.userHandlerService=u(YI),this.stateValidationCallbackHandlerService=u(ZI),this.refreshSessionCallbackHandlerService=u(WI),this.refreshTokenCallbackHandlerService=u(qI)}processCodeFlowCallback(e,n,o){return this.codeFlowCallbackHandlerService.codeFlowCallback(e,n).pipe(P(i=>this.codeFlowCallbackHandlerService.codeFlowCodeRequest(i,n)),P(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,n,o)),P(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,n,o)),P(i=>this.userHandlerService.callbackUser(i,n,o)))}processSilentRenewCodeFlowCallback(e,n,o){return this.codeFlowCallbackHandlerService.codeFlowCodeRequest(e,n).pipe(P(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,n,o)),P(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,n,o)),P(i=>this.userHandlerService.callbackUser(i,n,o)))}processImplicitFlowCallback(e,n,o){return this.implicitFlowCallbackHandlerService.implicitFlowCallback(e,n,o).pipe(P(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,e,n)),P(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,e,n)),P(i=>this.userHandlerService.callbackUser(i,e,n)))}processRefreshToken(e,n,o){return this.refreshSessionCallbackHandlerService.refreshSessionWithRefreshTokens(e).pipe(P(i=>this.refreshTokenCallbackHandlerService.refreshTokensRequestTokens(i,e,o)),P(i=>this.historyJwtKeysCallbackHandlerService.callbackHistoryAndResetJwtKeys(i,e,n)),P(i=>this.stateValidationCallbackHandlerService.callbackStateValidation(i,e,n)),P(i=>this.userHandlerService.callbackUser(i,e,n)))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wr=(()=>{class t{constructor(){this.zone=u(ee),this.document=u(Z),this.runTokenValidationRunning=null}isTokenValidationRunning(){return!!this.runTokenValidationRunning}stopPeriodicTokenCheck(){this.runTokenValidationRunning&&(this.runTokenValidationRunning.unsubscribe(),this.runTokenValidationRunning=null)}startPeriodicTokenCheck(e){let n=e*1e3;return new k(o=>{let i;return this.zone.runOutsideAngular(()=>{i=this.document?.defaultView?.setInterval(()=>this.zone.run(()=>o.next()),n)}),()=>{clearInterval(i)}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),QI=(()=>{class t{constructor(){this.flowsService=u(Xi),this.router=u(Mt),this.flowsDataService=u(Se),this.intervalService=u(Wr)}authenticatedCallbackWithCode(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(n),{triggerAuthorizationResultEvent:s}=n,a=n.postLoginRoute||"/",c=n.unauthorizedRoute||"/";return this.flowsService.processCodeFlowCallback(e,n,o).pipe(H(l=>{this.flowsDataService.resetCodeFlowInProgress(n),!s&&!l.isRenewProcess&&this.router.navigateByUrl(a)}),G(l=>(this.flowsDataService.resetSilentRenewRunning(n),this.flowsDataService.resetCodeFlowInProgress(n),this.intervalService.stopPeriodicTokenCheck(),!s&&!i&&this.router.navigateByUrl(c),E(()=>new Error(l)))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ap=(()=>{class t{constructor(){this.flowsService=u(Xi),this.router=u(Mt),this.flowsDataService=u(Se),this.intervalService=u(Wr)}authenticatedImplicitFlowCallback(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e),s=!!e.triggerAuthorizationResultEvent,a=e.postLoginRoute??"",c=e.unauthorizedRoute??"";return this.flowsService.processImplicitFlowCallback(e,n,o).pipe(H(l=>{!s&&!l.isRenewProcess&&this.router.navigateByUrl(a)}),G(l=>(this.flowsDataService.resetSilentRenewRunning(e),this.intervalService.stopPeriodicTokenCheck(),!s&&!i&&this.router.navigateByUrl(c),E(()=>new Error(l)))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_p=(()=>{class t{constructor(){this.urlService=u(tt),this.flowHelper=u(At),this.implicitFlowCallbackService=u(Ap),this.codeFlowCallbackService=u(QI),this.stsCallbackInternal$=new X}get stsCallback$(){return this.stsCallbackInternal$.asObservable()}isCallback(e,n){return e?this.urlService.isCallbackFromSts(e,n):!1}handleCallbackAndFireEvents(e,n,o){let i=new k;if(this.flowHelper.isCurrentFlowCodeFlow(n))i=this.codeFlowCallbackService.authenticatedCallbackWithCode(e,n,o);else if(this.flowHelper.isCurrentFlowAnyImplicitFlow(n))if(e?.includes("#")){let s=e.substring(e.indexOf("#")+1);i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o,s)}else i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o);return i.pipe(H(()=>this.stsCallbackInternal$.next()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JI=(()=>{class t{constructor(){this.platformId=u(Qe)}isBrowser(){return dh(this.platformId)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XI="/.well-known/openid-configuration",eE=(()=>{class t{constructor(){this.loggerService=u(F),this.http=u(en)}getWellKnownEndPointsForConfig(e){let{authWellknownEndpointUrl:n,authWellknownEndpoints:o={}}=e;if(!n){let i="no authWellknownEndpoint given!";return this.loggerService.logError(e,i),E(()=>new Error(i))}return this.getWellKnownDocument(n,e).pipe(w(i=>({issuer:i.issuer,jwksUri:i.jwks_uri,authorizationEndpoint:i.authorization_endpoint,tokenEndpoint:i.token_endpoint,userInfoEndpoint:i.userinfo_endpoint,endSessionEndpoint:i.end_session_endpoint,checkSessionIframe:i.check_session_iframe,revocationEndpoint:i.revocation_endpoint,introspectionEndpoint:i.introspection_endpoint,parEndpoint:i.pushed_authorization_request_endpoint})),w(i=>y(y({},i),o)))}getWellKnownDocument(e,n){let o=e,i=n.authWellknownUrlSuffix||XI;return e.includes(i)||(o=`${e}${i}`),this.http.get(o,n).pipe(jt(2))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Un=(()=>{class t{constructor(){this.dataService=u(eE),this.publicEventsService=u(Xt),this.storagePersistenceService=u(se)}storeWellKnownEndpoints(e,n){this.storagePersistenceService.write("authWellKnownEndPoints",n,e)}queryAndStoreAuthWellKnownEndPoints(e){return e?this.dataService.getWellKnownEndPointsForConfig(e).pipe(H(n=>this.storeWellKnownEndpoints(e,n)),G(n=>(this.publicEventsService.fireEvent(De.ConfigLoadingFailed,null),E(()=>new Error(n))))):E(()=>new Error("Please provide a configuration before setting up the module"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tE={authority:"https://please_set",authWellknownEndpointUrl:"",authWellknownEndpoints:void 0,redirectUrl:"https://please_set",checkRedirectUrlWhenCheckingIfIsCallback:!0,clientId:"please_set",responseType:"code",scope:"openid email profile",hdParam:"",postLogoutRedirectUri:"https://please_set",startCheckSession:!1,silentRenew:!1,silentRenewUrl:"https://please_set",silentRenewTimeoutInSeconds:20,renewTimeBeforeTokenExpiresInSeconds:0,useRefreshToken:!1,usePushedAuthorisationRequests:!1,ignoreNonceAfterRefresh:!1,postLoginRoute:"/",forbiddenRoute:"/forbidden",unauthorizedRoute:"/unauthorized",autoUserInfo:!0,autoCleanStateAfterAuthentication:!0,triggerAuthorizationResultEvent:!1,logLevel:Rt.Warn,issValidationOff:!1,historyCleanupOff:!1,maxIdTokenIatOffsetAllowedInSeconds:120,disableIatOffsetValidation:!1,customParamsAuthRequest:{},customParamsRefreshTokenRequest:{},customParamsEndSessionRequest:{},customParamsCodeRequest:{},disableRefreshIdTokenAuthTimeValidation:!1,triggerRefreshWhenIdTokenExpired:!0,tokenRefreshInSeconds:4,refreshTokenRetryInSeconds:3,ngswBypass:!1},Vn={result:!0,messages:[],level:"none"},nE=t=>t.authority?Vn:{result:!1,messages:["The authority URL MUST be provided in the configuration! "],level:"error"},rE=t=>t.clientId?Vn:{result:!1,messages:["The clientId is required and missing from your config!"],level:"error"},oE=t=>{if(!t)return"";let{authority:r,clientId:e,scope:n}=t;return`${r}${e}${n}`},iE=t=>new Set(t).size!==t.length,sE=t=>{let r=t.map(o=>oE(o));return r.some(o=>o==="")?{result:!1,messages:["Please make sure you add an object with a 'config' property: ....({ config }) instead of ...(config)"],level:"error"}:iE(r)?{result:!1,messages:["You added multiple configs with the same authority, clientId and scope"],level:"warning"}:Vn},aE=t=>t.redirectUrl?Vn:{result:!1,messages:["The redirectUrl is required and missing from your config"],level:"error"},cE=t=>{let r=t.silentRenew,e=t.useRefreshToken,n=t.silentRenewUrl;return r&&!e&&!n?{result:!1,messages:["Please provide a silent renew URL if using renew and not refresh tokens"],level:"error"}:Vn},lE=t=>{let r=t.useRefreshToken,e=t.silentRenew,o=(t.scope||"").split(" ").includes("offline_access");return r&&e&&!o?{result:!1,messages:["When using silent renew and refresh tokens please set the `offline_access` scope"],level:"warning"}:Vn},uE=[nE,lE,aE,rE,cE],dE=[sE],fE=(()=>{class t{constructor(){this.loggerService=u(F)}validateConfigs(e){return this.validateConfigsInternal(e??[],dE)}validateConfig(e){return this.validateConfigInternal(e,uE)}validateConfigsInternal(e,n){if(e.length===0)return!1;let o=n.map(s=>s(e)),i=0;return e.forEach(s=>{let a=this.processValidationResultsAndGetErrorCount(o,s);i+=a}),i===0}validateConfigInternal(e,n){let o=n.map(s=>s(e));return this.processValidationResultsAndGetErrorCount(o,e)===0}processValidationResultsAndGetErrorCount(e,n){let o=e.filter(a=>a.messages.length>0),i=this.getAllMessagesOfType("error",o),s=this.getAllMessagesOfType("warning",o);return i.forEach(a=>this.loggerService.logError(n,a)),s.forEach(a=>this.loggerService.logWarning(n,a)),i.length}getAllMessagesOfType(e,n){return n.filter(i=>i.level===e).map(i=>i.messages).reduce((i,s)=>i.concat(s),[])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xp=(()=>{class t{constructor(){this.loggerService=u(F),this.publicEventsService=u(Xt),this.storagePersistenceService=u(se),this.platformProvider=u(JI),this.authWellKnownService=u(Un),this.loader=u(Ki),this.configValidationService=u(fE),this.configsInternal={}}hasManyConfigs(){return Object.keys(this.configsInternal).length>1}getAllConfigurations(){return Object.values(this.configsInternal)}getOpenIDConfiguration(e){return this.configsAlreadySaved()?m(this.getConfig(e)):this.getOpenIDConfigurations(e).pipe(w(n=>n.currentConfig))}getOpenIDConfigurations(e){return this.loadConfigs().pipe(P(n=>this.prepareAndSaveConfigs(n)),w(n=>({allConfigs:n,currentConfig:this.getConfig(e)})))}hasAtLeastOneConfig(){return Object.keys(this.configsInternal).length>0}saveConfig(e){let{configId:n}=e;this.configsInternal[n]=e}loadConfigs(){return this.loader.loadConfigs()}configsAlreadySaved(){return this.hasAtLeastOneConfig()}getConfig(e){if(e){let o=this.configsInternal[e];return!o&&Xf()&&console.warn(`[angular-auth-oidc-client] No configuration found for config id '${e}'.`),o||null}let[,n]=Object.entries(this.configsInternal)[0]||[[null,null]];return n||null}prepareAndSaveConfigs(e){if(!this.configValidationService.validateConfigs(e))return m([]);this.createUniqueIds(e);let n=e.map(i=>this.handleConfig(i));return Ft(n).pipe(w(i=>i.filter(s=>!!s)),w(i=>i))}createUniqueIds(e){e.forEach((n,o)=>{n.configId||(n.configId=`${o}-${n.clientId}`)})}handleConfig(e){if(!this.configValidationService.validateConfig(e))return this.loggerService.logError(e,"Validation of config rejected with errors. Config is NOT set."),m(null);e.authWellknownEndpointUrl||(e.authWellknownEndpointUrl=e.authority);let n=this.prepareConfig(e);this.saveConfig(n);let o=this.enhanceConfigWithWellKnownEndpoint(n);return this.publicEventsService.fireEvent(De.ConfigLoaded,o),m(n)}enhanceConfigWithWellKnownEndpoint(e){let n=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(n)return e.authWellknownEndpoints=n,e;let o=e.authWellknownEndpoints;return o&&(this.authWellKnownService.storeWellKnownEndpoints(e,o),e.authWellknownEndpoints=o),e}prepareConfig(e){let n=y(y({},tE),e);return this.setSpecialCases(n),n}setSpecialCases(e){this.platformProvider.isBrowser()||(e.startCheckSession=!1,e.silentRenew=!1,e.useRefreshToken=!1,e.usePushedAuthorisationRequests=!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kp=(()=>{class t{constructor(){this.document=u(Z),this.loggerService=u(F)}getExistingIFrame(e){let n=this.getIFrameFromParentWindow(e);if(this.isIFrameElement(n))return n;let o=this.getIFrameFromWindow(e);return this.isIFrameElement(o)?o:null}addIFrameToWindowBody(e,n){let o=this.document.createElement("iframe");return o.id=e,o.title=e,this.loggerService.logDebug(n,o),o.style.display="none",this.document.body.appendChild(o),o}getIFrameFromParentWindow(e){try{let n=this.document.defaultView?.parent.document.getElementById(e);return this.isIFrameElement(n)?n:null}catch{return null}}getIFrameFromWindow(e){let n=this.document.getElementById(e);return this.isIFrameElement(n)?n:null}isIFrameElement(e){return!!e&&e instanceof HTMLIFrameElement}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ep="myiFrameForSilentRenew",gl=(()=>{class t{constructor(){this.refreshSessionWithIFrameCompletedInternal$=new X,this.loggerService=u(F),this.iFrameService=u(kp),this.flowsService=u(Xi),this.resetAuthDataService=u(_t),this.flowsDataService=u(Se),this.authStateService=u(et),this.flowHelper=u(At),this.implicitFlowCallbackService=u(Ap),this.intervalService=u(Wr)}get refreshSessionWithIFrameCompleted$(){return this.refreshSessionWithIFrameCompletedInternal$.asObservable()}getOrCreateIframe(e){let n=this.getExistingIframe();return n||this.iFrameService.addIFrameToWindowBody(Ep,e)}isSilentRenewConfigured(e){let{useRefreshToken:n,silentRenew:o}=e;return!n&&!!o}codeFlowCallbackSilentRenewIframe(e,n,o){let i=new Fe({fromString:e[1]}),s=i.get("error");if(s)return this.authStateService.updateAndPublishAuthState({isAuthenticated:!1,validationResult:ne.LoginRequired,isRenewProcess:!0}),this.resetAuthDataService.resetAuthorizationData(n,o),this.flowsDataService.setNonce("",n),this.intervalService.stopPeriodicTokenCheck(),E(()=>new Error(s));let a=i.get("code")??"",c=i.get("state")??"",l=i.get("session_state"),d={code:a,refreshToken:"",state:c,sessionState:l,authResult:null,isRenewProcess:!0,jwtKeys:null,validationResult:null,existingIdToken:null};return this.flowsService.processSilentRenewCodeFlowCallback(d,n,o).pipe(G(f=>(this.intervalService.stopPeriodicTokenCheck(),this.resetAuthDataService.resetAuthorizationData(n,o),E(()=>new Error(f)))))}silentRenewEventHandler(e,n,o){if(this.loggerService.logDebug(n,"silentRenewEventHandler"),!e.detail)return;let i;if(this.flowHelper.isCurrentFlowCodeFlow(n)){let a=e.detail.toString().split("?");i=this.codeFlowCallbackSilentRenewIframe(a,n,o)}else i=this.implicitFlowCallbackService.authenticatedImplicitFlowCallback(n,o,e.detail);i.subscribe({next:a=>{this.refreshSessionWithIFrameCompletedInternal$.next(a),this.flowsDataService.resetSilentRenewRunning(n)},error:a=>{this.loggerService.logError(n,"Error: "+a),this.refreshSessionWithIFrameCompletedInternal$.next(null),this.flowsDataService.resetSilentRenewRunning(n)}})}getExistingIframe(){return this.iFrameService.getExistingIFrame(Ep)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Np=(()=>{class t{constructor(){this.renderer=u(It).createRenderer(null,null),this.loggerService=u(F),this.urlService=u(tt),this.silentRenewService=u(gl),this.document=u(Z)}refreshSessionWithIframe(e,n,o){return this.loggerService.logDebug(e,"BEGIN refresh session Authorize Iframe renew"),this.urlService.getRefreshSessionSilentRenewUrl(e,o).pipe(j(i=>this.sendAuthorizeRequestUsingSilentRenew(i,e,n)))}sendAuthorizeRequestUsingSilentRenew(e,n,o){let i=this.silentRenewService.getOrCreateIframe(n);return this.initSilentRenewRequest(n,o),this.loggerService.logDebug(n,`sendAuthorizeRequestUsingSilentRenew for URL: ${e}`),new k(s=>{let a=()=>{i.removeEventListener("load",a),this.loggerService.logDebug(n,"removed event listener from IFrame"),s.next(!0),s.complete()};i.addEventListener("load",a),i.contentWindow?.location.replace(e??"")})}initSilentRenewRequest(e,n){let o=Math.random(),i=this.renderer.listen("window","oidc-silent-renew-init",a=>{a.detail!==o&&(i(),s())}),s=this.renderer.listen("window","oidc-silent-renew-message",a=>this.silentRenewService.silentRenewEventHandler(a,e,n));this.document.defaultView?.dispatchEvent(new CustomEvent("oidc-silent-renew-init",{detail:o}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Op=(()=>{class t{constructor(){this.loggerService=u(F),this.resetAuthDataService=u(_t),this.flowsService=u(Xi),this.intervalService=u(Wr)}refreshSessionWithRefreshTokens(e,n,o){this.loggerService.logDebug(e,"BEGIN refresh session Authorize");let i=!1;return this.flowsService.processRefreshToken(e,n,o).pipe(G(s=>(this.resetAuthDataService.resetAuthorizationData(e,n),i=!0,E(()=>new Error(s)))),He(()=>i&&this.intervalService.stopPeriodicTokenCheck()))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hE=(()=>{class t{constructor(){this.resetAuthDataService=u(_t),this.flowHelper=u(At),this.flowsDataService=u(Se),this.loggerService=u(F),this.userService=u(jn),this.authStateService=u(et),this.refreshSessionIframeService=u(Np),this.refreshSessionRefreshTokenService=u(Op),this.intervalService=u(Wr),this.storagePersistenceService=u(se),this.publicEventsService=u(Xt),this.configurationService=u(xp)}startTokenValidationPeriodically(e,n){let o=this.getConfigsWithSilentRenewEnabled(e);if(o.length<=0||this.intervalService.isTokenValidationRunning())return;let i=this.getSmallestRefreshTimeFromConfigs(o),s=this.intervalService.startPeriodicTokenCheck(i).pipe(j(()=>{let a={};return o.forEach(c=>{let l=c.configId,d=this.getRefreshEvent(c,e);a[l]=d}),Ft(a)}));this.intervalService.runTokenValidationRunning=s.pipe(G(a=>E(()=>new Error(a)))).subscribe({next:a=>{for(let[c,l]of Object.entries(a))this.configurationService.getOpenIDConfiguration(c).subscribe(d=>{this.loggerService.logDebug(d,"silent renew, periodic check finished!"),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(d)&&this.flowsDataService.resetSilentRenewRunning(d)})},error:a=>{this.loggerService.logError(n,"silent renew failed!",a)}})}getRefreshEvent(e,n){if(!this.shouldStartPeriodicallyCheckForConfig(e))return m(null);let i=this.createRefreshEventForConfig(e,n);return this.publicEventsService.fireEvent(De.SilentRenewStarted),i.pipe(G(s=>(this.loggerService.logError(e,"silent renew failed!",s),this.publicEventsService.fireEvent(De.SilentRenewFailed,s),this.flowsDataService.resetSilentRenewRunning(e),E(()=>new Error(s)))))}getSmallestRefreshTimeFromConfigs(e){return e.reduce((o,i)=>(o.tokenRefreshInSeconds??0)<(i.tokenRefreshInSeconds??0)?o:i).tokenRefreshInSeconds??0}getConfigsWithSilentRenewEnabled(e){return e.filter(n=>n.silentRenew)}createRefreshEventForConfig(e,n){return this.loggerService.logDebug(e,"starting silent renew..."),this.configurationService.getOpenIDConfiguration(e.configId).pipe(j(o=>{if(!o?.silentRenew)return this.resetAuthDataService.resetAuthorizationData(o,n),m(null);if(this.flowsDataService.setSilentRenewRunning(o),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(o)){let s=this.storagePersistenceService.read("storageCustomParamsRefresh",o)||{},{customParamsRefreshTokenRequest:a}=o,c=y(y({},a),s);return this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(o,n,c)}let i=this.storagePersistenceService.read("storageCustomParamsAuthRequest",o);return this.refreshSessionIframeService.refreshSessionWithIframe(o,n,i)}))}shouldStartPeriodicallyCheckForConfig(e){let n=this.authStateService.getIdToken(e),o=this.flowsDataService.isSilentRenewRunning(e),i=this.flowsDataService.isCodeFlowInProgress(e),s=this.userService.getUserDataFromStore(e);if(this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${o}, isCodeFlowInProgress: ${i} - has idToken: ${!!n} - has userData: ${!!s}`),!(!!s&&!o&&!!n&&!i))return!1;let c=this.authStateService.hasIdTokenExpiredAndRenewCheckIsEnabled(e),l=this.authStateService.hasAccessTokenExpiredIfExpiryExists(e);return c||l}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pE=3,Pp=(()=>{class t{constructor(){this.flowHelper=u(At),this.flowsDataService=u(Se),this.loggerService=u(F),this.silentRenewService=u(gl),this.authStateService=u(et),this.authWellKnownService=u(Un),this.refreshSessionIframeService=u(Np),this.storagePersistenceService=u(se),this.refreshSessionRefreshTokenService=u(Op),this.userService=u(jn)}userForceRefreshSession(e,n,o){return e?(this.persistCustomParams(o,e),this.forceRefreshSession(e,n,o).pipe(H(()=>this.flowsDataService.resetSilentRenewRunning(e)))):E(()=>new Error("Please provide a configuration before setting up the module"))}forceRefreshSession(e,n,o){let{customParamsRefreshTokenRequest:i,configId:s}=e,a=y(y({},i),o);if(this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e))return this.startRefreshSession(e,n,a).pipe(w(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return d?{idToken:this.authStateService.getIdToken(e),accessToken:this.authStateService.getAccessToken(e),userData:this.userService.getUserDataFromStore(e),isAuthenticated:d,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}));let{silentRenewTimeoutInSeconds:c}=e,l=(c??0)*1e3;return Ft([this.startRefreshSession(e,n,o),this.silentRenewService.refreshSessionWithIFrameCompleted$.pipe(me(1))]).pipe(_s(l),Kn(d=>d.pipe(Q((f,g)=>{let v=g+1;return!(f instanceof Eo)||v>pE?E(()=>new Error(f)):(this.loggerService.logDebug(e,`forceRefreshSession timeout. Attempt #${v}`),this.flowsDataService.resetSilentRenewRunning(e),Lt(v*1e3))}))),w(([d,f])=>{let g=this.authStateService.areAuthStorageTokensValid(e);return g?{idToken:f?.authResult?.id_token??"",accessToken:f?.authResult?.access_token??"",userData:this.userService.getUserDataFromStore(e),isAuthenticated:g,configId:s}:{isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:s}}))}persistCustomParams(e,n){let{useRefreshToken:o}=n;e&&(o?this.storagePersistenceService.write("storageCustomParamsRefresh",e,n):this.storagePersistenceService.write("storageCustomParamsAuthRequest",e,n))}startRefreshSession(e,n,o){let i=this.flowsDataService.isSilentRenewRunning(e);return this.loggerService.logDebug(e,`Checking: silentRenewRunning: ${i}`),!i?this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(j(()=>(this.flowsDataService.setSilentRenewRunning(e),this.flowHelper.isCurrentFlowCodeFlowWithRefreshTokens(e)?this.refreshSessionRefreshTokenService.refreshSessionWithRefreshTokens(e,n,o):this.refreshSessionIframeService.refreshSessionWithIframe(e,n,o)))):m(null)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cp="myiFrameForCheckSession",ml=(()=>{class t{constructor(){this.loggerService=u(F),this.storagePersistenceService=u(se),this.iFrameService=u(kp),this.eventService=u(Xt),this.zone=u(ee),this.document=u(Z),this.checkSessionReceived=!1,this.scheduledHeartBeatRunning=null,this.lastIFrameRefresh=0,this.outstandingMessages=0,this.heartBeatInterval=3e3,this.iframeRefreshInterval=6e4,this.checkSessionChangedInternal$=new oe(!1)}get checkSessionChanged$(){return this.checkSessionChangedInternal$.asObservable()}ngOnDestroy(){this.stop();let e=this.document.defaultView;e&&this.iframeMessageEventListener&&e.removeEventListener("message",this.iframeMessageEventListener,!1)}isCheckSessionConfigured(e){let{startCheckSession:n}=e;return!!n}start(e){if(this.scheduledHeartBeatRunning)return;let{clientId:n}=e;this.pollServerSession(n,e)}stop(){this.scheduledHeartBeatRunning&&(this.clearScheduledHeartBeat(),this.checkSessionReceived=!1)}serverStateChanged(e){let{startCheckSession:n}=e;return!!n&&this.checkSessionReceived}getExistingIframe(){return this.iFrameService.getExistingIFrame(Cp)}init(e){if(this.lastIFrameRefresh+this.iframeRefreshInterval>Date.now())return m();let n=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!n)return this.loggerService.logWarning(e,"CheckSession - init check session: authWellKnownEndpoints is undefined. Returning."),m();let o=this.getOrCreateIframe(e);this.bindMessageEventToIframe(e);let i=n.checkSessionIframe,s=o.contentWindow;return i?(s?s.location.replace(i):this.loggerService.logWarning(e,"CheckSession - init check session: IFrame contentWindow does not exist"),new k(a=>{o.onload=()=>{this.lastIFrameRefresh=Date.now(),a.next(),a.complete()}})):(this.loggerService.logWarning(e,"CheckSession - init check session: checkSessionIframe is not configured to run"),m())}pollServerSession(e,n){this.outstandingMessages=0;let o=()=>{this.init(n).pipe(me(1)).subscribe(()=>{let i=this.getExistingIframe();if(i&&e){this.loggerService.logDebug(n,`CheckSession - clientId : '${e}' - existingIframe: '${i}'`);let s=this.storagePersistenceService.read("session_state",n),a=this.storagePersistenceService.read("authWellKnownEndPoints",n),c=i.contentWindow;if(s&&a?.checkSessionIframe&&c){let l=new URL(a.checkSessionIframe)?.origin;this.outstandingMessages++,c.postMessage(e+" "+s,l)}else this.loggerService.logDebug(n,`CheckSession - session_state is '${s}' - AuthWellKnownEndPoints is '${JSON.stringify(a,null,2)}'`),this.checkSessionChangedInternal$.next(!0)}else this.loggerService.logWarning(n,`CheckSession - OidcSecurityCheckSession pollServerSession checkSession IFrame does not exist:
               clientId : '${e}' - existingIframe: '${i}'`);this.outstandingMessages>3&&this.loggerService.logError(n,`CheckSession - OidcSecurityCheckSession not receiving check session response messages.
                            Outstanding messages: '${this.outstandingMessages}'. Server unreachable?`),this.zone.runOutsideAngular(()=>{this.scheduledHeartBeatRunning=this.document?.defaultView?.setTimeout(()=>this.zone.run(o),this.heartBeatInterval)??null})})};o()}clearScheduledHeartBeat(){this.scheduledHeartBeatRunning!==null&&(clearTimeout(this.scheduledHeartBeatRunning),this.scheduledHeartBeatRunning=null)}messageHandler(e,n){let o=this.getExistingIframe(),s=!!this.storagePersistenceService.read("authWellKnownEndPoints",e)?.checkSessionIframe?.startsWith(n.origin);this.outstandingMessages=0,o&&s&&n.source===o.contentWindow&&(n.data==="error"?this.loggerService.logWarning(e,"CheckSession - error from check session messageHandler"):n.data==="changed"?(this.loggerService.logDebug(e,`CheckSession - ${n} from check session messageHandler`),this.checkSessionReceived=!0,this.eventService.fireEvent(De.CheckSessionReceived,n.data),this.checkSessionChangedInternal$.next(!0)):(this.eventService.fireEvent(De.CheckSessionReceived,n.data),this.loggerService.logDebug(e,`CheckSession - ${n.data} from check session messageHandler`)))}bindMessageEventToIframe(e){this.iframeMessageEventListener=this.messageHandler.bind(this,e);let n=this.document.defaultView;n&&n.addEventListener("message",this.iframeMessageEventListener,!1)}getOrCreateIframe(e){return this.getExistingIframe()||this.iFrameService.addIFrameToWindowBody(Cp,e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),es=(()=>{class t{constructor(){this.loggerService=u(F),this.storagePersistenceService=u(se),this.document=u(Z),this.STORAGE_IDENTIFIER="popupauth",this.popUp=null,this.handle=-1,this.resultInternal$=new X}get result$(){return this.resultInternal$.asObservable()}get windowInternal(){return this.document.defaultView}isCurrentlyInPopup(e){if(this.canAccessSessionStorage()){let n=this.storagePersistenceService.read(this.STORAGE_IDENTIFIER,e),o=this.windowInternal;return o?!!o.opener&&o.opener!==o&&!!n:!1}return!1}openPopUp(e,n,o){let i=this.getOptions(n);this.storagePersistenceService.write(this.STORAGE_IDENTIFIER,"true",o);let s=this.windowInternal;if(!s)return;if(!e){this.loggerService.logError(o,"Could not open popup, url is empty");return}if(this.popUp=s.open(e,"_blank",i),!this.popUp){this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,o),this.loggerService.logError(o,"Could not open popup");return}this.loggerService.logDebug(o,"Opened popup with url "+e);let a=c=>{if(!c?.data||typeof c.data!="string"){if(o.disableCleaningPopupOnInvalidMessage)return;this.cleanUp(a,o);return}this.loggerService.logDebug(o,"Received message from popup with url "+c.data),this.resultInternal$.next({userClosed:!1,receivedUrl:c.data}),this.cleanUp(a,o)};s.addEventListener("message",a,!1),this.handle=s.setInterval(()=>{this.popUp?.closed&&(this.resultInternal$.next({userClosed:!0,receivedUrl:""}),this.cleanUp(a,o))},200)}sendMessageToMainWindow(e,n){let o=this.windowInternal;if(o&&o.opener){let i=o.location.href;this.sendMessage(e,i,n)}}cleanUp(e,n){let o=this.windowInternal;o&&(o.removeEventListener("message",e,!1),o.clearInterval(this.handle),this.popUp&&(this.storagePersistenceService.remove(this.STORAGE_IDENTIFIER,n),this.popUp.close(),this.popUp=null))}sendMessage(e,n,o){let i=this.windowInternal;if(i){if(!e){this.loggerService.logDebug(o,`Can not send message to parent, no url: '${e}'`);return}i.opener.postMessage(e,n)}}getOptions(e){let n={width:500,height:500,left:50,top:50},o=y(y({},n),e||{}),i=this.windowInternal;if(!i)return"";let s=o.width||n.width,a=o.height||n.height,c=i.screenLeft+(i.outerWidth-s)/2,l=i.screenTop+(i.outerHeight-a)/2;return o.left=c,o.top=l,Object.entries(o).map(([d,f])=>`${encodeURIComponent(d)}=${encodeURIComponent(f)}`).join(",")}canAccessSessionStorage(){return typeof navigator<"u"&&navigator.cookieEnabled&&typeof Storage<"u"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),gE=(()=>{class t{constructor(){this.document=u(Z)}getStateParamFromCurrentUrl(e){let n=e||this.getCurrentUrl();if(!n)return null;let o=new URL(n);return new URLSearchParams(o.search).get("state")}getCurrentUrl(){return this.document?.defaultView?.location.toString()??null}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vl=(()=>{class t{constructor(){this.checkSessionService=u(ml),this.currentUrlService=u(gE),this.silentRenewService=u(gl),this.userService=u(jn),this.loggerService=u(F),this.authStateService=u(et),this.callbackService=u(_p),this.refreshSessionService=u(Pp),this.periodicallyTokenCheckService=u(hE),this.popupService=u(es),this.autoLoginService=u(OI),this.storagePersistenceService=u(se),this.publicEventsService=u(Xt)}getConfig(e,n){let o=this.currentUrlService.getStateParamFromCurrentUrl(n);return o?this.getConfigurationWithUrlState([e],o):e}checkAuth(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));this.publicEventsService.fireEvent(De.CheckingAuth);let i=this.currentUrlService.getStateParamFromCurrentUrl(o);return this.getConfig(e,o)?this.checkAuthWithConfig(e,n,o):E(()=>new Error(`could not find matching config for state ${i}`))}checkAuthMultiple(e,n){let o=this.currentUrlService.getStateParamFromCurrentUrl(n);if(o){let a=this.getConfigurationWithUrlState(e,o);return a?this.composeMultipleLoginResults(e,a,n):E(()=>new Error(`could not find matching config for state ${o}`))}let i=e,s=i.map(a=>this.checkAuthWithConfig(a,i,n));return Ft(s)}checkAuthIncludingServer(e,n){return e?this.checkAuthWithConfig(e,n).pipe(j(o=>{let{isAuthenticated:i}=o;return i?m(o):this.refreshSessionService.forceRefreshSession(e,n).pipe(H(s=>{s?.isAuthenticated&&this.startCheckSessionAndValidation(e,n)}))})):E(()=>new Error("Please provide a configuration before setting up the module"))}checkAuthWithConfig(e,n,o){if(!e){let d="Please provide at least one configuration before setting up the module";return this.loggerService.logError(e,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let i=o||this.currentUrlService.getCurrentUrl();if(!i){let d="No URL found!";return this.loggerService.logError(e,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:""})}let{configId:s,authority:a}=e;if(this.loggerService.logDebug(e,`Working with config '${s}' using '${a}'`),this.popupService.isCurrentlyInPopup(e))return this.popupService.sendMessageToMainWindow(i,e),m({isAuthenticated:!1,errorMessage:"",userData:null,idToken:"",accessToken:"",configId:""});let c=this.callbackService.isCallback(i,e);return this.loggerService.logDebug(e,`currentUrl to check auth with: '${i}'`),(c?this.callbackService.handleCallbackAndFireEvents(i,e,n):m({})).pipe(w(()=>{let d=this.authStateService.areAuthStorageTokensValid(e);return this.loggerService.logDebug(e,`checkAuth completed. Firing events now. isAuthenticated: ${d}`),d&&(this.startCheckSessionAndValidation(e,n),c||(this.authStateService.setAuthenticatedAndFireEvent(n),this.userService.publishUserDataIfExists(e,n))),this.publicEventsService.fireEvent(De.CheckingAuthFinished),{isAuthenticated:d,userData:this.userService.getUserDataFromStore(e),accessToken:this.authStateService.getAccessToken(e),idToken:this.authStateService.getIdToken(e),configId:s}}),H(({isAuthenticated:d})=>{d&&this.autoLoginService.checkSavedRedirectRouteAndNavigate(e)}),G(({message:d})=>(this.loggerService.logError(e,d),this.publicEventsService.fireEvent(De.CheckingAuthFinishedWithError,d),m({isAuthenticated:!1,errorMessage:d,userData:null,idToken:"",accessToken:"",configId:s}))))}startCheckSessionAndValidation(e,n){this.checkSessionService.isCheckSessionConfigured(e)&&this.checkSessionService.start(e),this.periodicallyTokenCheckService.startTokenValidationPeriodically(n,e),this.silentRenewService.isSilentRenewConfigured(e)&&this.silentRenewService.getOrCreateIframe(e)}getConfigurationWithUrlState(e,n){if(!n)return null;for(let o of e)if(this.storagePersistenceService.read("authStateControl",o)===n)return o;return null}composeMultipleLoginResults(e,n,o){let i=e.filter(c=>c.configId!==n.configId),s=this.checkAuthWithConfig(n,e,o),a=i.map(c=>{let{redirectUrl:l}=c;return this.checkAuthWithConfig(c,e,l)});return Ft([s,...a])}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yl=(()=>{class t{constructor(){this.document=u(Z)}redirectTo(e){this.document.location.href=e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wl=(()=>{class t{constructor(){this.loggerService=u(F),this.flowHelper=u(At)}hasConfigValidResponseType(e){return this.flowHelper.isCurrentFlowAnyImplicitFlow(e)||this.flowHelper.isCurrentFlowCodeFlow(e)?!0:(this.loggerService.logWarning(e,"module configured incorrectly, invalid response_type. Check the responseType in the config"),!1)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mE=(()=>{class t{constructor(){this.loggerService=u(F),this.urlService=u(tt),this.dataService=u(en),this.storagePersistenceService=u(se)}postParRequest(e,n){let o=new pe;o=o.set("Content-Type","application/x-www-form-urlencoded");let i=this.storagePersistenceService.read("authWellKnownEndPoints",e);if(!i)return E(()=>new Error("Could not read PAR endpoint because authWellKnownEndPoints are not given"));let s=i.parEndpoint;return s?this.urlService.createBodyForParCodeFlowRequest(e,n).pipe(j(a=>this.dataService.post(s,a,e,o).pipe(jt(2),w(c=>(this.loggerService.logDebug(e,"par response: ",c),{expiresIn:c.expires_in,requestUri:c.request_uri})),G(c=>{let l="There was an error on ParService postParRequest";return this.loggerService.logError(e,l,c),E(()=>new Error(l))})))):E(()=>new Error("Could not read PAR endpoint from authWellKnownEndpoints"))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vE=(()=>{class t{constructor(){this.loggerService=u(F),this.responseTypeValidationService=u(wl),this.urlService=u(tt),this.redirectService=u(yl),this.authWellKnownService=u(Un),this.popupService=u(es),this.checkAuthService=u(vl),this.parService=u(mE)}loginPar(e,n){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(j(()=>this.parService.postParRequest(e,n))).subscribe(o=>{this.loggerService.logDebug(e,"par response: ",o);let i=this.urlService.getAuthorizeParUrl(o.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",i),!i){this.loggerService.logError(e,`Could not create URL with param ${o.requestUri}: '${i}'`);return}n?.urlHandler?n.urlHandler(i):this.redirectService.redirectTo(i)})}loginWithPopUpPar(e,n,o,i){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),E(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(j(()=>this.parService.postParRequest(e,o)),j(a=>{this.loggerService.logDebug(e,`par response: ${a}`);let c=this.urlService.getAuthorizeParUrl(a.requestUri,e);if(this.loggerService.logDebug(e,"par request url: ",c),!c){let l=`Could not create URL with param ${a.requestUri}: 'url'`;return this.loggerService.logError(e,l),E(()=>new Error(l))}return this.popupService.openPopUp(c,i,e),this.popupService.result$.pipe(me(1),j(l=>{let{userClosed:d,receivedUrl:f}=l;return d?m({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,n,f)}))}))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),yE=(()=>{class t{constructor(){this.loggerService=u(F),this.responseTypeValidationService=u(wl),this.urlService=u(tt),this.authWellKnownService=u(Un),this.popupService=u(es),this.checkAuthService=u(vl)}loginWithPopUpStandard(e,n,o,i){let{configId:s}=e;if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){let a="Invalid response type!";return this.loggerService.logError(e,a),E(()=>new Error(a))}return this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow with popup, no auth data"),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).pipe(j(()=>this.urlService.getAuthorizeUrl(e,o)),H(a=>this.popupService.openPopUp(a,i,e)),j(()=>this.popupService.result$.pipe(me(1),j(a=>{let{userClosed:c,receivedUrl:l}=a;return c?m({isAuthenticated:!1,errorMessage:"User closed popup",userData:null,idToken:"",accessToken:"",configId:s}):this.checkAuthService.checkAuth(e,n,l)}))))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wE=(()=>{class t{constructor(){this.loggerService=u(F),this.responseTypeValidationService=u(wl),this.urlService=u(tt),this.redirectService=u(yl),this.authWellKnownService=u(Un),this.flowsDataService=u(Se)}loginStandard(e,n){if(!this.responseTypeValidationService.hasConfigValidResponseType(e)){this.loggerService.logError(e,"Invalid response type!");return}this.loggerService.logDebug(e,"BEGIN Authorize OIDC Flow, no auth data"),this.flowsDataService.setCodeFlowInProgress(e),this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(e).subscribe(()=>{let{urlHandler:o}=n||{};this.flowsDataService.resetSilentRenewRunning(e),this.urlService.getAuthorizeUrl(e,n).subscribe(i=>{if(!i){this.loggerService.logError(e,"Could not create URL",i);return}o?o(i):this.redirectService.redirectTo(i)})})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),DE=(()=>{class t{constructor(){this.parLoginService=u(vE),this.popUpLoginService=u(yE),this.standardLoginService=u(wE),this.storagePersistenceService=u(se),this.popupService=u(es)}login(e,n){if(!e)throw new Error("Please provide a configuration before setting up the module");let{usePushedAuthorisationRequests:o}=e;return n?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",n.customParams,e),o?this.parLoginService.loginPar(e,n):this.standardLoginService.loginStandard(e,n)}loginWithPopUp(e,n,o,i){if(!e)throw new Error("Please provide a configuration before setting up the module");if(this.popupService.isCurrentlyInPopup(e))return m({errorMessage:"There is already a popup open."});let{usePushedAuthorisationRequests:a}=e;return o?.customParams&&this.storagePersistenceService.write("storageCustomParamsAuthRequest",o.customParams,e),a?this.parLoginService.loginWithPopUpPar(e,n,o,i):this.popUpLoginService.loginWithPopUpStandard(e,n,o,i)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SE(t){let r=y({},t);for(let e in t)(t[e]===void 0||t[e]===null)&&delete r[e];return r}var IE=(()=>{class t{constructor(){this.loggerService=u(F),this.dataService=u(en),this.storagePersistenceService=u(se),this.urlService=u(tt),this.checkSessionService=u(ml),this.resetAuthDataService=u(_t),this.redirectService=u(yl)}logoff(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));this.loggerService.logDebug(e,"logoff, remove auth",o);let{urlHandler:i,customParams:s}=o||{},a=this.urlService.getEndSessionUrl(e,s);return a?this.checkSessionService.serverStateChanged(e)?(this.loggerService.logDebug(e,"Server State changed. Logoff was only locally. Returning."),m(null)):i?(this.loggerService.logDebug(e,`Custom UrlHandler found. Using this to handle logoff with url '${a}'`),i(a),this.resetAuthDataService.resetAuthorizationData(e,n),m(null)):this.logoffInternal(o,a,e,n):(this.loggerService.logDebug(e,"No endsessionUrl present. Logoff was only locally. Returning."),m(null))}logoffLocal(e,n){this.resetAuthDataService.resetAuthorizationData(e,n),this.checkSessionService.stop()}logoffLocalMultiple(e){e.forEach(n=>this.logoffLocal(n,e))}logoffAndRevokeTokens(e,n,o){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let{revocationEndpoint:i}=this.storagePersistenceService.read("authWellKnownEndPoints",e)||{};return i?this.storagePersistenceService.getRefreshToken(e)?this.revokeRefreshToken(e).pipe(j(s=>this.revokeAccessToken(e)),G(s=>{let a="revoke token failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}),P(()=>this.logoff(e,n,o))):this.revokeAccessToken(e).pipe(G(s=>{let a="revoke accessToken failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}),P(()=>this.logoff(e,n,o))):(this.loggerService.logDebug(e,"revocation endpoint not supported"),this.logoff(e,n,o))}revokeAccessToken(e,n){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let o=n||this.storagePersistenceService.getAccessToken(e),i=this.urlService.createRevocationEndpointBodyAccessToken(o,e);return this.sendRevokeRequest(e,i)}revokeRefreshToken(e,n){if(!e)return E(()=>new Error("Please provide a configuration before setting up the module"));let o=n||this.storagePersistenceService.getRefreshToken(e),i=this.urlService.createRevocationEndpointBodyRefreshToken(o,e);return this.sendRevokeRequest(e,i)}logoffInternal(e,n,o,i){let{logoffMethod:s,customParams:a}=e||{};if(!s||s==="GET")return this.redirectService.redirectTo(n),this.resetAuthDataService.resetAuthorizationData(o,i),m(null);let{state:c,logout_hint:l,ui_locales:d}=a||{},{clientId:f}=o,g=this.storagePersistenceService.getIdToken(o),h=this.urlService.getPostLogoutRedirectUrl(o),v=this.getHeaders(),{url:D}=this.urlService.getEndSessionEndpoint(o),_=SE({id_token_hint:g,client_id:f,post_logout_redirect_uri:h,state:c,logout_hint:l,ui_locales:d});return this.resetAuthDataService.resetAuthorizationData(o,i),this.dataService.post(D,_,o,v)}sendRevokeRequest(e,n){let o=this.urlService.getRevocationEndpointUrl(e),i=this.getHeaders();return this.dataService.post(o,n,e,i).pipe(jt(2),j(s=>(this.loggerService.logDebug(e,"revocation endpoint post response: ",s),m(s))),G(s=>{let a="Revocation request failed";return this.loggerService.logError(e,a,s),E(()=>new Error(a))}))}getHeaders(){let e=new pe;return e=e.set("Content-Type","application/x-www-form-urlencoded"),e}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xt=(()=>{class t{constructor(){this.checkSessionService=u(ml),this.checkAuthService=u(vl),this.userService=u(jn),this.tokenHelperService=u(Qi),this.configurationService=u(xp),this.authStateService=u(et),this.flowsDataService=u(Se),this.callbackService=u(_p),this.logoffRevocationService=u(IE),this.loginService=u(DE),this.refreshSessionService=u(Pp),this.urlService=u(tt),this.authWellKnownService=u(Un),this.userData=Gi(this.userData$,{requireSync:!0}),this.authenticated=Gi(this.isAuthenticated$,{requireSync:!0})}get userData$(){return this.userService.userData$}get isAuthenticated$(){return this.authStateService.authenticated$}get checkSessionChanged$(){return this.checkSessionService.checkSessionChanged$}get stsCallback$(){return this.callbackService.stsCallback$}preloadAuthWellKnownDocument(e){return this.configurationService.getOpenIDConfiguration(e).pipe(P(n=>this.authWellKnownService.queryAndStoreAuthWellKnownEndPoints(n)))}getConfigurations(){return this.configurationService.getAllConfigurations()}getConfiguration(e){return this.configurationService.getOpenIDConfiguration(e)}getUserData(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.userService.getUserDataFromStore(n)))}checkAuth(e,n){return this.configurationService.getOpenIDConfigurations(n).pipe(P(({allConfigs:o,currentConfig:i})=>this.checkAuthService.checkAuth(i,o,e)))}checkAuthMultiple(e){return this.configurationService.getOpenIDConfigurations().pipe(P(({allConfigs:n})=>this.checkAuthService.checkAuthMultiple(n,e)))}isAuthenticated(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.isAuthenticated(n)))}checkAuthIncludingServer(e){return this.configurationService.getOpenIDConfigurations(e).pipe(P(({allConfigs:n,currentConfig:o})=>this.checkAuthService.checkAuthIncludingServer(o,n)))}getAccessToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getAccessToken(n)))}getIdToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getIdToken(n)))}getRefreshToken(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getRefreshToken(n)))}getAuthenticationResult(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.authStateService.getAuthenticationResult(n)))}getPayloadFromIdToken(e=!1,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>{let i=this.authStateService.getIdToken(o);return this.tokenHelperService.getPayloadFromToken(i,e,o)}))}getPayloadFromAccessToken(e=!1,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>{let i=this.authStateService.getAccessToken(o);return this.tokenHelperService.getPayloadFromToken(i,e,o)}))}setState(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>this.flowsDataService.setAuthStateControl(e,o)))}getState(e){return this.configurationService.getOpenIDConfiguration(e).pipe(w(n=>this.flowsDataService.getAuthStateControl(n)))}authorize(e,n){this.configurationService.getOpenIDConfiguration(e).subscribe(o=>this.loginService.login(o,n))}authorizeWithPopUp(e,n,o){return this.configurationService.getOpenIDConfigurations(o).pipe(P(({allConfigs:i,currentConfig:s})=>this.loginService.loginWithPopUp(s,i,e,n)))}forceRefreshSession(e,n){return this.configurationService.getOpenIDConfigurations(n).pipe(P(({allConfigs:o,currentConfig:i})=>this.refreshSessionService.userForceRefreshSession(i,o,e)))}logoffAndRevokeTokens(e,n){return this.configurationService.getOpenIDConfigurations(e).pipe(P(({allConfigs:o,currentConfig:i})=>this.logoffRevocationService.logoffAndRevokeTokens(i,o,n)))}logoff(e,n){return this.configurationService.getOpenIDConfigurations(e).pipe(P(({allConfigs:o,currentConfig:i})=>this.logoffRevocationService.logoff(i,o,n)))}logoffLocal(e){this.configurationService.getOpenIDConfigurations(e).subscribe(({allConfigs:n,currentConfig:o})=>this.logoffRevocationService.logoffLocal(o,n))}logoffLocalMultiple(){this.configurationService.getOpenIDConfigurations().subscribe(({allConfigs:e})=>this.logoffRevocationService.logoffLocalMultiple(e))}revokeAccessToken(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(P(o=>this.logoffRevocationService.revokeAccessToken(o,e)))}revokeRefreshToken(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(P(o=>this.logoffRevocationService.revokeRefreshToken(o,e)))}getEndSessionUrl(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(w(o=>this.urlService.getEndSessionUrl(o,e)))}getAuthorizeUrl(e,n){return this.configurationService.getOpenIDConfiguration(n).pipe(P(o=>this.urlService.getAuthorizeUrl(o,e?{customParams:e}:void 0)))}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),EE=(()=>{class t{read(e){return sessionStorage.getItem(e)}write(e,n){sessionStorage.setItem(e,n)}remove(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Fp(t,...r){let e=CE(t);for(let n of r)e.push(...n.\u0275providers);return Ct(e)}function CE(t){return[{provide:Dp,useValue:t},t?.loader||{provide:Ki,useFactory:EI,deps:[Dp]},{provide:Yi,useClass:EE},{provide:bp,useClass:CI}]}var Lp=(()=>{class t{read(e){return localStorage.getItem(e)}write(e,n){localStorage.setItem(e,n)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ts=class t{constructor(r){this.oidcSecurityService=r}login(r){this.oidcSecurityService.authorize(r)}static \u0275fac=function(e){return new(e||t)(dt(xt))};static \u0275cmp=we({type:t,selectors:[["app-login"]],decls:20,vars:0,consts:[[1,"flex","h-screen","items-center","justify-center"],[1,"flex","h-xl","max-h-xl","max-w-2xl","bg-white","border","border-gray-200","rounded-lg","shadow-2xl"],["id","login-left",1,"hidden","lg:block","w-1/2"],["src","signin-bg.png","alt","Bytepipe",1,"object-cover","w-full","h-full","rounded-l-lg"],["id","login-right",1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","py-6","lg:px-12"],[1,"w-full","max-w-[400px]","space-y-8"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"relative"],[1,"absolute","inset-0","flex","items-center"],[1,"w-full","border-t","border-gray-300"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","bg-white","text-gray-500"],[1,"grid","grid-cols-2","justify-items-center"],[1,"cursor-pointer",3,"click"],["src","logo-google.png",1,"w-12","h-12","rounded"],["src","logo-microsoft.png",1,"w-12","h-12","rounded"]],template:function(e,n){e&1&&(U(0,"div",0)(1,"div",1)(2,"div",2),te(3,"img",3),W(),U(4,"div",4)(5,"div",5)(6,"div",6)(7,"h1",7),te(8,"app-logo"),W()(),U(9,"div",8)(10,"div",9),te(11,"div",10),W(),U(12,"div",11)(13,"span",12),ue(14,"Login to BytePipe using"),W()()(),U(15,"div",13)(16,"a",14),pr("click",function(){return n.login("google")}),te(17,"img",15),W(),U(18,"a",14),pr("click",function(){return n.login("microsoft")}),te(19,"img",16),W()()()()()())},dependencies:[Ln],encapsulation:2})};var ns=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=we({type:t,selectors:[["app-sidebar"]],decls:32,vars:0,consts:[[1,"absolute","left-0","top-0","z-9999","flex","h-screen","w-1/6","flex-col","overflow-y-hidden","bg-gray-800","duration-300","ease-linear"],["routerLink","/",1,"text-xl","p-2","cursor-pointer","flex","justify-center"],[1,"no-scrollbar","flex","flex-col","h-full","py-4","text-gray-300"],[1,"px-4","h-full","grid","content-between"],[1,"flex","flex-col","gap-1.5"],[1,"relative","flex","items-center","gap-2.5","px-4","py-2","cursor-pointer"],[1,"fa","fa-diagram-project"],[1,"fa","fa-file-contract"],[1,"fa","fa-clipboard-check"],[1,"fa","fa-bell"],[1,"border-gray-700"],[1,"fa","fa-users"],[1,"fa","fa-file-circle-check"]],template:function(e,n){e&1&&(U(0,"aside",0)(1,"a",1),te(2,"app-logo"),W(),U(3,"div",2)(4,"nav",3)(5,"ul",4)(6,"li")(7,"a",5),te(8,"i",6),ue(9,"Projects "),W()(),U(10,"li")(11,"a",5),te(12,"i",7),ue(13,"Reports "),W()(),U(14,"li")(15,"a",5),te(16,"i",8),ue(17,"Rules "),W()(),U(18,"li")(19,"a",5),te(20,"i",9),ue(21,"Alerts "),W()()(),U(22,"ul",4),te(23,"hr",10),U(24,"li")(25,"a",5),te(26,"i",11),ue(27,"Users "),W()(),U(28,"li")(29,"a",5),te(30,"i",12),ue(31,"Audit "),W()()()()()())},dependencies:[Ln],encapsulation:2})};var rs=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=we({type:t,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"flex","justify-content-between","bg-color","p-4","text-dark"],[1,""],[1,"text-uppercase","fw-bold","fs-5"],[1,"flex","gap-4","fs-6"],["routerLink","/",1,"cursor"],["routerLink","/contact",1,"cursor"]],template:function(e,n){e&1&&(U(0,"nav",0)(1,"div",1)(2,"p",2),ue(3,"Logo"),W()(),U(4,"div",3)(5,"p",4),ue(6,"Home"),W(),U(7,"p",5),ue(8,"Contact"),W()()())},encapsulation:2})};var os=class t{constructor(r){this.httpClient=r}baseUrl="http://localhost:8080/api";create(r){return this.httpClient.post(this.baseUrl+"/users",r)}static \u0275fac=function(e){return new(e||t)(T(Dr))};static \u0275prov=p({token:t,factory:t.\u0275fac,providedIn:"root"})};var is=class t{constructor(r,e,n){this.router=r;this.userService=e;this.securityService=n}ngOnInit(){console.log("logging test"),this.securityService.checkAuthMultiple(window.location.toString()).subscribe(r=>{let e=r.find(n=>n.isAuthenticated);e?(console.log("configId "+e.configId),console.log("User Data : "+JSON.stringify(e.userData)),localStorage.setItem("active-provider",e.configId??""),this.userService.create(e.userData).subscribe(n=>{console.log(JSON.stringify(n))})):this.router.navigateByUrl("/signin")})}static \u0275fac=function(e){return new(e||t)(dt(Mt),dt(os),dt(xt))};static \u0275cmp=we({type:t,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,""],[1,"flex"],[1,"p-4"]],template:function(e,n){e&1&&(U(0,"section",0),te(1,"app-navbar"),U(2,"main",1)(3,"article"),te(4,"app-sidebar"),W(),U(5,"article",2),te(6,"router-outlet"),W()()())},dependencies:[Br,ns,rs],encapsulation:2})};var jp=[{path:"",component:is},{path:"signin",component:ts}];var Up={config:[{configId:"google",authority:"https://accounts.google.com",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"309470803706-erf2diogu09ah4eapebn6ianedf8gqdr.apps.googleusercontent.com",scope:"openid profile email",responseType:"id_token token",logLevel:Rt.Debug,silentRenew:!0,autoUserInfo:!0,useRefreshToken:!0,ignoreNonceAfterRefresh:!0,allowUnsafeReuseRefreshToken:!0,triggerRefreshWhenIdTokenExpired:!1,silentRenewUrl:window.location.origin+"/silent-renew.html",triggerAuthorizationResultEvent:!0,checkRedirectUrlWhenCheckingIfIsCallback:!1,renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:["http://localhost:8080"]},{configId:"microsoft",authority:"https://login.microsoftonline.com/5d6c98ab-f906-4b12-9d24-ee1c69f44321/v2.0",redirectUrl:window.location.origin,postLogoutRedirectUri:window.location.origin,clientId:"cd1b1632-df2b-42bc-8649-d32e008b3fa5",scope:"openid profile email offline_access",responseType:"code",logLevel:Rt.Debug,silentRenew:!0,autoUserInfo:!1,useRefreshToken:!0,issValidationOff:!0,ignoreNonceAfterRefresh:!0,allowUnsafeReuseRefreshToken:!0,triggerRefreshWhenIdTokenExpired:!1,disableIdTokenValidation:!0,checkRedirectUrlWhenCheckingIfIsCallback:!0,silentRenewUrl:window.location.origin+"/silent-renew.html",renewTimeBeforeTokenExpiresInSeconds:10,secureRoutes:["http://localhost:8080"]}]};var ss=class t{constructor(r){this.oidcSecurityService=r}intercept(r,e){if(!r.url.includes("/api/"))return e.handle(r);let n=localStorage.getItem("active-provider");return n&&this.oidcSecurityService.getIdToken(n).subscribe(o=>{o&&(r=r.clone({headers:r.headers.set("Authorization","Bearer "+o)}))}),e.handle(r)}static \u0275fac=function(e){return new(e||t)(T(xt))};static \u0275prov=p({token:t,factory:t.\u0275fac})};var Vp={providers:[Qf({eventCoalescing:!0}),vc(yc()),vp(jp),Fp(Up),{provide:gc,useClass:ss,multi:!0,deps:[xt]},{provide:Yi,useClass:Lp}]};var as=class t{ngOnInit(){localStorage.removeItem("oauth2-config-id")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=we({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&te(0,"router-outlet")},dependencies:[Br],encapsulation:2})};Oh(as,Vp).catch(t=>console.error(t));
